{"version":3,"sources":["webpack:///webpack/bootstrap 61029fa2d5656d23e623","webpack:///./src/main/js/index.js","webpack:///external \"Ext\"","webpack:///./src/main/js/util/Globals.js","webpack:///./src/main/js/util/Parsing.js","webpack:///./src/main/js/util/Object.js","webpack:///./src/main/js/cache/UserRepository.js","webpack:///./src/main/js/model/Base.js","webpack:///./src/main/js/model/User.js","webpack:///./src/main/js/util/Time.js","webpack:///./src/main/js/common/toast/Manager.js","webpack:///./src/main/js/mixins/HasLinks.js","webpack:///./src/main/js/model/converters/PresenceInfo.js","webpack:///./src/main/js/proxy/reader/Json.js","webpack:///./src/main/js/app/chat/StateStore.js","webpack:///./src/main/js/common/StateStore.js","webpack:///./src/main/js/mixins/Avatar.js","webpack:///./src/main/js/mixins/Delegation.js","webpack:///./src/main/js/model/PresenceInfo.js","webpack:///./src/main/js/model/RoomInfo.js","webpack:///./src/main/js/model/converters/ContentRangeDescription.js","webpack:///./src/main/js/model/converters/DCCreatorToAuthor.js","webpack:///./src/main/js/model/converters/Date.js","webpack:///./src/main/js/model/converters/Future.js","webpack:///./src/main/js/model/converters/GroupByTime.js","webpack:///./src/main/js/model/converters/Items.js","webpack:///./src/main/js/model/converters/Links.js","webpack:///./src/main/js/model/converters/Synthetic.js","webpack:///./src/main/js/model/converters/Users.js","webpack:///./src/main/js/model/converters/VideoSources.js","webpack:///./src/main/js/model/resolvers/VideoPosters.js","webpack:///./src/main/js/model/resolvers/videoservices/Vimeo.js","webpack:///./src/main/js/model/resolvers/videoservices/Youtube.js","webpack:///./src/main/js/overrides/Component.js","webpack:///./src/main/js/overrides/EventManager.js","webpack:///./src/main/js/overrides/Ext.js","webpack:///./src/main/js/overrides/JSON.js","webpack:///./src/main/js/overrides/XTemplate.js","webpack:///./src/main/js/overrides/app/Application.js","webpack:///./src/main/js/overrides/app/Controller.js","webpack:///./src/main/js/overrides/builtins/Array.js","webpack:///./src/main/js/overrides/builtins/Console.js","webpack:///./src/main/js/overrides/builtins/Element.js","webpack:///./src/main/js/overrides/builtins/Error.js","webpack:///./src/main/js/overrides/builtins/Function.js","webpack:///./src/main/js/overrides/builtins/Node.js","webpack:///./src/main/js/overrides/builtins/Number.js","webpack:///./src/main/js/overrides/builtins/RegExp.js","webpack:///./src/main/js/overrides/builtins/String.js","webpack:///./src/main/js/overrides/builtins/Window.js","webpack:///./src/main/js/overrides/container/Viewport.js","webpack:///./src/main/js/overrides/data/Connection.js","webpack:///./src/main/js/overrides/data/proxy/Server.js","webpack:///./src/main/js/overrides/dd/DragDropManager.js","webpack:///./src/main/js/overrides/dom/Element.js","webpack:///./src/main/js/overrides/grid/Panel.js","webpack:///./src/main/js/overrides/grid/column/Column.js","webpack:///./src/main/js/overrides/grid/plugin/BufferedRenderer.js","webpack:///./src/main/js/overrides/index.js","webpack:///./src/main/js/overrides/layout/container/Container.js","webpack:///./src/main/js/overrides/menu/Menu.js","webpack:///./src/main/js/overrides/panel/Panel.js","webpack:///./src/main/js/overrides/picker/Color.js","webpack:///./src/main/js/overrides/selection/CellModel.js","webpack:///./src/main/js/overrides/tab/Panel.js","webpack:///./src/main/js/overrides/tip/QuickTip.js","webpack:///./src/main/js/overrides/view/Table.js","webpack:///./src/main/js/proxy/Rest.js","webpack:///./src/main/js/proxy/reader/Base.js","webpack:///./src/main/js/proxy/writer/Json.js","webpack:///./src/main/js/util/Base64.js","webpack:///./src/main/js/util/Localization.js","webpack:///./src/main/js/util/Promise.js","webpack:///./src/main/js/util/Rects.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///index).+js$"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACrCA;;AAEA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,+CAA8C;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA4B,UAAU;;AAEtC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,kDAAkD;;;AAGnE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAU;AACV;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;;AAE5B;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;;;;;;;ACvJA,sB;;;;;;;ACCA;;AAEA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAuC,SAAS,EAAE;AAClD,oCAAmC,EAAE;;;AAGrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B,IAAG;AACH;AACA,GAAE;;AAEF;AACA,0DAAyD,YAAY;;AAErE;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,aAAY,iDAAiD;AAC7D;AACA,GAAE;;AAEF;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA,GAAE;;;AAGF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA,mBAAkB,UAAU;;AAE5B;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA,IAAG;AACH,GAAE;;;AAGF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB,aAAY,SAAS;AACrB,aAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;;;AAGA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB,aAAY,SAAS;AACrB,aAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,cAAa,QAAQ;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC,0BAA0B;AAC1D;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA,UAAS,OAAO,OAAO,aAAa,EAAE;AACtC;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAkB,aAAa;AAC/B;AACA,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sFAAqF,IAAI,SAAS,IAAI,SAAS,IAAI,mBAAmB,EAAE;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,wBAAuB,WAAW;AAClC,wBAAuB;AACvB;AACA;AACA,2DAA0D,aAAa;AACvE;AACA;AACA;AACA;AACA,gDAA+C,iCAAiC;AAChF;AACA;AACA;AACA;AACA;AACA,gCAA+B,WAAW;AAC1C,gCAA+B,UAAU;AACzC;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA,YAAW;;AAEX;AACA;;AAEA;AACA,sBAAqB;AACrB,UAAS;AACT;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAe,uBAAuB;;AAEtC;AACA,kBAAiB,gBAAgB,EAAE;AACnC;;AAEA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA,cAAa,WAAW;;AAExB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,GAAE;;;AAGF;AACA,iCAAgC,wBAAwB,6BAA6B,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,iCAAiC,GAAG;;AAEjK;AACA;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;AC74BD;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAY,gCAAgC;AAC5C,aAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oCAAmC;;AAEnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;;AAEA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,8BAA6B;AAC7B,GAAE;;AAEF;AACA;AACA,aAAY,OAAO;AACnB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;;AAEN;AACA,iCAAgC;AAChC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF,EAAC;;;;;;;;AC3WD;;AAEA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC,oDAAoD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;ACjED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,gCAAgC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,wCAAuC,gCAAgC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAqB;;AAErB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA,IAAG;AACH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,qCAAqC;AAC7D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,SAAQ;;AAER;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,OAAM;AACN;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,kCAAiC,+CAA+C,EAAE;AAClF;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;;AAEA,IAAG;AACH,GAAE;;AAEF;;;AAGA;AACA;AACA;AACA,aAAY,SAAS;AACrB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,SAAQ;AACR,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,SAAQ;AACR,QAAO;AACP,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,4BAA2B,QAAQ;;AAEnC,iCAAgC,QAAQ;;AAExC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAI;AACJ;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,GAAE;;AAEF;AACA;AACA;AACA;;AAEA,6BAA4B;;AAE5B,kCAAiC,WAAW,EAAE;;AAE9C;AACA;AACA,UAAS,QAAQ;AACjB;AACA,+BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAqB;;AAErB;;AAEA;AACA,WAAU,QAAQ;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA,KAAI;;AAEJ;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,OAAM;AACN,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH,8BAA6B,eAAe,EAAE;;AAE9C;AACA,GAAE;;AAEF;AACA;AACA;AACA,0BAAyB,8BAA8B,EAAE;AACzD,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;;;AAGA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA,oBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,4BAA2B;;AAE3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;;AAEA,qBAAoB,uCAAuC;;AAE3D;AACA;AACA;;AAEA,0EAAyE,KAAK,wBAAwB;AACtG;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,EAAC;;;;;;;;;ACvyBD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA,8BAA6B;;AAE7B;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA,aAAY,cAAc;;AAE1B;AACA,IAAG,gDAAgD;AACnD,IAAG;AACH,yBAAwB,eAAe;AACvC,2BAA0B,2DAA2D;AACrF,aAAY;AACZ,IAAG;AACH,IAAG,wGAAwG;AAC3G,IAAG,gDAAgD;AACnD,IAAG,6CAA6C;AAChD,IAAG,0GAA0G;AAC7G,IAAG,iDAAiD;AACpD,IAAG,gFAAgF;AACnF,IAAG,kDAAkD;AACrD,IAAG,+CAA+C;AAClD,IAAG,8CAA8C;AACjD,IAAG,kEAAkE;AACrE,IAAG;AACH,aAAY,WAAW;;AAEvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG,EAAE;AACL,IAAG,+CAA+C;AAClD,IAAG;AACH;AACA;AACA,KAAI;;AAEJ;AACA,IAAG,gEAAgE,gDAAgD,EAAE;AACrH,IAAG,+EAA+E,+CAA+C,GAAG;AACpI,IAAG,2EAA2E,2CAA2C;AACzH;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX,iBAAgB;AAChB,0BAAyB;AACzB,2BAA0B;;AAE1B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA,KAAI;AACJ,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB;AAClB,yBAAwB;AACxB,WAAU;AACV;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,aAAY,eAAe;AAC3B,aAAY,UAAU;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA,6BAA4B,cAAc;;AAE1C;AACA;AACA;AACA,sBAAqB;AACrB,kCAAiC;AACjC;AACA;;AAEA;;AAEA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,oCAAmC;AACnC,oCAAmC;;AAEnC;AACA;AACA;AACA;AACA,8CAA6C,cAAc,EAAE;AAC7D;AACA;AACA;;AAEA,4BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oCAAmC;AACnC;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,gBAAe;AACf,mBAAkB;AAClB;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA,0DAAyD;;AAEzD;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;;AAEA,sDAAqD;;AAErD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAAyD;;AAEzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;;AAEtB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA,0CAAyC,EAAE;;AAE3C,qCAAoC,GAAG,EAAE;AACzC;AACA,GAAE;;AAEF;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,EAAE;AACd;AACA,aAAY,SAAS;AACrB,aAAY,SAAS;AACrB,aAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,0BAAyB,EAAE;AAC3B;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,GAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA,gBAAe;AACf;;AAEA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA,gBAAe;AACf;;AAEA;AACA,oCAAmC,QAAQ;;AAE3C;;AAEA;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA,IAAG;;AAEH;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,eAAc,QAAQ;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,oCAAmC,EAAE,kBAAkB;AACvD;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS,SAAS;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+CAA8C;;AAE9C;AACA;AACA;;;AAGA,gBAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB;AACvB;AACA,IAAG;;AAEH;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,EAAC;;;;;;;;AC7mCD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA,IAAG,+DAA+D;AAClE,IAAG,yCAAyC;AAC5C,IAAG,mCAAmC;AACtC,IAAG,gCAAgC;AACnC,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,KAAI;;AAEJ,IAAG,yDAAyD;AAC5D,IAAG,gCAAgC;AACnC,IAAG,gCAAgC;AACnC,IAAG,mCAAmC;AACtC,IAAG,uCAAuC;AAC1C,IAAG,uCAAuC;AAC1C,IAAG,kEAAkE;AACrE,IAAG,sCAAsC;AACzC,IAAG,qCAAqC;AACxC,IAAG;AACH;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ,IAAG,sDAAsD;AACzD,IAAG,sCAAsC;AACzC,IAAG,wCAAwC;AAC3C,IAAG,+CAA+C;AAClD,IAAG;AACH;AACA,IAAG,EAAE;AACL,IAAG,6BAA6B;AAChC,IAAG,qCAAqC;AACxC,IAAG,iCAAiC;AACpC,IAAG,8BAA8B;AACjC,IAAG,kCAAkC;AACrC,IAAG,mCAAmC;AACtC,IAAG,gHAAgH;;AAEnH;AACA,IAAG,iCAAiC;AACpC,IAAG,gCAAgC;AACnC,IAAG,mCAAmC;AACtC,IAAG,iCAAiC;;AAEpC,IAAG,gCAAgC;AACnC,IAAG,gCAAgC;AACnC,IAAG,gCAAgC;;AAEnC;AACA,IAAG,yDAAyD;AAC5D,IAAG,wDAAwD;AAC3D,IAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA,4CAA2C,sBAAsB,EAAE;AACnE;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA,0CAAyC;AACzC;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH,uCAAsC;AACtC;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,KAAI;AACJ,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;;AAGH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,IAAG;;;AAGH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA,8BAA6B,aAAa;AAC1C;AACA;AACA;AACA,KAAI;AACJ,GAAE;;AAEF;AACA,4GAA2G,yBAAyB;;AAEpI;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ,GAAE;;AAEF;AACA;AACA;AACA,eAAc,yBAAyB;;AAEvC;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,EAAC;AACD;AACA,EAAC;;;;;;;;ACndD;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;;;AAIF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA;AACA,cAAa,KAAK;AAClB,cAAa,KAAK;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA,uCAAsC;AACtC,GAAE;;AAEF;AACA,yCAAwC;AACxC,GAAE;;AAEF;AACA,oCAAmC;AACnC,GAAE;;AAEF;AACA,6BAA4B;AAC5B,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,YAAY;AACzB,cAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA,8BAA6B;;AAE7B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,eAAc,YAAY;AAC1B,eAAc,YAAY;AAC1B,eAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,eAAc,YAAY;AAC1B,eAAc,YAAY;AAC1B,eAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;;;AAGA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC;;;;;;;;ACtcD;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO,0BAA0B;AAC7C,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iDAAgD,aAAa;AAC7D;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,+BAA8B,kCAAkC;AAChE;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;;AAEhB;AACA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAQ;AACR,IAAG;AACH;;AAEA,EAAC;;;;;;;;AC7HD;;AAEA;;;AAGA;;AAEA;AACA;AACA,6DAA4D;AAC5D;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,EAAC;;;;;;;;AC9DD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;AACD,mBAAkB,6CAA6C;AAC/D;AACA,EAAC;;;;;;;;ACtBD;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,kBAAiB,cAAc;;AAE/B;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,8BAA8B;AAC/D;;AAEA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;;AAEF;AACA;AACA,iEAAgE;;AAEhE;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,EAAC;;;;;;;;AChID;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,qBAAoB;AACpB;AACA,qBAAoB;AACpB,sBAAqB;;AAErB;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,GAAE;;AAEF;AACA;;AAEA,mBAAkB,QAAQ;;AAE1B;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,aAAa;AACzB,aAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,wBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,aAAY,OAAO;AACnB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA,iEAAgE;AAChE,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA,gEAA+D;AAC/D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd,GAAE;;AAEF;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,EAAC;;;;;;;;AC7XD;;AAEA;;;AAGA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA,EAAC;;;;;;;;AC7ED;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB;;AAElB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA,IAAG;;;AAGH;AACA;;AAEA,mCAAkC,aAAa;;AAE/C,eAAc,gBAAgB;AAC9B;AACA;AACA,wBAAuB;AACvB;;AAEA;AACA,IAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;;AAGH;AACA;AACA;;AAEA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,GAAE;;;AAGF,4BAA2B,aAAa,EAAE;;;AAG1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;;AAGF;AACA;AACA,GAAE;;;;AAIF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;ACrKD;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,4EAA2E;AAC3E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oCAAmC;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,oCAAoC;AACpD;AACA,iDAAgD;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;;AAGA;AACA;AACA,yBAAwB,QAAQ;AAChC;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAgE;AAChE;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB;;AAEpB;AACA;AACA;AACA,aAAY,SAAS;AACrB,2BAA0B;AAC1B,aAAY,QAAQ;AACpB;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;AC5JD;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,IAAG,kCAAkC;AACrC,IAAG,8BAA8B;AACjC,IAAG,oDAAoD;AACvD,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;;AAGF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,EAAC;;;;;;;;ACjGD;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,IAAG,+BAA+B;AAClC,IAAG,oCAAoC;AACvC,IAAG,qCAAqC;AACxC,IAAG,sCAAsC;AACzC,IAAG,iCAAiC;AACpC,IAAG,oCAAoC;AACvC,IAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF,gCAA+B,8BAA8B,EAAE;;AAE/D;AACA,0BAAyB;AACzB;AACA,GAAE;;AAEF;AACA,0BAAyB;AACzB;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,aAAY,6BAA6B;AACzC;AACA,IAAG;AACH;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;AC5ED;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACzBD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC;AACD;AACA,EAAC;;;;;;;;ACjBD;;AAEA;;;AAGA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;;;;;;;AC3CD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,mBAAkB,6CAA6C;AAC/D;AACA,EAAC;;;;;;;;ACxBD;;AAEA;;;AAGA,qFAAoF;AACpF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA,qCAAoC,YAAY,EAAE;;AAElD,4CAA2C,kBAAkB,EAAE;;AAE/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,8CAA6C,mBAAmB,EAAE;;AAElE,iDAAgD,oBAAoB,EAAE;;AAEtE,iDAAgD,sBAAsB,EAAE;;AAExE,gDAA+C,oBAAoB,EAAE;;AAErE,+CAA8C,mBAAmB,EAAE;;AAEnE,uBAAsB;AACtB,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,iCAAgC;AAChC;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,qCAAoC,gBAAgB;;AAEpD,iBAAgB,qBAAqB,EAAE;;AAEvC;AACA,sBAAqB,oBAAoB;AACzC,sBAAqB,yCAAyC,EAAE;;AAEhE;;AAEA,sBAAqB,oBAAoB;AACzC,sBAAqB,sBAAsB;AAC3C,sBAAqB,sBAAsB;;AAE3C,6DAA4D,oBAAoB;;AAEhF;AACA,IAAG;;AAEH;AACA,6BAA4B,yBAAyB;;AAErD;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;AChHD;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;;AAEA,YAAW,qCAAqC;AAChD;AACA,IAAG;AACH;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,QAAQ,mBAAmB;AAC5D;AACA;AACA;;AAEA,YAAW,qCAAqC;AAChD;AACA,IAAG;AACH;AACA,GAAE;;AAEF;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC,QAAQ,mBAAmB;AAC3D;AACA;AACA;;AAEA,YAAW,qCAAqC;AAChD;;AAEA,IAAG;AACH;AACA;AACA,EAAC;AACD,mBAAkB,6CAA6C;;AAE/D;AACA;AACA;AACA,EAAC;;;;;;;;AClFD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,UAAU;AAClC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;;AAEA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,EAAC;;;;;;;;;AC/DD;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,wBAAuB,mCAAmC;;AAE1D;AACA,yBAAwB,iCAAiC;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,EAAC;;;;;;;;AChCD;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,EAAC;AACD,mBAAkB,6CAA6C;;AAE/D;AACA;AACA;AACA,EAAC;;;;;;;;AC1GD;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,WAAU,QAAQ;AAClB;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,mBAAmB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA,wCAAuC;AACvC;AACA,gBAAe,eAAe;AAC9B;AACA;AACA;AACA;;AAEA,uBAAsB;AACtB,6BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,QAAO;AACP,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC;;;;;;;;;ACtGD;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,eAAe;AACrC,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;;AAGH;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;;ACpDD;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA,eAAc;;AAEd,qCAAoC,EAAE;AACtC,6DAA4D,EAAE;;AAE9D;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,+BAA8B,iCAAiC;AAC/D;AACA,wBAAuB,mBAAmB;AAC1C;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA,IAAG;;;AAGH,sCAAqC,EAAE;;AAEvC;AACA;;AAEA;AACA,IAAG;;;AAGH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,EAAC;;;;;;;;ACjGD;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA,sCAAqC,EAAE;;AAEvC;AACA;AACA,IAAG;;AAEH,wCAAuC,EAAE;;AAEzC;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACzCD;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,yBAAwB,sBAAsB;AAC9C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;;AAEN;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,kDAAiD,aAAa;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,iBAAgB,iBAAiB;AACjC;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,EAAC;;;;;;;;AC/FD;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA,GAAE;;AAEF;AACA,EAAC;;;;;;;;ACzCD;;AAEA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa;AACb;AACA;AACA,YAAW;;AAEX;AACA,mCAAkC,iCAAiC,EAAE;AACrE;AACA;AACA,uCAAsC,iCAAiC,EAAE;AACzE;AACA;;AAEA;AACA;;;AAGA,EAAC;;AAED;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI,YAAY,YAAY;AAC5B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,4CAA2C;AAC3C;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;;ACvKD;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACZD;;AAEA;AACA;;;AAGA;AACA;AACA,EAAC;;AAED;;AAEA,oBAAmB,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,EAAE,MAAM,KAAK,EAAE;;AAEnD;AACA;AACA,qBAAoB,GAAG;;AAEvB,4BAA2B,mCAAmC,EAAE;;AAEhE;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;;ACrCD;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,EAAC;;;;;;;;ACvED;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,IAAI;AAChB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA6B;AAC7B;AACA,EAAC;;;;;;;;AChDD;;AAEA;;;AAGA,iFAAgF;;AAEhF;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,gBAAgB;AAC9B,sCAAqC,UAAU;AAC/C;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,mCAAkC,kBAAkB;AACpD;AACA;AACA,IAAG;AACH,GAAE;AACF,4BAA2B,gBAAgB,EAAE;AAC7C,0BAAyB,8BAA8B,EAAE;AACzD,0BAAyB,8BAA8B,EAAE;AACzD;AACA;AACA,GAAE;;AAEF,EAAC;;;;;;;;AC1ED;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA,aAAY;AACZ,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH,UAAS,sDAAsD;AAC/D,IAAG;AACH;AACA;AACA,KAAI;AACJ,WAAU,iBAAiB;AAC3B;AACA,IAAG;AACH;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sDAAqD,UAAU;;AAE/D;AACA;;AAEA,YAAW,QAAQ;AACnB;AACA;;AAEA;AACA,KAAI;AACJ;AACA;AACA;AACA;;;;AAIA;AACA;AACA,UAAS,QAAQ;AACjB;AACA,mCAAkC;AAClC;AACA;AACA;;;AAGA;AACA;AACA,UAAS,QAAQ;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA,EAAC;;;;;;;;AClJD;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gCAA+B;AAC/B;AACA;;AAEA,gBAAe;;AAEf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAA+B;AAC/B;AACA;;AAEA,gBAAe;;AAEf;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA,8BAA6B,mCAAmC;AAChE,uBAAsB,qBAAqB;AAC3C;AACA;AACA,6EAA4E;;AAE5E,eAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,mFAAkF;;;;;;;;AC9NlF;;AAEA;;;AAGA,iFAAgF;;;AAGhF;AACA;AACA;AACA;AACA,YAAW,cAAc,gBAAgB;AACzC;AACA;;AAEA;;AAEA;AACA,8BAA6B;AAC7B;AACA,GAAE;AACF;;;;;;;;;ACtBA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;;AChCD;;AAEA;;;AAGA,gFAA+E;AAC/E;AACA;;AAEA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,GAAE;;;AAGF;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,SAAS;AAC5B;AACA;;AAEA,+BAA8B,0BAA0B;AACxD;AACA,KAAI;AACJ;AACA,EAAC;;;;;;;;ACnFD;;AAEA;;;AAGA,kFAAiF;;AAEjF;AACA;AACA;AACA,mCAAkC;AAClC;AACA,6BAA4B;AAC5B;AACA,IAAG;AACH;AACA;;AAEA;AACA,oDAAmD;;AAEnD;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF,EAAC;;;;;;;;AC9BD;;AAEA;;;AAGA,kFAAiF;AACjF;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA,GAAE;AACF,EAAC;;;;;;;;ACfD;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,cAAa,gBAAgB;AAC7B;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA,qBAAoB,WAAW;AAC/B,qBAAoB,UAAU;AAC9B;AACA;;AAEA,qBAAoB,mBAAmB;;AAEvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kDAAiD,sBAAsB,EAAE;AACzE,8CAA6C,sBAAsB,EAAE;;AAErE;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;;AC5DD;;AAEA;;;AAGA,kFAAiF;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;;AChCD;;AAEA;;;AAGA;AACA;;AAEA,wBAAuB;;AAEvB;AACA;AACA;AACA,EAAC,E;;;;;;;ACbD;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAQ,gBAAgB,EAAE;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF,EAAC;;;;;;;;AC/FD;;AAEA;;;AAGA;AACA;AACA;AACA,EAAC;;;;;;;;ACRD;;AAEA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;;;;;;ACjDH;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,GAAE;;;AAGF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA,aAAY,KAAK;AACjB,aAAY,OAAO;AACnB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA,uCAAsC,qBAAqB;AAC3D;AACA;AACA,EAAC;;;;;;;;AC7ID;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;;AAE7B;AACA;AACA,EAAC;;;;;;;;AC5CD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACdD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,uEAAsE,wBAAwB;AAC9F,IAAG;AACH;AACA;AACA,GAAE;;;AAGF;AACA;AACA,qBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,aAAa;AACvC;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;ACpED;;AAEA;;;AAGA;;;;;;;;ACLA;;AAEA;;;AAGA;AACA;;AAEA;AACA,EAAC;;;;;;;;ACTD;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,EAAC;;;;;;;;ACnBD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA,4BAA2B;AAC3B,SAAQ;AACR;;AAEA,EAAC;AACD;AACA,EAAC;;;;;;;;AChBD;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,kCAAiC,EAAE;AACnC;AACA,oCAAmC,EAAE,0BAA0B;AAC/D;AACA;AACA;AACA,EAAC;AACD;AACA,EAAC;;;;;;;;ACtBD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;;;;;;;ACfD;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;AACA,uBAAsB;;AAEtB;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA,GAAE;;AAEF;AACA,WAAU;AACV;AACA,EAAC;;;;;;;;ACzBD;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B,6BAA4B;AAC5B,6BAA4B;AAC5B,4BAA2B;AAC3B;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA,0BAAyB,mCAAmC,EAAE;AAC9D,yBAAwB,cAAc;AACtC,KAAI;AACJ;AACA,0BAAyB,uCAAuC,EAAE;AAClE,yBAAwB,eAAe;AACvC;AACA,IAAG;;AAEH,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B,6BAA4B;AAC5B,6BAA4B;AAC5B,4BAA2B;AAC3B;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;;AC5QD;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;;;;;;;ACjBD;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gDAA+C;AAC/C,0DAAyD;;AAEzD;AACA;AACA;;AAEA,4BAA2B,qCAAqC;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACxHD;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,EAAC;;;;;;;;AC1DD;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA,eAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;;AC7DD;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAgC,EAAE,kBAAkB,EAAE,gBAAgB,EAAE,iBAAiB,EAAE;;AAE3F;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA,cAAa,mBAAmB;;AAEhC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAC;;;;;;;;AChLD;;AAEA;;;AAGA;AACA;;AAEA,eAAc,KAAK,KAAK;;;AAGxB;AACA,mCAAkC;;AAElC;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA,mDAAkD;AAClD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,oBAAmB,EAAE;AACrB;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,EAAE;AACvB;;AAEA,EAAC;AACD;AACA;AACA;;AAEA;;AAEA;AACA,EAAC;;;;;;;;AC7ED;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA0B,gDAAgD;AAC1E,2BAA0B,gDAAgD;;AAE1E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB;AACnB,oCAAmC;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,EAAC;;;AAGD;AACA,sBAAqB,0BAA0B,sBAAsB,EAAE;AACvE,sBAAqB,0BAA0B,iCAAiC,EAAE;AAClF;AACA;AACA,yBAAwB,yCAAyC,EAAE;AACnE,wBAAuB,yBAAyB,0BAA0B,EAAE;AAC5E,wBAAuB,uBAAuB,gBAAgB,cAAc,eAAe,GAAG;;AAE9F,iCAAgC,gCAAgC,4CAA4C,EAAE;AAC9G,EAAC;;;AAGD;AACA,wBAAuB,4DAA4D,iBAAiB,EAAE,EAAE;AACxG,uBAAsB,oCAAoC,iBAAiB,EAAE,EAAE;AAC/E,qBAAoB,iCAAiC,uBAAuB,GAAG;AAC/E;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;;AAEA;AACA;AACA;AACA,EAAC;;AAED;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA8B,UAAU;AACxC,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;AAGD;AACA;AACA,YAAW,UAAU;AACrB,WAAU;AACV,aAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;;AAEA,mBAAkB;;AAElB;AACA,cAAa,qBAAqB;AAClC;AACA;AACA,GAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,KAAI;AACJ;AACA;AACA;;AAEA;AACA,GAAE;AACF;;;AAGA,qEAAoE;;;;;;;;ACxVpE;;AAEA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS,QAAQ;AACjB;AACA,gCAA+B,oBAAoB;AACnD;;AAEA;AACA,UAAS,kBAAkB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,uBAAsB;AACtB;AACA,SAAQ,QAAQ;AAChB;AACA;AACA;AACA;;AAEA,+BAA8B,cAAc,EAAE;AAC9C,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAQ,QAAQ;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,4CAA2C;;AAE3C;AACA,aAAY,8DAA8D;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,GAAE;;;AAGF;AACA,uBAAsB,oBAAoB,OAAO;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,kBAAkB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uCAAsC,cAAc;;AAEpD,SAAQ,QAAQ;AAChB;AACA,4CAA2C,uBAAuB;AAClE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA,SAAQ;AACR;;AAEA,0BAAyB;;AAEzB,mBAAkB,qCAAqC;;AAEvD;AACA;AACA;AACA;;AAEA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;ACjKD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA,wCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,gCAA+B,0BAA0B,eAAe;AACxE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;AACL;AACA;AACA,EAAC;;;AAGD;AACA;AACA,EAAC,e;;;;;;;AC5YD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA","file":"js/61029fa2d5656d23e623.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/app/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 61029fa2d5656d23e623\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('./util/Globals');\n\nrequire('./util/Localization');\nrequire('./overrides');\nrequire('./controller/Application');\n\n\n\n/*\n    This file is generated and updated by Sencha Cmd. You can edit this file as\n    needed for your application, but these edits will have to be merged by\n    Sencha Cmd when it performs code generation tasks such as generating new\n    models, controllers or views and when running \"sencha app upgrade\".\n\n    Ideally changes to this file would be limited and most work would be done\n    in other places (such as Controllers). If Sencha Cmd cannot merge your\n    changes and its generated code, it will produce a \"merge conflict\" that you\n    will need to resolve manually.\n*/\n\n// DO NOT DELETE - this directive is required for Sencha Cmd packages to work.\n//@require @packageOverrides\n\nwindow.URL = window.URL || window.webkitURL;\nwindow.Blob = window.Blob || window.webkitBlob;\n\nExt.USE_NATIVE_JSON = true;\n\n//disable script cache-busting _dc=... get string args\nExt.Loader.setConfig('disableCaching', false); //for when unminified\n\nExt.application({\n\tname: 'NextThought',\n\tappProperty: 'appInstance',\n\tappFolder: '/app/js/NextThought',\n\tautoCreateViewport: false,\n\n\trequires: [\n\t\t'NextThought.util.Globals',\n\t\t'NextThought.overrides.*',\n\t\t'NextThought.util.Localization',//require this SUPER early.\n\t\t'NextThought.util.*'\n\n\t\t// 'Ext.grid.Panel',\n\t\t// 'Ext.grid.column.Date',\n\t\t// 'Ext.grid.plugin.CellEditing',\n\n\t\t// //Require this early so we have it if we need it\n\t\t// 'NextThought.view.MessageBar',\n\t\t// 'NextThought.view.MessageBox'\n\t],\n\n\tcontrollers: [\n\t\t'Application'\n\t],\n\n\tlaunch: function() {\n\t\tconsole.debug('launching');\n\n\t\tfunction start() {\n\t\t\tif (Ext.is.iOS) {\n\t\t\t\tExt.getBody().addCls('x-ios');\n\t\t\t}\n\n\t\t\tExt.applyIf($AppConfig, {links: {}});\n\n\t\t\tme.getController('Application').load(me);\n\n\t\t\t// me.getController('Session').login(me);\n\t\t\tNextThought.isReady = true;\n\t\t}\n\n\t\tvar me = this, ios,\n\t\t\treasons = [],\n\t\t\tunsupported = [], g,\n\t\t\tgeckoRev = /rv:(\\d+\\.\\d+)/.exec(Ext.userAgent) || [];\n\n\t\tExt.each(//firefox doesn't report supporting: CSS3DTransform, so we'll omit it.\n\t\t\t\t['Canvas', 'Range', 'CSS3BoxShadow', 'CSS3BorderRadius'],\n\t\t\t\tfunction(f) {Boolean(!Ext.supports[f] && unsupported.push(f));});\n\n\n\t\t// allow PhantomJS through the browser block - at least far enough for our headless login test\n\t\tExt.isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\n\t\t// allow capybara-webkit through in the same way\n\t\tExt.isCapybaraWebkit = /capybara-webkit/i.test(navigator.userAgent);\n\n\t\tios = (function() {\n\t\t\tif (/iP(hone|od|ad)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\treturn v && [parseInt(v[1], 10), parseInt(v[2], 10), parseInt(v[3] || 0, 10)];\n\t\t\t}\n\t\t}());\n\n\n\t\tif (unsupported.length > 0) {\n\t\t\treasons.push('Required html5 features are not present: ' + unsupported.join(','));\n\t\t}\n\n\t\tif (!Ext.isIE && !Ext.isIE11p && !(Ext.isGecko && parseFloat(geckoRev[1]) > 23.9) && !Ext.isWebKit) {\n\t\t\treasons.push('This version of FireFox is not supported.');\n\t\t}\n\n\t\tif (Ext.isIE9m) {\n\t\t\treasons.push('Please use IE10 or newer');\n\t\t}\n\n\t\tif (Ext.isSafari && Ext.safariVersion < 6 && !Ext.isPhantomJS && !Ext.isCapybaraWebkit) {\n\t\t\treasons.push('Please use the latest Safari available. Currently only 5.1+ is supported.');\n\t\t}\n\n\t\tif (ios && ios[0] < 6) {\n\t\t\treasons.push('iOS 6 is the oldest iOS Safari we support.');\n\t\t}\n\n\t\tif (reasons.length > 0) {\n\t\t\tconsole.error(reasons.join('\\n'));\n\t\t\tlocation.replace($AppConfig.server.unsupported);\n\t\t\treturn;//we're leaving... so lets just stop here.\n\t\t}\n\n\t\tif (!Globals.validateConfig()) {\n\t\t\treturn;\n\t\t}\n\n\t\t//Uncomment to supress cross domain flash socket message\n\t\t//window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR = true;\n\n\t\t//if we get this far, we're good... no need to redirect to the unsupoprted page.\n\t\t//Clear out the old onerror if there is one and register our own.\n\t\t//Note: In chrome and firefox if you delete window.onerror and then reset\n\t\t//it the old onerror function gets called when an error occurs (bizarre)\n\t\t//That is why we just null it out here rather than deleting it.\n\t\t//delete window.onerror;\n\t\twindow.onerror = null;\n\t\twindow.reportErrorEvent();//keep the error reporter going.\n\n\t\tGlobals.loadScript(getURL('/socket.io/static/socket.io.js'));\n\n\t\tstart();\n\t}\n});\n\n//lets not show our dirty lawndry... urls sould be pretty with no \"files\" in them.\nif (location.toString().indexOf('index.html') > 0) {\n\tlocation.replace(location.toString().replace('index.html', ''));\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/index.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = Ext;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Ext\"\n ** module id = 1\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('./Globals');\nvar ParseUtils = require('./Parsing');\n\n\nmodule.exports = exports = Ext.define('NextThought.util.Globals', {\n\tsingleton: true,\n\n\n\t/* DATASERVER 2 Constants*/\n\tMESSAGE_INBOX: 'RUGDByOthersThatIMightBeInterestedIn',\n\tRECURSIVE_STREAM: 'RecursiveStream',\n\tRECURSIVE_USER_GENERATED_DATA: 'RecursiveUserGeneratedData',\n\tUSER_GENERATED_DATA: 'UserGeneratedData',\n\tUSER_SEARCH_REL: 'UserSearch',\n\tBULK_USER_RESOLVE_REL: 'ResolveUsers',\n\tUSER_RESOLVE_REL: 'ResolveUser',\n\tUSER_GENERATED_DATA_SEARCH_REL: 'UGDSearch',\n\tUSER_UNIFIED_SEARCH_REL: 'UnifiedSearch',\n\tCONTENT_ROOT: 'tag:nextthought.com,2011-10:Root',\n\n\tROOT_URL_PATTERN: /^\\//,//starts with a slash\n\tHOST_PREFIX_PATTERN: /^(http(s)?):\\/\\/([a-z.\\-_0-9]+)(:(\\d+))?/i,\n\tFILE_EXTENSION_PATTERN: /\\..+$/,\n\tINVALID_CHARACTERS_PATTERN: /^[^\\/\\\\\";=?<>#%'\\{\\}\\|\\^\\[\\]\\-]+$/,\n\tESCAPE_REGEX_PATTERN: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n\n\n\tCANVAS_URL_SHAPE_BROKEN_IMAGE: 'whiteboard-error-image',\n\tCANVAS_BROKEN_IMAGE: 'whiteboard-broken-image',\n\n\tCANVAS_GOLDEN_RATIO: 1.6180,    //http://en.wikipedia.org/wiki/Golden_ratio\n\n\tSAD_FACE: Ext.DomHelper.markup({\n\t\tstyle: {\n\t\t\tcolor: '#bbb',\n\t\t\tfont: 'normal 400 10em \\'Helvetica Neue\\', Helvetica, Arial, sans-serif',\n\t\t\t'-webkit-transform': 'rotate(90deg)',\n\t\t\t'-moz-transform': 'rotate(90deg)',\n\t\t\t'-ms-transform': 'rotate(90deg)',\n\t\t\t'-o-transform': 'rotate(90deg)',\n\t\t\ttransform: 'rotate(90deg)',\n\t\t\tdisplay: 'inline-block',\n\t\t\tposition: 'absolute',\n\t\t\tleft: '50%',\n\t\t\t'letter-spacing': '0.1em;'\n\t\t},\n\t\thtml: ':('\n\t}),\n\n\t//Holy mother of perl! JSLint really hates the javascript protocol. :( We have to really obfuscate that string for it not to complain.\n\tEMPTY_WRITABLE_IFRAME_SRC: ('javascript' + (function() {return ':';}())),\n\n\tANIMATE_NO_FLASH: {\n\t\tlisteners: {\n\t\t\tafteranimate: Ext.emptyFn\n\t\t}\n\t},\n\n\tWAIT_TIMES: {\n\t\tSHORT: 300,\n\t\tLONG: 5000\n\t},\n\n\n\tINTERNAL_MIMETYPES: {\n\t\t'application/pdf': true,\n\t\t'application/x-pdf': true\n\t},\n\n\n\tescapeForRegex: function(str) {\n\t\treturn str.replace(this.ESCAPE_REGEX_PATTERN, '\\\\$&');\n\t},\n\n\n\t//A utility wrapper around JSON.parse to catch errors\n\tparseJSON: function(s, safe) {\n\t\ttry {\n\t\t\treturn JSON.parse(s);\n\t\t} catch (e) {\n\t\t\tif (safe) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tthrow e;\n\t\t}\n\t},\n\n\n\tparseError: function(response) {\n\t\tvar error,\n\t\t\tstatus = response.status,\n\t\t\terror;\n\n\t\tif (status === 422) {\n\t\t\terror = this.parseJSON(response.responseText, true);\n\t\t}\n\n\t\treturn error;\n\t},\n\n\n\t//Remove leading and trailing /'s from a route\n\ttrimRoute: function(route) {\n\t\troute = route || '';\n\t\t//get rid of any leading slash\n\t\troute = route.replace(/^\\//, '');\n\t\t//get rid of any trailing slash\n\t\troute = route.replace(/\\/$/, '');\n\n\t\treturn route;\n\t},\n\n\n\tgetContainerLoadingMask: function() {\n\t\treturn {\n\t\t\txtype: 'box',\n\t\t\tautoEl: {cls: 'loading-mask container-loading-mask', cn: {cls: 'load-text', html: 'Loading...'}}\n\t\t};\n\t},\n\n\t/**\n\t * Should the given ntiid, url, and targetMimeType be opened in the app\n\t * or in another window.\n\t * @param  {String} ntiid          the ntiid of the thing\n\t * @param  {Srring} url            the url to the thing\n\t * @param  {String} basePath\n\t * @param  {String} targetMimeType the mimeType of the thing to open\n\t * @return {Boolean}               if we can show this in the app\n\t */\n\tshouldOpenInApp: function(ntiid, url, basePath, targetMimeType) {\n\t\tvar isTargetAnNTIID = ParseUtils.isNTIID(url),\n\t\t\tcanHandleTypeInternally = this.INTERNAL_MIMETYPES[targetMimeType] || (/\\.pdf$/i).test((url || '').split('?')[0]),\n\t\t\tparts = this.getURLParts(url),\n\t\t\tinternal = true;\n\n\t\tif ($AppConfig.openExternalPDFsInNewWindow) {\n\t\t\tinternal = (!parts.protocol || parts.protocol === location.protocol) && (!parts.hostname || parts.hostname === location.hostname);\n\t\t}\n\n\n\t\treturn isTargetAnNTIID || (ntiid && canHandleTypeInternally && internal);\n\t},\n\n\n\t/**\n\t * Search the navigator for a  mimeType\n\t * @param  {String} type mimeType to search for\n\t * @return {MimeType}    the mimeType if we find it or null\n\t */\n\tgetNavigatorMimeType: function(type) {\n\t\tvar key, mimeType;\n\n\t\tfor (key in navigator.mimeTypes) {\n\t\t\tmimeType = navigator.mimeTypes[key];\n\n\t\t\tif (mimeType && mimeType.type === type) {\n\t\t\t\treturn mimeType;\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/**\n\t * Search the navigator for a plugin\n\t * @param  {String} name name of the plugin\n\t * @return {Plugin}      the plugin if we find it or null\n\t */\n\tgetNavigatorPlugin: function(name) {\n\t\tvar key, plugin;\n\n\t\tfor (key in navigator.plugins) {\n\t\t\tplugin = navigator.plugins[key];\n\n\t\t\tif (plugin && plugin.name === name) {\n\t\t\t\treturn plugin;\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/**\n\t * Attempt to create an active x object\n\t *\n\t * @param  {String} name name of the application providing the object\n\t * @return {Object}      the active x object or null if we couldn't create one\n\t */\n\tgetActiveXObject: function(name) {\n\t\ttry {\n\t\t\treturn new ActiveXObject(name);\n\t\t} catch (e) {\n\t\t\tswallow(e);\n\t\t}\n\t},\n\n\n\t/**\n\t * Attempt to detect whether or not a browser can render a pdf\n\t *\n\t * Adapted from: http://stackoverflow.com/questions/21485521/detecting-adobe-reader-in-ie11-with-javascript\n\t *\n\t * @return {Boolean} true if it can, false it it can't\n\t */\n\thasPDFSupport: function() {\n\t\tvar support = false;\n\n\t\t//check if pdfs are registered as supported by the browser\n\t\tif (this.getNavigatorMimeType('application/pdf')) {\n\t\t\tsupport = true;\n\t\t//check for a plugin that could render a pdf\n\t\t} else if (this.getNavigatorPlugin('Adobe Acrobat') || this.getNavigatorPlugin('Chrome PDF Viewer') || this.getNavigatorPlugin('WebKit built-in PDF')) {\n\t\t\tsupport = true;\n\t\t//for IE check if we can create an active x object to show a pdf`\n\t\t} else if (this.getActiveXObject('AcroPDF.PDF') || this.getActiveXObject('PDF.PdfCtrl')) {\n\t\t\tsupport = true;\n\t\t}\n\n\t\treturn support;\n\t},\n\n\n\tflatten: function(a) {\n\t\tif (!a.reduce) { return a; }\n\n\t\treturn a.reduce(function(acc, x) {\n\t\t\tif (Array.isArray(x)) {\n\t\t\t\tacc = acc.concat(x);\n\t\t\t} else {\n\t\t\t\tacc.push(x);\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, []);\n\t},\n\n\n\tgetError: function(e) {\n\t\treturn e.stack || e;\n\t},\n\n\tstopBackspace: function(doc) {\n\t\tfunction fn() {\n\t\t\treturn function(e) {\n\t\t\t\tvar t = e.getTarget(),\n\t\t\t\t\tkey = e.getKey(),\n\t\t\t\t\tnotInput = (!t || (!(/input|textarea/i).test(t.tagName) && !t.getAttribute('contenteditable')));\n\n\t\t\t\tif (notInput && (key === e.ESC || key === e.BACKSPACE)) {\n\t\t\t\t\tconsole.log('blocking key for: ', t);\n\t\t\t\t\te.stopEvent();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t}\n\n\t\tExt.fly(doc).on({\n\t\t\tkeydown: fn(),\n\t\t\tkeypress: fn()\n\t\t});\n\t},\n\n\n\tvalidateConfig: function() {\n\t\tvar HOST_PATTERN = /^(http(s)?):\\/\\/([a-z.\\-_0-9]+)(:(\\d+))?$/i,\n\t\t\tHOST_PATTERN_PROTOCOL_MATCH_GROUP = 1,\n\t\t\tHOST_PATTERN_DOMAIN_MATCH_GROUP = 3,\n\t\t\tHOST_PATTERN_PORT_MATCH_GROUP = 5;\n\n\t\tif (window.$AppConfig === undefined || $AppConfig.server === undefined) {\n\t\t\talert('Bad or no configuation.');\n\t\t\treturn false;\n\t\t}\n\n\t\tif ($AppConfig.server.login === undefined) {\n\t\t\talert('Bad or no login configuation.');\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!HOST_PATTERN.test($AppConfig.server.host)) {\n\t\t\tif ($AppConfig.server.host) {\n\t\t\t\tconsole.warn('Bad host config', $AppConfig.server.host, 'using domain', document.domain);\n\t\t\t}\n\t\t\t$AppConfig.server.host = location.protocol + '//' + location.host;\n\t\t}\n\n\t\tif (!/^\\/.+\\/$/.test($AppConfig.server.data)) {\n\t\t\talert('Bad Server Config, your data path does not validate the pattern: /.+/');\n\t\t\treturn false;\n\t\t}\n    /*\n\t\tvar hostInfo = HOST_PATTERN.exec($AppConfig.server.host);\n\n\t\tExt.apply($AppConfig.server,{\n\t\t\tprotocol: hostInfo[HOST_PATTERN_PROTOCOL_MATCH_GROUP],\n\t\t\tdomain: hostInfo[HOST_PATTERN_DOMAIN_MATCH_GROUP],\n\t\t\tport: parseInt(hostInfo[HOST_PATTERN_PORT_MATCH_GROUP],10)\n\t\t});\n    */\n\n\t\tif ($AppConfig.server.jsonp === undefined) {\n\t\t\t$AppConfig.server.jsonp = Ext.isIE && !Ext.isIE10p;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\n\t/**\n\t * Loads a script into the dom\n\t *\n\t * @param {String} url\n\t * @param {Function} [onLoad]\n\t * @param {Function} [onError]\n\t * @param {Object} [scope]\n\t */\n\tloadScript: function(url, onLoad, onError, scope, bustCache) {\n\t\tvar head, doc = document,\n\t\t\tscript, onLoadFn, onErrorFn;\n\n\t\tfunction buildCallback(cb, scope) {\n\t\t\treturn function() {\n\t\t\t\tscript.onload = null;\n\t\t\t\tscript.onreadystatechange = null;\n\t\t\t\tscript.onerror = null;\n\n\t\t\t\tif (cb && cb.call) {\n\t\t\t\t\tcb.call(scope || window, script);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (url && typeof url === 'object') {\n\t\t\tdoc = url.document;\n\t\t\turl = url.url;\n\t\t}\n\n\t\thead = doc && (doc.head || doc.getElementsByTagName('head')[0]);\n\t\tscript = doc.createElement('script');\n\t\tonLoadFn = buildCallback(onLoad, scope);\n\t\tonErrorFn = buildCallback(onError, scope);\n\n\t\tif (bustCache === true) {\n\t\t\turl += (url.indexOf('?') < 0 ? '?' : '&') + '_dc=' + (new Date().getTime());\n\t\t}\n\n\t\tscript.type = 'text/javascript';\n\t\tscript.setAttribute('src', url);\n\t\tscript.setAttribute('async', true);\n\t\tscript.async = true;\n\t\tscript.src = url;\n\t\tscript.onload = onLoadFn;\n\t\tscript.onerror = onErrorFn;\n\n\t\tscript.onreadystatechange = function() {\n\t\t\tif (this.readyState === 'loaded' || this.readyState === 'complete') {\n\t\t\t\tonLoadFn();\n\t\t\t}\n\t\t};\n\n\t\thead.appendChild(script);\n\n\t\treturn script;\n\t},\n\n\n\tloadScripts: function(urls, onLoad, scope, bustCache) {\n\t\tvar u, stack = [], errors = false;\n\t\tfunction tick() {\n\t\t\tstack.pop();\n\t\t\tif (stack.length === 0) {\n\t\t\t\tExt.callback(onLoad, scope, [errors]);\n\t\t\t}\n\t\t}\n\n\t\tfunction fail(s) {\n\t\t\terrors = true;\n\t\t\tconsole.error('Problem with: ' + s.src);\n\t\t\ttick();\n\t\t}\n\n\t\tfor (u in urls) {\n\t\t\tif (urls.hasOwnProperty(u)) {\n\t\t\t\tstack.push(u);\n\t\t\t\tGlobals.loadScript(urls[u], tick, fail, this, bustCache);\n\t\t\t}\n\t\t}\n\t},\n\n\n\tloadStyleSheetPromise: function(url, id) {\n\t\tvar old, head;\n\t\t//TODO: maybe try to restore the old one if it fails\n\t\treturn new Promise(function(fulfill, reject) {\n\t\t\tvar doc = document, i = 0,\n\t\t\t\tlink, checkInterval, sibling;\n\n\t\t\tif (typeof url === 'object') {\n\t\t\t\tdoc = url.document;\n\t\t\t\turl = url.url;\n\t\t\t}\n\n\t\t\tif (typeof doc !== 'undefined') {\n\t\t\t\thead = doc.head || doc.getElementsByTagName('head')[0];\n\t\t\t} else {\n\t\t\t\tconsole.error('Document not defined');\n\t\t\t\treject();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//If we are given an id, reuse that link\n\t\t\tif (id) {\n\t\t\t\told = doc.getElementById(id);\n\t\t\t}\n\n\t\t\tif (old) {\n\t\t\t\told.id = '';\n\t\t\t}\n\n\t\t\tlink = doc.createElement('link');\n\t\t\tlink.rel = 'stylesheet';\n\t\t\tlink.type = 'text/css';\n\t\t\tlink.id = id;\n\t\t\tlink.href = url;\n\n\t\t\tif (old) {\n\t\t\t\thead.insertBefore(link, old);\n\t\t\t\thead.removeChild(old);\n\t\t\t} else {\n\t\t\t\thead.appendChild(link);\n\t\t\t}\n\n\n\t\t\t/**\n\t\t\t * Check all the style sheets of the link to see if the it has rules\n\t\t\t * @return {Boolean} true if one matches false otherwise\n\t\t\t */\n\t\t\tfunction checkIfLoaded() {\n\t\t\t\treturn link.style;\n\t\t\t}\n\n\t\t\tcheckInterval = setInterval(function() {\n\t\t\t\ti++;\n\n\t\t\t\tif (i > 300) {\n\t\t\t\t\tclearInterval(checkInterval);\n\t\t\t\t\treject();\n\t\t\t\t} else if (checkIfLoaded()) {\n\t\t\t\t\tclearInterval(checkInterval);\n\t\t\t\t\tfulfill();\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t});\n\t},\n\n\n\t/**\n\t * Load a stylesheet file (.css) into the DOM.\n\t *\n\t * @param {String} url\n\t * @param {Function} [onLoad]\n\t * @param {Function} [onFail]\n\t * @param {Object} [scope] Context object to execute the onLoad/onFail callbacks\n\t */\n\tloadStyleSheet: function(url, onLoad, onFail, scope) {\n\t\tvar t, i = 0, doc = document, head, link, call, check;\n\n\t\tif (typeof url === 'object') {\n\t\t\tdoc = url.document;\n\t\t\turl = url.url;\n\t\t}\n\n\t\thead = typeof doc !== 'undefined' &&\n\t\t\t\t(doc.head || doc.getElementsByTagName('head')[0]);\n\t\tlink = doc.createElement('link');\n\t\tcall = function(cb) {\n\t\t\tclearInterval(t);\n\t\t\tif (cb) {\n\t\t\t\tcb.call(scope || window, link);\n\t\t\t}\n\t\t};\n\t\tcheck = function() {\n\t\t\ti++;\n\t\t\t//30 seconds, if each interval is 10ms\n\t\t\tif (i > 3000) {\n\t\t\t\tcall(onFail);\n\t\t\t}\n\t\t\telse if (link.style) {\n\t\t\t\tcall(onLoad);\n\t\t\t}\n\t\t};\n\n\t\tlink.rel = 'stylesheet';\n\t\tlink.type = 'text/css';\n\t\tlink.href = url;\n\n\t\thead.appendChild(link);\n\n\t\tif (onLoad || onFail) {\n\t\t\tt = setInterval(check, 10);\n\t\t}\n\n\t\treturn link;\n\t},\n\n\n\thandleCache: function() {\n\t\ttry {\n\t\t\tvar ac = window.applicationCache;\n\t\t\tif (!ac) { return; }\n\n\t\t\tac.addEventListener('updateready', function(e) {\n\t\t\t\t\t\t\t\t\tif (ac.status === ac.UPDATEREADY) {\n\t\t\t\t\t\t\t\t\t\tac.swapCache();\n\t\t\t\t\t\t\t\t\t\tExt.MessageBox.confirm(\n\t\t\t\t\t\t\t\t\t\t\t'Update Available',\n\t\t\t\t\t\t\t\t\t\t\t'A new version of this site is available. Load it now?',\n\t\t\t\t\t\t\t\t\t\t\tfunction(btn) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (btn === 'yes') { window.location.reload(); }\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//else: Manifest didn't changed. Nothing new to do.\n\t\t\t\t\t\t\t\t}, false);\n\t\t}\n\t\tcatch (error) {\n\t\t\tconsole.error('Error handling html5 app cache', error);\n\t\t}\n\t},\n\n\n\tgetAsynchronousTaskQueueForList: function(s) {\n\t\tvar list = [], i = (s && (s.length || s) - 1) || 0;\n\t\tfor (i; i > 0; i--) { list.push({}); }\n\t\treturn list;\n\t},\n\n\n\tremoveLoaderSplash: function() {\n\t\tvar me = this;\n\t\tme.removeLoaderSplash = Ext.emptyFn;\n\t\tsetTimeout(function() {\n\t\t\tvar mask = Ext.get('loading-mask');\n\n\t\t\tif (mask) {\n\t\t\t\tmask.fadeOut({remove: true});\n\t\t\t}\n\t\t}, 100);\n\t},\n\n\n\t/*\n\t * Returns whether two Arrays are equal.\n\t *\n\t * They are equal if they are the same\n\t * length and contain equal elemens in order\n\t *\n\t * @param a - first array\n\t * @param b - second array\n\t * @param [fn] - an equality function.  If this is ommited === is used on each elment\n\t */\n\tarrayEquals: function(a, b, fn) {\n\t\tvar i;\n\t\tif (a.length !== b.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (i = 0; i < a.length; i++) {\n\t\t\tif (fn && !fn(a[i], b[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (a[i] !== b[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t},\n\n\n\t/*\n\t * Natural Sort algorithm for Javascript - Version 0.7 - Released under MIT license\n\t * Author: Jim Palmer (based on chunking idea from Dave Koelle)\n\t * https://github.com/overset/javascript-natural-sort/blob/master/naturalSort.js\n\t */\n\tnaturalSortComparator: function naturalSort(a, b) {\n\n\t\tfunction i(s) {\n\t\t\ts = String(s);\n\t\t\treturn naturalSort.insensitive ? s.toLowerCase() : s;\n\t\t}\n\n\t\tvar re = naturalSort.re = (naturalSort.re || /(^-?[0-9]+(\\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi),\n\t        sre = naturalSort.sre = (naturalSort.sre || /(^[ ]*|[ ]*$)/g),\n\t        dre = naturalSort.dre =\n\t\t\t\t  (naturalSort.dre || /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/),\n\t        hre = naturalSort.hre = (naturalSort.hre || /^0x[0-9a-f]+$/i),\n\t        ore = naturalSort.ore = (naturalSort.ore || /^0/),\n\t\t\t// convert all to strings strip whitespace\n\t        x = i(a).replace(sre, '') || '',\n\t        y = i(b).replace(sre, '') || '',\n\t        // chunk/tokenize\n\t        xN = x.replace(re, '\\u0000$1\\u0000').replace(/\\u0000$/, '').replace(/^\\u0000/, '').split('\\u0000'),\n\t        yN = y.replace(re, '\\u0000$1\\u0000').replace(/\\u0000$/, '').replace(/^\\u0000/, '').split('\\u0000'),\n\t        // numeric, hex or date detection\n\t        xD = parseInt(x.match(hre), 10) || (xN.length !== 1 && x.match(dre) && Date.parse(x)),\n\t        yD = parseInt(y.match(hre), 10) || (xD && y.match(dre) && Date.parse(y)) || null,\n\t        oFxNcL, oFyNcL, cLoc;\n\n\n\t    // first try and sort Hex codes or Dates\n\t    if (yD) {\n\t        if (xD < yD) { return -1; }\n\t        if (xD > yD) { return 1;}\n\t\t}\n\t    // natural sorting through split numeric strings and default strings\n\t    for (cLoc = 0, numS = Math.max(xN.length, yN.length); cLoc < numS; cLoc++) {\n\t        // find floats not starting with '0', string or 0 if not defined (Clint Priest)\n\t        oFxNcL = (!(xN[cLoc] || '').match(ore) && parseFloat(xN[cLoc])) || xN[cLoc] || 0;\n\t        oFyNcL = (!(yN[cLoc] || '').match(ore) && parseFloat(yN[cLoc])) || yN[cLoc] || 0;\n\t        // handle numeric vs string comparison - number < string - (Kyle Adams)\n\t        if (isNaN(oFxNcL) !== isNaN(oFyNcL)) { return (isNaN(oFxNcL)) ? 1 : -1; }\n\t        // rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\n\t        if ((typeof oFxNcL) !== (typeof oFyNcL)) {\n\t            oFxNcL += '';\n\t            oFyNcL += '';\n\t        }\n\t        if (oFxNcL < oFyNcL) { return -1; }\n\t        if (oFxNcL > oFyNcL) { return 1; }\n\t    }\n\t    return 0;\n\t},\n\n\n\tgetNaturalSorter: function(field) {\n\t\treturn function(a, b) {\n\t\t\tvar sa = a.get(field), sb = b.get(field);\n\t\t\treturn Globals.naturalSortComparator(sa, sb);\n\t\t};\n\t},\n\n\n\tgetCaseInsensitiveNaturalSorter: function(field) {\n\t\treturn function(a, b) {\n\t\t\tvar sa = String(a.get(field)).toLowerCase(), sb = String(b.get(field)).toLowerCase();\n\t\t\treturn Globals.naturalSortComparator(sa, sb);\n\t\t};\n\t},\n\n\n\t/**\n\t * Returns a sorter function for the Array/Ext.Array sort method.\n\t *\n\t * @param {String} key - name of the field to compare.\n\t * @param {String} [dir] - Direction \"ASC\" or \"DESC\" defaults to \"DESC\"\n\t * @param {Function} [g] - Getter function, where the value in the array is passed, and the getter returns the comparable.\n\t * @param {Boolean} [natural] - Sort strings naturally (1 2...10 vs 1 10 2 20 ...etc)\n\t */\n\tSortModelsBy: function(key, dir, g, natural) {\n\t\tfunction $(v) {\n\t\t\treturn (g ? g(v) : v).get(key);\n\t\t}\n\n\t\tvar n = Globals.naturalSortComparator;\n\n\t\treturn function(a, b) {\n\t\t\tvar c = 0, $a = $(a), $b = $(b);\n\n\t\t\tif ($a !== $b) {\n\t\t\t\tc = natural && Ext.isString($a) ? n($a, $b) : $a < $b ? -1 : 1;\n\n\t\t\t\t//FIXME this seems backwards. If a < b it would sort to a lower\n\t\t\t\t//position and be -1.  That is the proper order for ascending\n\t\t\t\t//We should only negate it for desc. Yet it seems things using\n\t\t\t\t//it render properly.  Seems unlikely the logic is backwards everywhere.\n\t\t\t\tif (dir && dir === 'ASC') {\n\t\t\t\t\tc *= -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn c;\n\n\t\t};\n\t},\n\n\tensureSlash: function(s, atBeginning) {\n\t\tif (!s) {return;}\n\n\t\tvar index = atBeginning ? 0 : (s.length - 1),\n\t\t\tc = s[index];\n\n\t\tif (c !== '/') {\n\t\t\tif (atBeginning) {return '/' + s;}\n\t\t\telse {return s + '/';}\n\t\t}\n\t\treturn s;\n\t},\n\n\n\t/**\n\t * @see http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n\t */\n\tguidGenerator: function() {\n\t\tvar S4 = function() {\n\t\t   return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n\t\t};\n\t\treturn (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\n\t},\n\n\n\tisMe: function(user) {\n\t\tvar id = user;\n\t\tif (typeof user !== 'string' && user && user.getId) {\n\t\t\tid = user.getId();\n\t\t}\n\t\treturn $AppConfig.username === id;\n\t},\n\n\n\tgetViewIdFromComponent: function(c) {\n\t\treturn c.up('view-container').id;\n\t},\n\n\tbuildBlocker: function(scope, blockTime) {\n\t\tvar me = scope,\n\t\t\tkey = this.guidGenerator(),\n\t\t\ttime = blockTime || 500;\n\n\t\treturn function() {\n\t\t\tvar block = me.hasOwnProperty(key);\n\n\t\t\tif (block) { clearTimeout(me[key]); }\n\n\t\t\tme[key] = setTimeout(\n\t\t\t\t\tfunction() { delete me[key]; },\n\t\t\t\t\ttime);\n\n\t\t\tif (block) {\n\t\t\t\tthrow 'stop';\n\t\t\t}\n\t\t};\n\t},\n\n\n\tgetURLObject: function() {\n\t\tvar url;\n\n\t\tif (window.URL && window.URL.createObjectURL) {\n\t\t\turl = window.URL;\n\t\t} else if (window.webkitURL && window.webkitURL.createObjectURL) {\n\t\t\turl = window.webkitURL;\n\t\t}\n\n\t\treturn url;\n\t},\n\n\n\tgetURLParts: function(url) {\n\t\treturn Url.parse(url);\n\t},\n\n\n\tgetURLRooted: function(url, root) {\n\t\tif (!url) { return ''; }\n\n\t\tif (Globals.HOST_PREFIX_PATTERN.test(url) || url.indexOf('/') === 0) {\n\t\t\treturn url;\n\t\t}\n\n\t\turl = Globals.trimRoute(url);\n\n\t\tif (root) {\n\t\t\treturn Globals.getURLRooted(Globals.trimRoute(root) + '/' + url + '/');\n\t\t}\n\n\t\tvar host = $AppConfig.server.host.replace(/\\/$/, '');\n\n\t\turl = host + '/' + url;\n\n\t\tif (!Globals.FILE_EXTENSION_PATTERN.test(url)) {\n\t\t\turl += '/';\n\t\t}\n\n\t\treturn url;\n\t},\n\n\n\tgetURL: function(u, root) {\n\t\tif (!u) {return '';}\n\t\tif (!Globals.HOST_PREFIX_PATTERN.test(u) && u.indexOf('//') !== 0) {\n\t\t\tif (!Ext.isEmpty(root)) {\n\t\t\t\tu = root + u;\n\t\t\t\treturn getURL(u);\n\t\t\t}\n\t\t\treturn $AppConfig.server.host + u;\n\t\t}\n\t\treturn u;\n\t},\n\n\tgetResourceURL: function(name) {\n\t\tvar url, d = document.createElement('div');\n\t\td.setAttribute('class', name);\n\t\ttry {\n\t\t\tdocument.body.appendChild(d);\n\t\t\turl = Ext.fly(d).getStyle('background-image');\n\t\t\tdocument.body.removeChild(d);\n\t\t\treturn (/^url\\(\"?([^\"\\)]+)\"?\\)$/).exec(url)[1];\n\t\t}\n\t\tcatch (e) {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\n\treloadCSS: function(doc) {\n\t\tdoc = (doc || document);\n\t\tconsole.log('Document Title:', doc.title);\n\t\tvar cb = '_dc=',\n\t\t\tnodes = doc.querySelectorAll('link[rel=stylesheet]'),\n\t\t\thref, i = nodes.length - 1, v;\n\n\t\tfor (i; i > 0; i--) {\n\t\t\tv = nodes[i];\n\t\t\thref = v.getAttribute('href');\n\t\t\tif (href.indexOf(cb) < 0) {\n\t\t\t\thref += ((href.indexOf('?') < 0 ? '?' : '&') + cb + Ext.Date.now());\n\t\t\t}\n\t\t\telse {\n\t\t\t\thref = href.replace(new RegExp(RegExp.escape(cb) + '\\\\d+', 'g'), cb + Ext.Date.now());\n\t\t\t}\n\n\t\t\tv.href = href;\n\t\t\tconsole.debug(v.getAttribute('href'));\n\t\t}\n\t},\n\n\n\tisFeature: function(name) {\n\t\tvar f = $AppConfig.features || {};\n\t\treturn Boolean(f[name]);\n\t},\n\n\n\t//taken from the login app\n\tEMAIL_REGEX: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n\n\tisEmail: function(email) {\n\t\treturn this.EMAIL_REGEX.test(email);\n\t},\n\n\n\tsendEmailTo: function(to, subject, body, cc, bcc) {\n\t\tvar href = 'mailto:';\n\n\t\tto = (Ext.isArray(to)) ? to : [to];\n\t\tsubject = subject || '';\n\t\tbody = body || '';\n\t\tcc = cc || '';\n\t\tbcc = bcc || '';\n\n\t\tif (Ext.isEmpty(to)) {\n\t\t\tconsole.error('Tried to send an email with no recepients');\n\t\t\treturn;\n\t\t}\n\n\t\tsubject = encodeURIComponent(subject);\n\t\tbody = encodeURIComponent(body);\n\t\tcc = encodeURIComponent(cc);\n\t\tbcc = encodeURIComponent(bcc);\n\n\t\thref += to.join(',');\n\t\thref += '?subject=' + subject + '&body=' + body + '&cc=' + cc + '&bcc=' + bcc;\n\n\t\tconsole.debug('Opening email', href);\n\t\tlocation.href = href;\n\t}\n\n},\nfunction() {\n\tvar proto = '__proto__';\n\t//TODO: figure out how to fix this globals\n\twindow.guidGenerator = this.guidGenerator;\n\twindow.isMe = this.isMe;\n\twindow.getURL = this.getURL;\n\twindow.swallow = function(e) {};\n\twindow.getResourceURL = this.getResourceURL;\n\twindow.reloadCSS = Ext.bind(this.reloadCSS, this);\n\twindow.isFeature = this.isFeature;\n\n\tthis.stopBackspace(document);\n\n\tthis.handleCache();\n\n\n\tfunction makeImage(prop) {\n\t\tvar src = Globals[prop];\n\t\tsrc = getResourceURL(src);\n\t\tif (!src) {\n\t\t\tconsole.warn('No Image for: ' + prop);\n\t\t\treturn;\n\t\t}\n\t\tGlobals[prop] = new Image();\n\t\tGlobals[prop].src = src;\n\t}\n\tmakeImage('CANVAS_URL_SHAPE_BROKEN_IMAGE');\n\tmakeImage('CANVAS_BROKEN_IMAGE');\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/util/Globals.js\n ** module id = 2\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar ObjectUtils = require('./Object');\nvar UtilObject = require('./Object');\nvar ReaderJson = require('../proxy/reader/Json');\n\n\n/*jslint continue: true*/\n/*globals console, document, DOMParser */\nmodule.exports = exports = Ext.define('NextThought.util.Parsing', {\n    singleton: true,\n    COMMON_PREFIX: 'tag:nextthought.com,2011-10:',\n\n    /**\n\t * @param {String|String[]|Object|Object[]} items\n\t * @param {Object} [supplemental] Properties to add to the parsed items (such as flags)\n\t */\n\tparseItems: function(items, supplemental) {\n\t\tvar key, item, reader, results = [];\n\n\t\tif (!Ext.isArray(items)) {\n\t\t\titems = (items && items.Items) || [items];\n\t\t}\n\n\t\tfor (key in items) {\n\t\t\tif (items.hasOwnProperty(key)) {\n\t\t\t\titem = items[key] || {};\n\n\t\t\t\tif (typeof item === 'string') {item = Ext.JSON.decode(item);}\n\n\t\t\t\tif (item instanceof Ext.data.Model) {\n\t\t\t\t\tresults.push(item);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\treader = this.getReaderFor(item);\n\t\t\t\tif (!reader) {\n\t\t\t\t\tconsole.debug('No reader for item: ', item);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (supplemental) {\n\t\t\t\t\tExt.applyIf(item, supplemental);\n\t\t\t\t}\n\n\t\t\t\tresults.push(reader.read(item).records[0]);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t},\n\n    findModel: function(data) {\n\t\tfunction recurse(dir, modelName) {\n\t\t\tvar sub, o = dir[modelName];\n\n\t\t\tif (o) {\n\t\t\t\treturn o;\n\t\t\t}\n\n\t\t\tfor (sub in dir) {\n\t\t\t\tif (dir.hasOwnProperty(sub) && sub !== 'MAP') {\n\t\t\t\t\tif (!dir[sub].$isClass && !dir[sub].singleton) {\n\t\t\t\t\t\to = recurse(dir[sub], modelName);\n\t\t\t\t\t\tif (o) {return o;}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\tvar name, m;\n\n\t\tif (data.MimeType) {\n\t\t\tm = NextThought.model.MAP[data.MimeType];\n\t\t\tm = m && Ext.ClassManager.get(m);\n\t\t\tif (m) {\n\t\t\t\treturn m;\n\t\t\t}\n\n\t\t\tconsole.warn('No model for mimeType: ' + data.MimeType + '. Falling back to classname resolution: ' + data.Class);\n\t\t}\n\n\t\tif (Ext.isString(data)) {\n\t\t\tname = data;\n\t\t} else if (data.Class) {\n\t\t\tname = data.Class;\n\t\t}\n\n\t\treturn recurse(NextThought.model, name);\n\t},\n\n    getReaderFor: function(item) {\n\t\tthis.readers = this.readers || [];\n\n\t\tvar o = this.findModel(item);\n\t\tif (!o) {\n\t\t\tconsole.error('no model found for ', item);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.readers[o.$className]) {\n\t\t\tthis.readers[o.$className] = NextThought.proxy.reader.Base.create({\n\t\t\t\tmodel: o.$className, proxy: 'nti'\n\t\t\t});\n\t\t}\n\n\t\treturn this.readers[o.$className];\n\n\t},\n\n    isNTIID: function(id) {\n\t\treturn Boolean(this.parseNTIID(id));\n\t},\n\n    /**\n\t * Parses an id and returns an object containing the split portions\n\t * See http://excelsior.nextthought.com/server-docs/ntiid-structure/\n\n\t * @param {String} id\n\t * @return {Object} an object containing the components of the id\n\t */\n\tparseNTIID: function(id) {\n\t\tvar parts = (typeof id !== 'string' ? (id || '').toString() : id).split(':'),\n\t\t\tauthority, specific,\n\t\t\tresult = {};\n\n\t\tif (parts.length < 3 || parts[0] !== 'tag') {\n\t\t\t//console.warn('\"'+id+'\" is not an NTIID');\n\t\t\treturn null;\n\t\t}\n\n\t\t//First part is tag, second is authority, third is specific portion\n\n\t\t//authority gets split by comma into name and date\n\t\tauthority = parts[1].split(',');\n\t\tif (authority.length !== 2) {\n\t\t\t//invalid authority chunk\n\t\t\treturn null;\n\t\t}\n\n\t\tresult.authority = {\n\t\t\tname: authority[0],\n\t\t\tdate: authority[1]\n\t\t};\n\n\t\t//join any parts after the 2nd into the specific portion that will\n\t\t//then be split back out into the specific parts.\n\t\t//TODO yank the fragment off the end\n\t\tspecific = parts.slice(2).join(':');\n\t\tspecific = specific.split('-');\n\n\t\tresult.specific = {\n\t\t\ttype: specific.length === 3 ? specific[1] : specific[0],\n\t\t\ttypeSpecific: specific.length === 3 ? specific[2] : specific[1]\n\t\t};\n\n\t\t//Define a setter on provider property so we can match the ds escaping of '-' to '_'\n\t\tObjectUtils.defineAttributes(result.specific, {\n\t\t\tprovider: {\n\t\t\t\tgetter: function() {return this.$$provider;},\n\t\t\t\tsetter: function(p) {\n\t\t\t\t\tif (p && p.replace) {\n\t\t\t\t\t\tp = p.replace(/-/g, '_');\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$provider = p;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tresult.specific.provider = specific.length === 3 ? specific[0] : null;\n\n\t\tresult.toString = function() {\n\t\t\tvar m = this,\n\t\t\t\ta = [\n\t\t\t\t\tm.authority.name,\n\t\t\t\t\tm.authority.date\n\t\t\t\t],\n\t\t\t\ts = [\n\t\t\t\t\tm.specific.provider,\n\t\t\t\t\tm.specific.type,\n\t\t\t\t\tm.specific.typeSpecific\n\t\t\t\t];\n\t\t\tif (!m.specific.provider) {\n\t\t\t\ts.splice(0, 1);\n\t\t\t}\n\n\t\t\treturn ['tag', a.join(','), s.join('-')].join(':');\n\t\t};\n\n\t\t//FIXME include authority?\n\t\tresult.toURLSuffix = function() {\n\t\t\t//#!html/mathcounts/mathcounts2013.warm_up_7\n\t\t\tvar m = this, components = [];\n\n\t\t\tcomponents.push(m.specific.type);\n\t\t\tif (m.specific.provider) {\n\t\t\t\tcomponents.push(m.specific.provider);\n\t\t\t}\n\t\t\tcomponents.push(m.specific.typeSpecific);\n\n\t\t\treturn '#!' + Ext.Array.map(components, encodeURIComponent).join('/');\n\t\t};\n\n\t\treturn result;\n\t},\n\n    /**\n\t * CSS escape ids\n\t * @param {string} id\n\t * @return {string} CSS-friendly string to use in a selector\n\t */\n\tescapeId: function(id) {\n\t\treturn id.replace(/:/g, '\\\\3a ') //no colons\n\t\t\t\t.replace(/,/g, '\\\\2c ')//no commas\n\t\t\t\t.replace(/\\./g, '\\\\2e ');//no periods\n\t},\n\n    /**\n\t * Returns the prefix of the content ntiid we think this ntiid would reside beneath\n\t * @param {String} id\n\t * @return {String}\n\t */\n\tntiidPrefix: function(id) {\n\t\tvar ntiid = this.parseNTIID(id);\n\t\tif (ntiid) {\n\t\t\tntiid.specific.type = 'HTML';\n\t\t\tntiid.specific.typeSpecific = ntiid.specific.typeSpecific.split('.').first();\n\t\t}\n\t\treturn ntiid && ntiid.toString();\n\t},\n\n    parseNtiFragment: function(fragment) {\n\t\tvar authority = 'nextthought.com,2011-10',\n\t\t\tparts, type, provider, typeSpecific, s;\n\n\t\tif (Ext.isEmpty(fragment) || fragment.indexOf('#!') !== 0) {\n\t\t\treturn null;\n\t\t}\n\t\tfragment = fragment.slice(2);\n\t\tparts = fragment.split('/');\n\t\tif (parts.length < 2 || parts.length > 3) {\n\t\t\treturn null;\n\t\t}\n\n\t\ttype = parts[0];\n\t\tprovider = parts.length === 3 ? parts[1] : '';\n\t\ttypeSpecific = parts.length === 3 ? parts[2] : parts[1];\n\n\t\ts = Ext.Array.map([provider, type, typeSpecific], decodeURIComponent);\n\t\tif (Ext.isEmpty(provider)) {\n\t\t\ts.splice(0, 1);\n\t\t}\n\n\t\treturn ['tag', authority, s.join('-')].join(':');\n\t},\n\n    parseQueryString: function(qStr) {\n\t\tif (Ext.isEmpty(qStr)) {\n\t\t\treturn null;\n\t\t}\n\t\tvar r = {};\n\n\t\tExt.each(qStr.split('&'), function(kv) {\n\t\t\tkv = kv.split('=');\n\t\t\tr[kv[0]] = decodeURIComponent(kv[1]);\n\t\t});\n\n\t\tr.toString = function() {\n\t\t\tvar out = [], k;\n\t\t\tfor (k in this) {\n\t\t\t\tif (this.hasOwnProperty(k)) {\n\t\t\t\t\tout.push([k, encodeURIComponent(this[k])].join('='));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn out.join('&');\n\t\t};\n\t\treturn r;\n\t},\n\n    isEncodedNTIID: function(component) {\n\t\tvar decoded = this.decodeFromURI(component);\n\n\t\treturn this.isNTIID(decoded) && !this.isEncodedNTIIMimeType(component);\n\t},\n\n    isEncodedNTIIMimeType: function(component) {\n\t\tvar decoded = decodeURIComponent(component),\n\t\t\tindex = decoded.indexOf('application/vnd.nextthought');\n\n\t\treturn index > -1;\n\t},\n\n    encodeForURI: function(ntiid) {\n\t\tvar cut = this.COMMON_PREFIX.length;\n\n\t\tif (ntiid && ntiid.substr(0, cut) === this.COMMON_PREFIX) {\n\t\t\tntiid = ntiid.substr(cut);\n\t\t}\n\n\t\treturn encodeURIComponent(ntiid);\n\t},\n\n    decodeFromURI: function(component) {\n\t\tvar ntiid = decodeURIComponent(component);\n\n\t\tif (!this.isNTIID(ntiid) && ntiid.substr(0,3) !== 'tag') {\n\t\t\tntiid = this.COMMON_PREFIX + ntiid;\n\t\t}\n\n\t\treturn ntiid;\n\t}\n},function() {\n\t/*\n\t * DOMParser HTML extension\n\t * 2012-02-02\n\t *\n\t * By Eli Grey, http://eligrey.com\n\t * Public domain.\n\t * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n\t */\n\n\t/*! @source https://gist.github.com/1129031 */\n\t(function(DOMParser) {\n\t    'use strict';\n\t    var DOMParser_proto = DOMParser.prototype,\n\t\t\treal_parseFromString = DOMParser_proto.parseFromString;\n\n\t    // Firefox/Opera/IE throw errors on unsupported types\n\t    try {\n\t        // WebKit returns null on unsupported types\n\t        if ((new DOMParser()).parseFromString('', 'text/html')) {\n\t            // text/html parsing is natively supported\n\t            return;\n\t        }\n\t    } catch (ex) {}\n\n\t    DOMParser_proto.parseFromString = function(markup, type) {\n\t\t    if (/^\\s*text\\/html\\s*(?:;|$)/i.test(type)) {\n\t\t\t    var doc = document.implementation.createHTMLDocument(''),\n\t\t\t\t    doc_elt = doc.documentElement,\n\t\t\t\t    first_elt;\n\n\t\t\t    try {\n\t\t\t\t    doc_elt.innerHTML = markup;\n\t\t\t\t    first_elt = doc_elt.firstElementChild;\n\n\t\t\t\t    if (doc_elt.childElementCount === 1 && first_elt.localName.toLowerCase() === 'html') {\n\t\t\t\t\t    doc.replaceChild(first_elt, doc_elt);\n\t\t\t\t    }\n\t\t\t    }\n\t\t\t    catch (IE_SUCKS) {\n\t\t\t\t    console.warn('Head tags may not be returned from queries, due to polyfill/browser shortcomings');\n\t\t\t\t    doc.body.innerHTML = markup;\n\t\t\t    }\n\n\t\t\t    return doc;\n\t\t    }\n\t\t    return real_parseFromString.apply(this, arguments);\n\t    };\n\t}(DOMParser));\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/util/Parsing.js\n ** module id = 3\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.util.Object', {\n\talternateClassName: 'ObjectUtils',\n\tsingleton: true,\n\n\n\tdeleteFunctionProperties: function deleteFunctionsOn(o, allowClassRefs) {\n\t\tvar key;\n\t\t//let the functions go, free up some captured scopes\n\t\tfor (key in o) {\n\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\tif (Ext.isFunction(o[key])) {\n\t\t\t\t\tdelete o[key];\n\t\t\t\t} else if (o[key] && o[key].$className && allowClassRefs !== true) {\n\t\t\t\t\to[key] = 'ref to a ' + o[key].$className;\n\t\t\t\t} else if (Ext.isObject(o[key]) && !o[key].$className) {\n\t\t\t\t\tdeleteFunctionsOn(o[key], allowClassRefs);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\n\tdefineAttributes: function(obj, attrs) {\n\t\tvar setter = '__defineSetter__',\n\t\t\tgetter = '__defineGetter__',\n\t\t\thasDefineProp = Boolean(Object.defineProperty),\n\t\t\ta, g, c, s, e = function() {};\n\n\t\tfor (a in attrs) {\n\t\t\tif (attrs.hasOwnProperty(a)) {\n\t\t\t\tg = attrs[a].getter || e;\n\t\t\t\ts = attrs[a].setter || e;\n\t\t\t\tc = attrs[a].configurable || false;\n\n\t\t\t\tif (hasDefineProp) {\n\t\t\t\t\tObject.defineProperty(obj, a, { configurable: c, enumerable: true, set: s, get: g });\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj[setter](a, s);\n\t\t\t\t\tobj[getter](a, g);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\n\tclean: function clean(o) {\n\t\tvar key, v;\n\t\tif (!o || !Ext.isObject(o)) {return;}\n\t\tfor (key in o) {\n\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\tv = o[key];\n\t\t\t\tif (!v || clean(v)) {//remove falsy values and empty objects\n\t\t\t\t\tdelete o[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Ext.Object.isEmpty(o);\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/util/Object.js\n ** module id = 4\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar UserRepository = require('./UserRepository');\nvar User = require('../model/User');\nvar ParseUtils = require('../util/Parsing');\nvar UtilParsing = require('../util/Parsing');\nvar ModelUser = require('../model/User');\nvar ChatStateStore = require('../app/chat/StateStore');\n\n\nmodule.exports = exports = Ext.define('NextThought.cache.UserRepository', {\n    alias: 'UserRepository',\n    singleton: true,\n    isDebug: $AppConfig.userRepositoryDebug,\n\n    constructor: function() {\n\t\tExt.apply(this, {\n\t\t\tstore: null,\n\t\t\tactiveRequests: {},\n\t\t\t_activeBulkRequests: new Ext.util.MixedCollection(),\n\t\t\t_queuedBulkRequests: new Ext.util.MixedCollection(),\n\t\t\t_pendingResolve: {}\n\t\t});\n\n\t\tvar active = this._activeBulkRequests,\n\t\t\tqueued = this._queuedBulkRequests, task;\n\n\t\ttask = Ext.util.TaskManager.newTask({\n\t\t\tinterval: 50,\n\t\t\trun: function() {\n\t\t\t\tvar t, i = $AppConfig.userBatchResolveRequestStagger || 20;\n\t\t\t\tfunction removeWhenDone(t) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tactive.remove(t);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tfor (i; i > 0 && queued.getCount() > 0; i--) {\n\t\t\t\t\tt = queued.removeAt(0);\n\t\t\t\t\tif (t) {\n\t\t\t\t\t\tt = t();\n\t\t\t\t\t\tif (t) {\n\t\t\t\t\t\t\tactive.add(t);\n\t\t\t\t\t\t\tt.always(removeWhenDone(t));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttask.stop();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (queued.getCount() === 0) {\n\t\t\t\t\ttask.stop();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tqueued.on('add', 'start', task);\n\n\t\tthis.ChatStore = NextThought.app.chat.StateStore.getInstance();\n\n\t\tthis.setPresenceChangeListener(this.ChatStore);\n\t},\n\n    //<editor-fold desc=\"Private Interfaces\">\n\tgetStore: function() {\n\t\tif (!this.store) {\n\t\t\tthis.store = Ext.data.Store.create({model: 'NextThought.model.User'});\n\t\t\t//By default getById on the store is order n.  given we need to call this to both cache\n\t\t\t//and retrieve data that makes resolving a big chunk of users n^2.  Mixed collection\n\t\t\t//supports constant lookups if you can do it by key (which we can for users) so replace\n\t\t\t//the implementation with something faster.\n\t\t\tthis.store.getById = function(theId) {\n\t\t\t\treturn (this.snapshot || this.data).getByKey(theId);\n\t\t\t};\n\t\t}\n\t\treturn this.store;\n\t},\n\n    setPresenceChangeListener: function(store) {\n\t\tstore.on('presence-changed', this.presenceChanged, this);\n\t},\n\n    precacheUser: function(refreshedUser) {\n\t\tvar s = this.getStore(), uid, u;\n\n\t\tif (refreshedUser.getId === undefined) {\n\t\t\trefreshedUser = ParseUtils.parseItems(refreshedUser)[0];\n\t\t}\n\n\t\tuid = refreshedUser.getId();\n\t\tu = s.getById(uid); //user from the store\n\n\t\t//console.log('Update user called with', refreshedUser);\n\n\t\t//if the store had the user\n\t\t// AND it was not equal to the refreshedUser (the user resolved from the server)\n\t\tif (u && !u.equal(refreshedUser)) {\n\t\t\t//If we have a current user, and the user from the store is that user (compared by ID)\n\t\t\tif ($AppConfig.userObject && isMe(u)) {\n\t\t\t\t//If the INSTANCE of the user from the store does not match the instance of the current user object\n\t\t\t\tif (u !== $AppConfig.userObject) {\n\t\t\t\t\t/*//this is strange...why do we get here?\n\t\t\t\t\tconsole.warn('AppConfig user instance is different');\n\t\t\t\t\t//if the user in the store is not the same object as our global reference, then we need to make sure\n\t\t\t\t\t// that we fire changed event just incase someone is listening to it.\n\t\t\t\t\t$AppConfig.userObject.fireEvent('changed', u);\n\n\t\t\t\t\t//Correct the problem\n\t\t\t\t\t$AppConfig.userObject = u;*/\n\t\t\t\t\tif (this.isDebug) {\n\t\t\t\t\t\tconsole.log('Asked to precache an appuser that isnt the current $AppConfig.userObject. Dropping');\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//If the incoming object is a summary object (not from a resolve user call)\n\t\t\t//we don't want to merge into a non summary object.  We end up losing data\n\t\t\tif (!refreshedUser.summaryObject || u.summaryObject) {\n\t\t\t\tthis.mergeUser(u, refreshedUser);\n\t\t\t}\n\t\t}\n\n\t\tif (!u) {\n\t\t\tthis.cacheUser(refreshedUser);\n\t\t}\n\t},\n\n    /*searchUser: function(query) {\n\t\tvar fieldsToMatch = ['Username', 'alias', 'realname', 'email'],\n\t\t\tregex = new RegExp(query),\n\t\t\tmatches;\n\t\tmatches = this.getStore().queryBy(function(rec) {\n\t\t\tvar matched = false;\n\n\t\t\tExt.each(fieldsToMatch, function(field) {\n\t\t\t\tvar v = rec.get(field);\n\t\t\t\tif (v && regex.test(v)) {\n\t\t\t\t\tmatched = true;\n\t\t\t\t}\n\t\t\t\treturn !matched;\n\t\t\t});\n\n\t\t\treturn matched;\n\t\t});\n\t\treturn matches;\n\t},*/\n\n\n\tmergeUser: function(fromStore, newUser) {\n\t\t//Do an in place update so things holding references to us\n\t\t//don't lose their listeners\n\t\t//console.debug('Doing an in place update of ', fromStore, 'with', newUser.raw);\n\t\tfromStore.set(newUser.raw);\n\n\t\t//For things (hopefully legacy things only) listening to changed events\n\t\tfromStore.fireEvent('changed', fromStore);\n\t},\n\n    cacheUser: function(user, maybeMerge) {\n\t\tvar s = this.getStore(),\n\t\t\tid = user.getId() || user.raw[user.idProperty],\n\t\t\tfromStore = s.getById(id);\n\t\tif (fromStore) {\n\t\t\tif (maybeMerge) {\n\t\t\t\tthis.mergeUser(fromStore, user);\n\t\t\t\treturn fromStore;\n\t\t\t}\n\n\t\t\ts.remove(fromStore);\n\n\t\t}\n\t\tif (this.isDebug) {\n\t\t\tconsole.debug('Adding resolved user to store', user.getId(), user);\n\t\t}\n\t\ts.add(user);\n\t\treturn user;\n\t},\n\n    resolveFromStore: function(key) {\n\t\tvar s = this.getStore();\n\t\treturn s.getById(key) || s.findRecord('Username', key, 0, false, true, true) || s.findRecord('NTIID', key, 0, false, true, true);\n\t},\n\n    //</editor-fold>\n\n\t//<editor-fold desc=\"Public Interface\">\n\tgetUser: function(username, callback, scope, forceFullResolve, cacheBust) {\n\t\tif (!Ext.isArray(username)) {\n\t\t\tusername = [username];\n\t\t\tusername.returnSingle = true;\n\t\t}\n\n\t\t//Did someone do something stupid and send in an empty array\n\t\tif (Ext.isEmpty(username)) {\n\t\t\tExt.callback(callback, scope, [[]]);\n\t\t\treturn Promise.resolve([]);\n\t\t}\n\n\t\tvar me = this,\n\t\t\tresult = {},\n\t\t\tl = username.length,\n\t\t\tnames = [],\n\t\t\ttoResolve = [],\n\t\t\tcanBulkResolve = !forceFullResolve && isFeature('bulk-resolve-users');\n\n\t\treturn new Promise(function(fulfill, reject) {\n\n\t\t\tfunction maybeFinish(k, v) {\n\t\t\t\tresult[k] = v;\n\t\t\t\tl -= 1;\n\n\t\t\t\tif (l <= 0) {\n\t\t\t\t\tresult = names.map(function(n) {\n\t\t\t\t\t\treturn result[n] || User.getUnresolved(n);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (username.returnSingle) {\n\t\t\t\t\t\tresult = result.first();\n\t\t\t\t\t}\n\t\t\t\t\tfulfill(result);\n\t\t\t\t\tExt.callback(callback, scope, [result]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tusername.forEach(function(o) {\n\t\t\t\t\tvar name, r;\n\n\t\t\t\t\tif (Ext.isString(o)) {\n\t\t\t\t\t\tname = o;\n\t\t\t\t\t}\n\t\t\t\t\telse if (o.getId !== undefined) {\n\t\t\t\t\t\tif (o.isUnresolved && o.isUnresolved() === true) {\n\t\t\t\t\t\t\tnames.push(o.getId());\n\t\t\t\t\t\t\tmaybeFinish(o.getId(), o);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname = o.getId();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t//JSON representation of User\n\t\t\t\t\t\tr = ParseUtils.parseItems(o)[0];\n\t\t\t\t\t\tif (!r || !r.getModelName) {\n\t\t\t\t\t\t\tExt.Error.raise({message: 'Unknown result', object: r});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname = r.getId();\n\t\t\t\t\t}\n\t\t\t\t\tnames.push(name);\n\n\t\t\t\t\tr = me.resolveFromStore(name);\n\t\t\t\t\tif (r && r.raw && (!forceFullResolve || !r.summaryObject)) {\n\t\t\t\t\t\tmaybeFinish(name, r);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ParseUtils.isNTIID(name)) {\n\t\t\t\t\t\tService.getObject(name)\n\t\t\t\t\t\t\t.then(function(u) {\n\t\t\t\t\t\t\t\tmaybeFinish(name, me.cacheUser(u, true));\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\t\t\tmaybeFinish(name);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[name] = null;\n\t\t\t\t\ttoResolve.push(name);\n\t\t\t\t\t//Legacy Path begin:\n\t\t\t\t\tif (!canBulkResolve) {\n\t\t\t\t\t\tme.makeRequest(name, {\n\t\t\t\t\t\t\tscope: me,\n\t\t\t\t\t\t\tfailure: function() {\n\t\t\t\t\t\t\t\tmaybeFinish(name, User.getUnresolved(name));\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: function(u) {\n\t\t\t\t\t\t\t\t//Note we recache the user here no matter what\n\t\t\t\t\t\t\t\t//if we requestsd it we cache the new values\n\t\t\t\t\t\t\t\tmaybeFinish(name, me.cacheUser(u, true));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, cacheBust);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.debug('Defer to Bulk Resolve...', name);\n\t\t\t\t\t}\n\t\t\t\t\t//Legacy Path END\n\t\t\t\t});\n\n\t\t\tif (toResolve.length > 0 && canBulkResolve) {\n\t\t\t\tme.bulkResolve(toResolve)\n\t\t\t\t\t.done(function(users) {\n\t\t\t\t\t\t//Note we recache the user here no matter what\n\t\t\t\t\t\t//if we requestsd it we cache the new values\n\t\t\t\t\t\tusers.forEach(function(u) { maybeFinish(u.getId(), me.cacheUser(u, true)); });\n\t\t\t\t\t\tif (l > 0) {\n\t\t\t\t\t\t\tl = 0;\n\t\t\t\t\t\t\tmaybeFinish();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(reason) {\n\t\t\t\t\t\tconsole.error('Failed to bulk resolve: %o %o', toResolve, reason);\n\t\t\t\t\t\treject(reason);\n\t\t\t\t\t\tfulfill = Ext.emptyFn;\n\t\t\t\t\t\tExt.callback(callback, scope, [[]]);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t});\n\t},\n\n    //</editor-fold>\n\n\n\t//<editor-fold desc=\"Bulk Request\">\n\t/**\n\t * Perform a bulk resolve. (and gather as many concurent resolves as posible w/o delaying too long)\n\t * @param {String[]} names\n\t * @return {Promise}\n\t */\n\tbulkResolve: (function() {\n\t\tvar toResolve = [],\n\t\t\tpending = [],\n\t\t\twork = Ext.Function.createBuffered(function() {\n\t\t\t\tvar job = pending,\n\t\t\t\t\tload = toResolve;\n\n\t\t\t\ttoResolve = [];\n\t\t\t\tpending = [];\n\n\t\t\t\tconsole.debug('Resolving in bulk...', load.length);\n\n\t\t\t\tthis.makeBulkRequest(load)\n\t\t\t\t\t\t.done(function(v) {\n\t\t\t\t\t\t\tjob.forEach(function(p) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tp.fulfill(v);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tconsole.error('%s: %o', e.message, e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function(v) {\n\t\t\t\t\t\t\tjob.forEach(function(p) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tp.reject(v);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tconsole.error('%s: %o', e.message, e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t}, 10);\n\n\t\tfunction toWork(names, fulfill, reject) {\n\t\t\ttoResolve = Ext.Array.unique(toResolve.concat(names));\n\t\t\tpending.push({\n\t\t\t\tfulfill: fulfill,\n\t\t\t\treject: reject\n\t\t\t});\n\t\t\twork.call(this);\n\t\t}\n\n\t\treturn function(names) {\n\t\t\tvar me = this;\n\n\t\t\tnames = Ext.Array.unique(names);\n\n\t\t\treturn new Promise(function(fulfill, reject) {\n\n\t\t\t\tfunction success(v) {\n\t\t\t\t\tvar fulfillment = [], x, i;\n\n\t\t\t\t\tfor (i = v.length - 1; i >= 0; i--) {\n\n\t\t\t\t\t\tfor (x = names.length - 1; x >= 0; x--) {\n\n\t\t\t\t\t\t\tif (v[i] && names[x] === v[i].getId()) {\n\t\t\t\t\t\t\t\tfulfillment.push(v[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fulfillment.length !== names.length) {\n\t\t\t\t\t\tconsole.warn('Length missmatch! Assuming this is due to communities in the list.', names, fulfillment, v);\n\t\t\t\t\t}\n\t\t\t\t\tfulfill(fulfillment);\n\t\t\t\t}\n\n\t\t\t\ttoWork.call(me, names.slice(), success, reject);\n\t\t\t});\n\t\t};\n\t}()),\n\n    makeBulkRequest: function(usernames) {\n\t\tvar me = this,\n\t\t\tchunkSize = $AppConfig.userBatchResolveChunkSize || 200;\n\n\t\tfunction rebuild(lists) {\n\t\t\treturn me.__recompose(usernames, lists);\n\t\t}\n\n\t\treturn Promise.all(usernames.chunk(chunkSize).map(me.__chunkBulkRequest.bind(me)))\n\t\t\t\t.done(rebuild)\n\t\t\t\t.fail(function failed(reason) {\n\t\t\t\t\tconsole.error('Failed: %o', reason);\n\t\t\t\t\treturn Promise.reject(reason);\n\t\t\t\t});\n\t},\n\n    __recompose: function(names, lists) {\n\t\tvar agg = [],\n\t\t\ti = lists.length - 1,\n\t\t\tx, list, u, m = {};\n\n\t\tagg.length = names.length;//JSLint doesn't like the Array(size) constructor. SO, lets just do the two-step version. (declare, then assign length :|)\n\n\t\tnames.forEach(function(n, ix) { m[n] = ix; });\n\n\t\t//because we may not have the same lists of requested items,\n\t\t// we must rebuild based on usernames.\n\t\tfor (i; i >= 0; i--) {\n\t\t\tlist = lists[i] || [];\n\t\t\tfor (x = (list.length - 1); x >= 0; x--) {\n\t\t\t\tu = list[x] && list[x].getId && list[x].getId();\n\t\t\t\tif (u && m.hasOwnProperty(u)) {\n\t\t\t\t\tagg[m[u]] = list[x];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn agg;\n\t},\n\n    __chunkBulkRequest: function(names) {\n\t\tvar me = this,\n\t\t\tdivert = [], requestNames,\n\t\t\tactive = me._pendingResolve;\n\n\t\trequestNames = names.filter(function(n) {\n\t\t\tvar a = active[n], u;\n\t\t\tif (a && divert.indexOf(a) === -1) {\n\t\t\t\tdivert.push(a);\n\t\t\t} else {\n\t\t\t\tu = me.getStore().getById(n);\n\t\t\t\tif (u) {\n\t\t\t\t\ta = Promise.resolve([u]);\n\t\t\t\t\tdivert.push(a);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !a;\n\t\t});\n\n\t\tif (requestNames.length > 0) {\n\t\t\tdivert.push(me.__bulkRequest(requestNames));\n\t\t}\n\n\t\treturn Promise.all(divert)\n\t\t\t.done(function(lists) {\n\t\t\t\treturn me.__recompose(names, lists);\n\t\t\t})\n\t\t\t.fail(function(reason) {\n\t\t\t\tconsole.error('Failed: %o', reason);\n\t\t\t\treturn Promise.reject(reason);\n\t\t\t});\n\t},\n\n    __bulkRequest: function(names) {\n\t\tvar me = this,\n\t\t\tstore = me.getStore(),\n\t\t\tactive = me._pendingResolve,\n\t\t\trequestQue = me._queuedBulkRequests, p;\n\n\t\tfunction recieve(json) {\n\t\t\tvar u = [], i = names.length - 1, o, n;\n\n\t\t\tjson = (json || {}).Items || {};\n\n\t\t\tstore.suspendEvents(true);\n\n\t\t\t//large sets, use as little extra function calls as possible.\n\t\t\tfor (i; i >= 0; i--) {\n\t\t\t\tn = names[i];\n\t\t\t\to = json[n];\n\t\t\t\tif (o) {\n\t\t\t\t\to = json[n];\n\t\t\t\t\tif (o.MimeType === User.mimeType) {\n\t\t\t\t\t\to = User.create(o, n);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('Parsing a non-user: \"%s\" %o', n, o);\n\t\t\t\t\t\to = ParseUtils.parseItems(o)[0];\n\t\t\t\t\t}\n\t\t\t\t\to.summaryObject = true;\n\t\t\t\t\tme.cacheUser(o, true);\n\t\t\t\t\tme.updatePresenceFromResolve([o]);\n\t\t\t\t} else {\n\t\t\t\t\to = User.getUnresolved(n);\n\t\t\t\t}\n\t\t\t\tu.push(o);\n\t\t\t}\n\n\t\t\tstore.resumeEvents();\n\n\n\t\t\t//schedual cleanup.\n\t\t\twait(60000).then(function() {\n\t\t\t\tconsole.debug('Cleanup...');\n\t\t\t\tvar i = names.length - 1;\n\t\t\t\tfor (i; i >= 0; i--) {\n\t\t\t\t\tdelete active[names[i]];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn u;\n\t\t}\n\n\t\tfunction fire(fulfill) {\n\n\t\t\treturn wait()\n\t\t\t\t.then(function() {\n\t\t\t\t\treturn me.__makeRequest({\n\t\t\t\t\t\turl: Service.getBulkResolveUserURL(),\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tjsonData: {usernames: names}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.always(recieve)\n\t\t\t\t.done(fulfill);\n\t\t}\n\n\t\tp = new Promise(function(fulfill, reject) {\n\t\t\trequestQue.add(fire.bind(null, fulfill, reject));\n\t\t});\n\n\t\tnames.forEach(function(n) { active[n] = p; });\n\n\t\treturn p;\n\t},\n\n    __foregroundRequest: function() {\n\t\tconsole.log('Requesting in foreground');\n\t\treturn Service.request.apply(Service, arguments)\n\t\t\t\t.then(function(txt) { return Ext.decode(txt, true); });\n\t},\n\n    __makeRequest: function(req) {\n\t\tvar w = this.worker, p, a = {};\n\t\tif (!w) {\n\t\t\treturn this.__foregroundRequest(req);\n\t\t}\n\n\t\ta = w.active = w.active || a;\n\n\t\tp = new Deferred();//required to be a Deferred, since our worker communication\n\t\t// is \"evented\", we cannot pass a callback. Though, I'm sure we can reorganize\n\t\t// this logic to make it more 'proper'\n\n\t\tif (a.hasOwnProperty(p.id)) {\n\t\t\tconsole.error('ASSERTION FAILED');\n\t\t\treturn;\n\t\t}\n\n\t\ta[p.id] = p;\n\t\treq.id = p.id;\n\t\tw.postMessage(req);\n\t\treturn p;\n\t},\n\n    __workerMessage: function(msg) {\n\t\tvar data = msg.data,\n\t\t\tw = this.worker, p, a;\n\t\tif (!w) {\n\t\t\tExt.Error.raise('How did you get here without a worker?');\n\t\t}\n\n\t\ta = w.active = w.active || {};\n\t\tp = a[data.id];\n\t\tif (!p) {\n\t\t\tExt.Error.raise('Bad Message, requet finished, but nothing was listening.');\n\t\t}\n\n\t\tdelete a[data.id];\n\t\tp.fulfill(data.result);\n\t},\n\n    //</editor-fold>\n\n\n\t/**\n\t * Once called, if the user is not in the cache, a placeholder object will be injected. If something requests that\n\t * user while its still resolving, the record will not have a 'raw' property and it will have 'placeholder' set true\n\t * in the 'data' property.\n\t *\n\t * @param {String} username\n\t * @param {Object} callbacks\n\t * @param {Boolean} cacheBust\n\t */\n\tmakeRequest: function(username, callbacks, cacheBust) {\n\t\tvar me = this,\n\t\t\tresult = null,\n\t\t\turl = Service.getResolveUserURL(username),\n\t\t\toptions;\n\n\t\tif (cacheBust) {\n\t\t\turl += (url.indexOf('?') < 0 ? '?' : '&') + '_dc=' + (new Date()).getTime();\n\t\t}\n\n\t\tif (!username) {\n\t\t\tconsole.error('no user to look up');\n\t\t\treturn null;\n\t\t}\n\n\t\tfunction callback(o, success, r) {\n\n\t\t\tdelete me.activeRequests[username];\n\n\t\t\tif (!success) {\n\t\t\t\tif (this.debug) {\n\t\t\t\t\tconsole.warn('There was an error resolving user:', username, arguments);\n\t\t\t\t}\n\t\t\t\tif (callbacks && callbacks.failure) {\n\t\t\t\t\tcallbacks.failure.call(callbacks.scope || this);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar json = Ext.decode(r.responseText),\n\t\t\t\tlist = ParseUtils.parseItems(json.Items);\n\n\t\t\tif (list && list.length > 1) {\n\t\t\t\tconsole.warn('many matching users: \"', username, '\"', list);\n\t\t\t}\n\n\t\t\tlist.forEach(function(u) {\n\t\t\t\tif (u.get('Username') === username) {\n\t\t\t\t\tresult = u;\n\t\t\t\t\tu.summaryObject = false;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tme.updatePresenceFromResolve(list);\n\n\t\t\tif (result && callbacks && callbacks.success) {\n\t\t\t\tcallbacks.success.call(callbacks.scope || this, result);\n\t\t\t}\n\n\t\t\tif (!result) {\n\t\t\t\tif (callbacks && callbacks.failure) {\n\t\t\t\t\tcallbacks.failure.call(callbacks.scope || this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.activeRequests[username] && this.activeRequests[username].options) {\n\t\t\t//\tconsole.log('active request detected for ' + username);\n\t\t\toptions = this.activeRequests[username].options;\n\t\t\toptions.callback = Ext.Function.createSequence(\n\t\t\t\toptions.callback,\n\t\t\t\tfunction() {\n\t\t\t\t\tcallback.apply(me, arguments);\n\t\t\t\t}, me);\n\t\t\treturn null;\n\t\t}\n\n\n\t\tthis.activeRequests[username] = Ext.Ajax.request({\n\t\t\turl: url,\n\t\t\tscope: me,\n\t\t\tasync: !!callbacks,\n\t\t\tcallback: callback\n\t\t});\n\n\t\treturn result;\n\t},\n\n    updatePresenceFromResolve: function(list) {\n\t\tvar store = this.ChatStore;\n\n\t\tlist.forEach(function(u) {\n\t\t\t//check if we already have a presence info for them\n\t\t\tvar presence = store.getPresenceOf(u.get('Username'));\n\t\t\tif (presence) {\n\t\t\t\tu.set('Presence', presence);\n\t\t\t}\n\t\t});\n\t},\n\n    presenceChanged: function(username, presence) {\n\t\tvar u = this.getStore().getById(username), newPresence;\n\t\tif (this.debug) {console.log('User repository recieved a presence change for ', username, arguments);}\n\t\tnewPresence = (presence && presence.isPresenceInfo) ?\n\t\t\t\t\t  presence :\n\t\t\t\t\t  NextThought.model.PresenceInfo.createFromPresenceString(presence, username);\n\n\t\tif (u) {\n\t\t\tif (this.debug) {\n\t\t\t\tconsole.debug('updating presence for found user', u);\n\t\t\t}\n\t\t\tu.set('Presence', newPresence);\n\t\t\tu.fireEvent('changed', u);\n\t\t}\n\t\telse if (this.debug) {\n\t\t\tconsole.debug('no user found to update presence');\n\t\t}\n\t}\n},\nfunction() {\n\tfunction worker() {\n\t\tvar keep = {\n\t\t\tClass: 1,\n\t\t\tCreatedTime: 1,\n\t\t\tavatarURL: 1,\n\t\t\tLinks: 1,\n\t\t\tMimeType: 1,\n\t\t\tNTIID: 1,\n\t\t\tOU4x4: 1,\n\t\t\tUsername: 1,\n\t\t\talias: 1,\n\t\t\trealname: 1,\n\t\t\tNonI18NLastName: 1,\n\t\t\tNonI18NFirstName: 1,\n\t\t\thref: 1,\n\t\t\t//profile fields (can't drop these) It would be nice to not to include these until we view the profile. (separate call?)\n\t\t\tabout: 1,\n\t\t\taffiliation: 1,\n\t\t\tdescription: 1,\n\t\t\thome_page: 1,\n\t\t\tlocation: 1,\n\t\t\trole: 1\n\t\t};\n\n\t\tself.addEventListener('message', function(e) {\n\t\t\tvar resp = {};\n\t\t\tfetch(e.data, function(json, shell) {\n\t\t\t\tvar i, l, o, p;\n\n\t\t\t\tresp.id = e.data.id;\n\t\t\t\ttry {\n\t\t\t\t\tresp.result = JSON.parse(json);\n\t\t\t\t} catch (er) {\n\t\t\t\t\tconsole.error(json + '\\n', er.stack || er.message || er);\n\t\t\t\t\tresp.result = {};\n\t\t\t\t}\n\n\t\t\t\tif (shell) {\n\t\t\t\t\tl = (resp.result || {}).Items || {};\n\n\t\t\t\t\tif (l.avatarURL == null) {\n\t\t\t\t\t\tl.avatarURL = '@@avatar';\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (i in l) {\n\t\t\t\t\t\tif (l.hasOwnProperty(i)) {\n\t\t\t\t\t\t\to = l[i];\n\t\t\t\t\t\t\tfor (p in o) {\n\t\t\t\t\t\t\t\tif (o.hasOwnProperty(p) && !keep[p]) {\n\t\t\t\t\t\t\t\t\tdelete o[p];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\to.shell = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself.postMessage(resp);\n\t\t\t});\n\t\t}, false);\n\n\t\tfunction fetch(data, fn) {\n\t\t\tvar req = new XMLHttpRequest();\n\t\t\treq.open('POST', data.url, true);\n\t\t\tif (!data.hasOwnProperty('shell')) {\n\t\t\t\tdata.shell = true;\n\t\t\t}\n\n\t\t\treq.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\t\t\treq.setRequestHeader('Accept', 'application/json');\n\n\t\t\treq.onreadystatechange = function() {\n\t\t\t\tif (req.readyState === 4) {\n\t\t\t\t\tif (req.status === 200) {\n\t\t\t\t\t\tfn(req.responseText, data.shell);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfn('Error: ' + req.status);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treq.send(JSON.stringify(data.jsonData));\n\t\t}\n\t}\n\ttry {\n\t\tvar re = /(__cov_\\$[^\\[]+\\['\\d+'\\])(\\[\\d+\\])?(\\+\\+)[;,]\\s*/ig,//istanbul's (code coverage) instrumentation pattern\n\t\t\tcode = worker.toString();\n\n\t\tif (Ext.isIE11p) { throw 'Webworkers are broken in IE11'; }\n\n\t\t//unit tests' coverage reporter doesn't instrument the generated\n\t\t// code correctly and causes code execution to halt. So, strip it out for now.\n\t\tcode = code.replace(re, '');\n\n\t\tthis.worker = new Worker(URL.createObjectURL(new Blob(['(', code, ')();'], {type: 'text/javascript'})));\n\t\tthis.worker.onmessage = this.__workerMessage.bind(this);\n\t\tthis.worker.onerror = function() {\n\t\t\tdelete UserRepository.worker;\n\t\t\tconsole.error('No Worker for bulk resolve');\n\t\t};\n\t} catch (e) {\n\t\tconsole.error('No Worker for bulk resolve');\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/cache/UserRepository.js\n ** module id = 5\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('../util/Globals');\nvar ParseUtils = require('../util/Parsing');\nvar TimeUtils = require('../util/Time');\nvar MixinsHasLinks = require('../mixins/HasLinks');\nvar MixinsHasLinks = require('../mixins/HasLinks');\nvar ConvertersContentRangeDescription = require('./converters/ContentRangeDescription');\nvar ConvertersDCCreatorToAuthor = require('./converters/DCCreatorToAuthor');\nvar ConvertersDate = require('./converters/Date');\nvar ConvertersFuture = require('./converters/Future');\nvar ConvertersGroupByTime = require('./converters/GroupByTime');\nvar ConvertersItems = require('./converters/Items');\nvar ConvertersLinks = require('./converters/Links');\nvar ConvertersPresenceInfo = require('./converters/PresenceInfo');\nvar ConvertersSynthetic = require('./converters/Synthetic');\nvar ConvertersUsers = require('./converters/Users');\nvar ConvertersVideoSources = require('./converters/VideoSources');\nvar UtilTime = require('../util/Time');\nvar UtilParsing = require('../util/Parsing');\nvar ProxyRest = require('../proxy/Rest');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.Base', {\n    extend: 'Ext.data.Model',\n\n    mixins: {\n\t\thasLinks: 'NextThought.mixins.HasLinks'\n\t},\n\n    inheritableStatics: {\n\t\tidsBeingGloballyUpdated: {},\n\n\t\tisInstanceOf: function(instance) {\n\t\t\treturn instance instanceof this;\n\t\t}\n\t},\n\n    statics: {\n\t\t/**\n\t\t * Fact: creating elements is *kind of* expensive.\n\t\t * Fact: JavaScript is thread-safe, because its not threaded. Its Evented. No more than one block of code runs at a time.\n\t\t * Fact: Anchor tags implement the Location API. Setting a value to the href attribute populates:\n\t\t *  #host, #hostname, #protocol, #port, #pathname, #search, #hash and #origin\n\t\t *  AND modifiying those attribute updates #href.\n\t\t *\n\t\t *  Given those, we can safely make a single instance and share it for use of URL normalization and parsing.\n\t\t *\n\t\t *  ALWAYS set the href before using. NEVER rely on its previous value. Think of this the same way you would the return value of Ext.fly().\n\t\t *  As in temporary!  Assume once your 'atomic' like action is finished, the value is useless. Reaquire, or re-init.\n\t\t */\n\t\t__SHARED_LOCATION_INTERFACE: document.createElement('a'),\n\n\t\t/**\n\t\t * Gives you the shared location interface intialized to a given ref.\n\t\t *\n\t\t * ALWAYS set the href before using. NEVER rely on its previous value. Think of this the same way you would the return value of Ext.fly().\n\t\t * As in temporary!  Assume once your 'atomic' like action is finished, the value is useless. Reaquire.\n\t\t *\n\t\t * @param {String} ref\n\t\t * @return {Location}\n\t\t */\n\t\tgetLocationInterfaceAt: function(ref) {\n\t\t\tvar a = this.__SHARED_LOCATION_INTERFACE;\n\t\t\ta.setAttribute('href', ref);\n\t\t\treturn a;\n\t\t}\n\t},\n\n    idProperty: 'NTIID',\n    proxy: { type: 'nti' },\n\n    fields: [\n\t\t{ name: 'Class', type: 'string', persist: false },\n\t\t{ name: 'ContainerId', type: 'string', useNull: true, convert: function(v) {\n\t\t\tif (v && v.isModel) { v = v.getId(); }\n\t\t\tif (!Ext.isString(v)) {console.error('The ContainerId value is unacceptable:', v);v = null;}\n\t\t\treturn v; }\n\t\t},\n\t\t{ name: 'CreatedTime', type: 'date', persist: false, dateFormat: 'timestamp', defaultValue: new Date(0) },\n\t\t{ name: 'Creator', type: 'auto', persist: false },\n\t\t{ name: 'ID', type: 'string', persist: false },\n\t\t{ name: 'Last Modified', type: 'date', persist: false, dateFormat: 'timestamp', defaultValue: new Date(0) },\n\t\t{ name: 'LikeCount', type: 'int', persist: false },\n\t\t{ name: 'Links', type: 'links', persist: false, defaultValue: [], useInRaw: true},\n\t\t{ name: 'MimeType', type: 'string', useNull: true },\n\t\t{ name: 'NTIID', type: 'string', useNull: true },\n\t\t{ name: 'OID', type: 'string', persist: false },\n\t\t{ name: 'accepts', type: 'auto', persist: false, defaultValue: [] },\n\t\t{ name: 'href', type: 'string', persist: false, convert: function(v) {\n\t\t\tif (!v) { return ''; }\n\n\t\t\tvar a = NextThought.model.Base.getLocationInterfaceAt(v), q;\n\n\t\t\tif (a.search) {\n\t\t\t\tq = Ext.Object.fromQueryString(a.search);\n\t\t\t\tdelete q._dc;\n\t\t\t\ta.search = Ext.Object.toQueryString(q);\n\t\t\t}\n\n\t\t\t//do we ever want fragments in the model href??\n\t\t\t//if (a.hash) {\n\t\t\t\t//a.hash = '';\n\t\t\t//}\n\n\t\t\t//if the value wasn't absolute, it is now.\n\t\t\treturn a.href\n\t\t\t\t\t//trim empty search & fragment tokens\n\t\t\t\t\t.replace(/[\\?&#]+$/, '');\n\t\t} },\n\t\t{ name: 'tags', type: 'auto', defaultValue: [] },\n\t\t{ name: 'editied', type: 'bool', persist: false, convert: function(v, r) {\n\t\t\tvar cd = r.get('CreatedTime'), lm = r.get('Last Modified');\n\t\t\treturn ((cd && cd.getTime()) || 0) !== ((lm && lm.getTime()) || 0);\n\t\t}},\n\n\t\t//For templates\n\t\t{ name: 'isModifiable', persist: false, convert: function(v, r) {return r.phantom || r.getLink('edit') !== null;} },\n\t\t{ name: 'favoriteState', persist: false, type: 'auto', convert: function(o, r) { return r.getLink('unfavorite') ? 'on' : 'off'; }},\n\t\t{ name: 'likeState', persist: false, type: 'auto', convert: function(o, r) { return r.getLink('unlike') ? 'on' : 'off'; }}\n\t],\n\n    //TODO: move into model event domain??\n\tobserver: new Ext.util.Observable(),\n\n    onClassExtended: function(cls, data) {\n\t\tvar map,\n\t\t\ttype,\n\t\t\tmime = {mimeType: 'application/vnd.nextthought.' + data.$className.replace(/^.*?model\\./, '').toLowerCase()};\n\t\tdata.proxy = {type: 'nti', model: cls};\n\t\tExt.applyIf(cls, mime);//Allow overriding\n\t\tExt.applyIf(data, mime);//Allow overriding\n\n\t\ttype = data.mimeType || cls.mimeType;\n\n\t\tmap = NextThought.model.MAP = NextThought.model.MAP || {};\n\t\t//console.log(type);\n\t\tif (map[type] !== undefined) {\n\t\t\tExt.Error.raise('Cannot have more than one model per mimetype: ' + type);\n\t\t}\n\n\t\tmap[type] = data.$className || cls.$className;\n\n\t\t//We don't want to be turning null into empty strings so we must set useNull\n\t\t//Failure to do so creates havok with server side validation and also\n\t\t//results in us potentially unexpectedly changing fields.\n\n\t\t//This will only effect subclasses, so note above where we manually set useNull on the base set of fields where\n\t\t// we do not set persist:false\n\t\tExt.each(data.fields, function(f) {\n\t\t\t//If the field has not set this flag, and its going to be sent to the server... then set flag on the\n\t\t\t// fields behalf.\n\t\t\tif (f && !f.hasOwnProperty('useNull') && f.persist !== false) {\n\t\t\t\tf.useNull = true;\n\t\t\t}\n\t\t});\n\t},\n\n    getClassForModel: function(aliasPrefix, fallback) {\n\t\tvar c = this,\n\t\t\tcls = null,\n\t\t\tname;\n\n\t\twhile (c && !cls) {\n\t\t\tname = ((c.$className || '').split('.').last() || '').toLowerCase();\n\t\t\tcls = Ext.ClassManager.getByAlias(aliasPrefix + name);\n\t\t\tc = c.superclass;\n\t\t}\n\n\t\treturn cls || fallback;\n\t},\n\n    is: function(selector) {\n\t\treturn selector === '*';\n\t},\n\n    //Override isEqual so we can test more complex equality and\n\t//avoid resetting fields that haven't changed\n\tisEqual: function(a, b) {\n\t\t//Super checks === so if it is equal by that\n\t\t//return true\n\t\tif (this.callParent(arguments)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t//If one is an array, to be equal they must both\n\t\t//be arrays and they must contain equal objects in the proper order\n\t\tif (Ext.isArray(a) || Ext.isArray(b)) {\n\t\t\treturn Ext.isArray(a) && Ext.isArray(b) && Globals.arrayEquals(a, b, Ext.bind(this.isEqual, this));\n\t\t}\n\n\t\t//if a defines an equals method return the result of that\n\t\tif (a && Ext.isFunction(a.equal)) {\n\t\t\treturn a.equal(b);\n\t\t}\n\n\t\t//TODO Do anything for \"normal\" js object here\n\n\t\treturn false;\n\t},\n\n    /**\n\t * A list of keys to not include when syncing a record\n\t * @type {Array}\n\t */\n\tSYNC_BLACKLIST: [],\n\n    /**\n\t * Given another instance of the same class, update this values.\n\t *\n\t * @param  {Model} record the instance to update with\n\t */\n\tsyncWith: function(record) {\n\t\tif (!this.self.isInstanceOf(record)) {\n\t\t\tconsle.error('Trying to sync records or two different classes');\n\t\t\treturn;\n\t\t}\n\n\t\tvar newData = record.getData();\n\n\t\tthis.SYNC_BLACKLIST.forEach(function(key) {\n\t\t\tdelete newData[key];\n\t\t});\n\n\t\tthis.set(newData);\n\n\t\tif (this.onSync) {\n\t\t\tthis.onSync();\n\t\t}\n\n\t\tthis.fireEvent('update', this);\n\t},\n\n    /**\n\t * Given a response from the server, update my values\n\t * @param  {String} response server response\n\t */\n\tsyncWithResponse: function(response) {\n\t\tvar json = JSON.parse(response),\n\t\t\tnewRecord;\n\n\t\tjson = Ext.applyIf(json, this.getRaw());\n\n\t\tnewRecord = ParseUtils.parseItems([json])[0];\n\n\t\treturn this.syncWith(newRecord);\n\t},\n\n    /**\n\t * Get the link to request updated values from on the server\n\t *\n\t * @return {String} the link\n\t */\n\t__getLinkForUpdate: function() {\n\t\treturn this.get('href');\n\t},\n\n    /**\n\t * Update this record from the server.\n\t *\n\t * If we are unable to find a href or the update fails, just return\n\t * the record with the same values.\n\t *\n\t * @return {Promise} fulfills with the record after it is updated\n\t */\n\tupdateFromServer: function() {\n\t\tvar me = this,\n\t\t\tlink = this.__getLinkForUpdate(),\n\t\t\tupdate;\n\n\t\tif (link) {\n\t\t\tupdate = Service.request(link)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tme.syncWithResponse(response);\n\n\t\t\t\t\treturn me;\n\t\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn('No link to update record from server with. ', this);\n\t\t\tupdate = Service.getObject(this.getId())\n\t\t\t\t.then(function(object) {\n\t\t\t\t\tme.syncWith(object);\n\n\t\t\t\t\treturn me;\n\t\t\t\t});\n\t\t}\n\n\t\treturn update\n\t\t\t.fail(function(reason) {\n\t\t\t\tconsole.error('Failed to update record from server.', reason);\n\n\t\t\t\treturn me;\n\t\t\t});\n\t},\n\n    constructor: function(data, id, raw) {\n\t\tvar fs = this.fields,\n\t\t\tcName = this.self.getName().split('.').pop(),\n\t\t\tcField = fs.getByKey('Class'), me = this;\n\n\t\t//Workaround for objects that don't have an NTIID yet.\n\t\tif (data && this.idProperty === 'NTIID' && id && raw) {\n\t\t\tif (!data.NTIID) {\n\t\t\t\tif (data.ID) {this.idProperty = 'ID';}\n\t\t\t\telse if (data.OID) {this.idProperty = 'OID';}\n\t\t\t\telse {console.error('Model has no id field');}\n\t\t\t}\n\t\t}\n\n\t\tcField.defaultValue = cName;\n\t\tcField.value = cName;\n\t\tfs.getByKey('MimeType').defaultValue = this.mimeType;\n\n\t\tthis.callParent(arguments);\n\t\tthis.addEvents('changed', 'destroy', 'child-added', 'parent-set', 'modified');\n\t\tthis.enableBubble('changed', 'child-added', 'parent-set');\n\n\t\t//Piggyback on field events to support reconverting dependent readonly fields.\n\t\t//Fields  marked with affectedBy that also have a converter will be reset\n\t\t//when their affectedBy fields change\n\t\tfs.each(function(f) {\n\t\t\tvar affectedBy = f.affectedBy,\n\t\t\t\tfnName = f.name + '-affectedByHandler';\n\t\t\tif (affectedBy && Ext.isFunction(f.convert)) {\n\t\t\t\tif (!Ext.isArray(affectedBy)) {\n\t\t\t\t\taffectedBy = [affectedBy];\n\t\t\t\t}\n\n\n\t\t\t\tme.observer[fnName] = function() {\n\t\t\t\t\t//Note set will end up calling the necessary converter\n\t\t\t\t\tthis.set(f.name, this.get(f.mapping || f.name));\n\t\t\t\t};\n\n\t\t\t\tExt.each(affectedBy, function(a) {\n\t\t\t\t\tme.addObserverForField(me.observer, a, me.observer[fnName], me);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n    getFieldItem: function(field, key) {\n\t\tvar f = this.get(field) || [];\n\t\t// let not having an INDEX_KEYMAP throw an exception so we KNOW we don't have one\n\t\t// so that we can fallback to search... if it just doesn't have the key, we can take its word.\n\t\treturn f[f.INDEX_KEYMAP[key]];\n\t},\n\n    //A model may have some derived fields that\n\t//are readonly values.  These values depend on other traditional fields.\n\t//one such property is 'flagged', it isn't a real field but\n\t//it is derived from Links.  We support getting those values by\n\t//looking for a properly named getter\n\t//\n\t//First we look for a traditional field with the given name\n\t//Second we look for a properly named getter function. ie. isField or getField\n\tget: function(f) {\n\t\tvar capitalizedFieldName, possibleGetters,\n\t\t\tval;//undefined\n\n\t\tif (!f || this.fields.map[f]) {\n\t\t\treturn this.callParent(arguments);\n\t\t}\n\n\t\tcapitalizedFieldName = Ext.String.capitalize(f);\n\t\tpossibleGetters = ['get' + capitalizedFieldName, 'is' + capitalizedFieldName];\n\n\t\tExt.each(possibleGetters, function(g) {\n\t\t\tif (Ext.isFunction(this[g])) {\n\t\t\t\tval = this[g]();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}, this);\n\n\t\treturn val;\n\t},\n\n    valuesAffectedByLinks: function() {\n\t\treturn ['flagged', 'favorited', 'liked', 'published'];\n\t},\n\n    isTopLevel: function() {\n\t\tvar notAReply = !this.get('inReplyTo'),\n\t\t\tnoReferences = (this.get('references') || []).length === 0,\n\t\t\tnoParent = !this.parent;\n\n\t\t//console.log('record is toplevel? ', notAReply, noReferences, noParent, this.raw);\n\n\t\treturn notAReply && noReferences && noParent;\n\t},\n\n    /**\n\t * Caller should wrap in beginEdit() and endEdit()\n\t * @param {Ext.data.Model} recordSrc\n\t * @param {String...} fields\n\t */\n\tcopyFields: function(recordSrc, fields) {\n\t\tvar me = this, maybeFields = fields;\n\n\t\tif (!Ext.isArray(fields)) {\n\t\t\tmaybeFields = Array.prototype.slice.call(arguments, 1) || [];\n\t\t}\n\n\t\tExt.each(maybeFields, function(f) {\n\t\t\tif (Ext.isObject(f)) {\n\t\t\t\tExt.Object.each(f, function(dest, src) {\n\t\t\t\t\tif (me.hasField(dest) && recordSrc.hasField(src)) {\n\t\t\t\t\t\tme.set(dest, recordSrc.get(src));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('fields are not declared:\\n', me, '(dest)', dest, '\\n', recordSrc, '(src)', src);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tme.set(f, recordSrc.get(f));\n\t\t\t}\n\t\t});\n\t},\n\n    hasField: function(fieldName) {\n\t\treturn this.data.hasOwnProperty(fieldName);\n\t},\n\n    tearDownLinks: function() {\n\t\tvar p = this.parent, cn = (this.children || []),\n\t\t\ti, splice = Array.prototype.splice;\n\t\tdelete this.parent;\n\t\tdelete this.children;\n\n\t\tExt.each(cn, function(c) {c.parent = p;});\n\n\t\tif (p && p.children) {\n\t\t\ti = Ext.Array.indexOf(p.children, this);\n\t\t\tif (i !== -1) {\n\t\t\t\tcn.unshift(i, 1);//add the index to our children list so it now looks like [i, 1, note, note, ...]\n\t\t\t\tsplice.apply(p.children, cn);//use cn as the args of splice\n\t\t\t}\n\t\t}\n\n\t\tthis.fireEvent('links-destroyed', this);\n\n\t},\n\n    getBubbleParent: function() {\n\t\treturn this.parent;\n\t},\n\n    getRoot: function() {\n\t\tvar current = this,\n\t\t\tcurrentParent = current.parent;\n\n\t\twhile (currentParent && currentParent.parent) {\n\t\t\tcurrent = currentParent;\n\t\t\tcurrentParent = currentParent.parent;\n\t\t}\n\n\t\treturn current;\n\t},\n\n    wouldBePlaceholderOnDelete: function() {\n\t\treturn (this.children !== undefined && this.get('RecursiveReferenceCount')) || (!Ext.isEmpty(this.children));\n\t},\n\n    convertToPlaceholder: function() {\n\t\tvar me = this, keepList = {\n\t\t\t'Class': 1,\n\t\t\t'ContainerId': 1,\n\t\t\t'ID': 1,\n\t\t\t'MimeType': 1,\n\t\t\t'NTIID': 1,\n\t\t\t'OID': 1,\n\t\t\t'inReplyTo': 1,\n\t\t\t'references': 1\n\t\t};\n\t\tme.placeholder = true;\n\t\tme.fields.each(function(f) {\n\t\t\tif (!keepList[f.name]) {\n\t\t\t\tme.set(f.name, f.defaultValue);\n\t\t\t}\n\t\t});\n\n\t\tme.fireEvent('convertedToPlaceholder');\n\t\tme.fireEvent('updated', me);\n\t\tme.fireEvent('changed');\n\t\tme.maybeCallOnAllObjects('convertToPlaceholder', me, arguments);\n\t},\n\n    destroy: function(options) {\n\t\tvar me = this,\n\t\t\tsuccessCallback = (options || {}).success || Ext.emptyFn,\n\t\t\tfailureCallback = (options || {}).failure || Ext.emptyFn;\n\n\t\tif (me.placeholder) {\n\t\t\tconsole.debug('Firing destroy because destroying placeholder', me);\n\t\t\tme.fireEvent('destroy', me);\n\t\t\tif (me.stores) {\n\t\t\t\tExt.each(me.stores.slice(), function(s) { s.remove(me); });\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (!me.isModifiable()) {return;}\n\n\t\tfunction clearFlag() {\n\t\t\tif (me.destroyDoesNotClearListeners) {\n\t\t\t\tconsole.log('clearing flag');\n\t\t\t}\n\t\t\tdelete me.destroyDoesNotClearListeners;\n\t\t}\n\n\t\tfunction announce() {\n\t\t\tme.fireEvent('deleted', me);\n\t\t}\n\n\t\toptions = Ext.apply(options || {},{\n\t\t\tsuccess: Ext.Function.createSequence(clearFlag,\n\t\t\t\t\tExt.Function.createSequence(announce, successCallback, null), null),\n\t\t\tfailure: Ext.Function.createSequence(clearFlag, failureCallback, null)\n\t\t});\n\n\n\t\tif (me.wouldBePlaceholderOnDelete()) {\n\t\t\tme.destroyDoesNotClearListeners = true;\n\t\t}\n\t\tme.callParent([options]);\n\t},\n\n    enforceMutability: function() {\n\t\tif (!this.isModifiable()) {\n\t\t\tExt.apply(this, {\n\t\t\t\tdestroy: Ext.emptyFn(),\n\t\t\t\tsave: Ext.emptyFn()\n\t\t\t});\n\t\t}\n\t},\n\n    getModelName: function() {\n\t\treturn this.get('Class');\n\t},\n\n    getFriendlyLikeCount: function() {\n\t\tvar c = this.get('LikeCount');\n\t\tif (c <= 0) {return '';}\n\t\tif (c >= 1000) { return '999+';}\n\t\treturn String(c);\n\t},\n\n    isLikeable: function() {\n\t\treturn Boolean(this.getLink('like') || this.getLink('unlike'));\n\t},\n\n    isFavoritable: function() {\n\t\treturn Boolean(this.getLink('favorite') || this.getLink('unfavorite'));\n\t},\n\n    isFavorited: function() {\n\t\treturn Boolean(this.getLink('unfavorite'));\n\t},\n\n    isLiked: function() {\n\t\treturn Boolean(this.getLink('unlike'));\n\t},\n\n    isFlagged: function() {\n\t\treturn Boolean(this.getLink('flag.metoo'));\n\t},\n\n    flag: function(widget) {\n\t\tvar action = this.isFlagged() ? 'flag.metoo' : 'flag',\n\t\t\tprePost = action === 'flag' ? 'addCls' : 'removeCls',\n\t\t\tpostPost = action === 'flag' ? 'removeCls' : 'addCls';\n\n\t\tif (this.activePostTos && this.activePostTos[action]) {return;}\n\n\t\twidget = widget || {};\n\t\tExt.callback(widget[prePost], widget, ['on']);\n\n\t\tthis.postTo(action, function(s) {\n\t\t\tif (!s) {\n\t\t\t\tExt.callback(widget[postPost], widget, ['on']);\n\t\t\t}\n\t\t});\n\t},\n\n    favorite: function(widget) {\n\t\tvar me = this,\n\t\t\tcurrentValue = this.isFavorited(),\n\t\t\taction = currentValue ? 'unfavorite' : 'favorite';\n\n\t\tif (me.activePostTos && me.activePostTos[action]) {return;}\n\n\t\t//We will assume it completes and then update it if it actually fails\n\t\twidget = widget || {};\n\t\tExt.callback(widget.markAsFavorited, widget, [!currentValue]);\n\n\t\tme.postTo(action, function(s) {\n\t\t\tif (s) {\n\t\t\t\t//put \"me\" in the bookmark view?\n\t\t\t\tme.set('favoriteState', currentValue ? 'on' : 'off');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tExt.callback(widget.markAsFavorited, widget, [currentValue]);\n\t\t\t}\n\t\t\tme.set('favoriteState', s);//it doesn't matter what we pass as the value, the converter returns its own value\n\t\t}, 'favorite');\n\t},\n\n    like: function(widget) {\n\t\tvar me = this,\n\t\t\tlc = this.get('LikeCount'),\n\t\t\tcurrentValue = this.isLiked(),\n\t\t\taction = currentValue ? 'unlike' : 'like',\n\t\t\tpolarity = action === 'like' ? 1 : -1;\n\n\t\tif (this.activePostTos && this.activePostTos[action]) {return;}\n\n\t\twidget = widget || {};\n\t\tExt.callback(widget.markAsLiked, widget, [!currentValue]);\n\t\tme.set('LikeCount', lc + polarity);\n\n\t\tthis.postTo(action, function(s) {\n\t\t\tvar r;\n\t\t\tif (!s) {\n\t\t\t\tExt.callback(widget.markAsLiked, widget, [currentValue]);\n\t\t\t\tme.set('LikeCount', lc);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//Find the root if we are in a tree and update its recursive\n\t\t\t\t//like count\n\t\t\t\tr = me;\n\t\t\t\twhile (r.parent) {r = r.parent;}\n\n\t\t\t\tif (r.getTotalLikeCount) {\n\t\t\t\t\tr.set('RecursiveLikeCount', (r.get('RecursiveLikeCount') || 0) + polarity);\n\t\t\t\t}\n\t\t\t}\n\t\t\tme.set('likeState', s);//it doesn't matter what we pass as the value, the converter returns its own value\n\t\t}, 'LikeCount');\n\t},\n\n    postTo: function(link, callback, modifiedFieldName) {\n\t\tthis.activePostTos = this.activePostTos || {};\n\t\tvar me = this, req,\n\t\t\tl = this.getLink(link);\n\n\t\tif (!l) {\n\t\t\tconsole.error('Cannot find link \"' + link + ' on this model.', this);\n\t\t}\n\n\t\tif (l && !this.activePostTos[link]) {\n\t\t\treq = {\n\t\t\t\turl: l,\n\t\t\t\tjsonData: '',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tscope: this,\n\t\t\t\tcallback: function(r, s, response) {\n\t\t\t\t\tdelete me.activePostTos[link];\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\tvar o = Ext.JSON.decode(response.responseText, true);\n\t\t\t\t\t\tdelete o.Creator;//ignore this, we don't want to lose the Record that is potentially there.\n\t\t\t\t\t\tme.set(o);\n\t\t\t\t\t\tthis.fireEvent('updated', me, modifiedFieldName);\n\t\t\t\t\t}\n\t\t\t\t\tExt.callback(callback, null, [s]);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.activePostTos[link] = Ext.Ajax.request(req);\n\t\t}\n\t\treturn this.activePostTos[link];\n\t},\n\n    isModifiable: function() {\n\t\ttry {\n\t\t\t//This isn't necessarily true for all objects. For instance anyone's blog comments\n\t\t\t//can be edited or deleted by the blogs author.  I notice the field logic is correct\n\t\t\t//and different from this.\n\t\t\treturn this.phantom || (this.getLink('edit') !== null && this.isMine());\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.warn('No getLink()!');\n\t\t}\n\t\treturn false;\n\t},\n\n    isMine: function() {\n\t\treturn isMe(this.get('Creator'));\n\t},\n\n    getFieldEditURL: function(editLink, field) {\n\t\tif (/.*\\+\\+fields\\+\\+.*/.test(editLink)) {\n\t\t\t//edit link is already edit link for that field\n\t\t\treturn editLink;\n\t\t}\n\n\t\tvar f = Ext.String.format('/++fields++{0}', field);\n\n\t\treturn getURL(Ext.String.format('{0}{1}',\n\t\t\t\teditLink, f));\n\t},\n\n    /**\n\t * Save a specific field off this model, optionally set a value and save it if value is sent.\n\t *\n\t * @param {String} fieldName - name of the field that we want to save\n\t * @param {*} [value] - if undefined the field from the model will be saved.  If not undefined the field\n\t *\t\t\t\t\twill be set on the model prior to saving\n\t * @param {Function} successCallback\n\t * @param {Function} failCallback\n\t * @param {String} [optionalLinkName] = provide if you want a specific link other than the edit link\n\t */\n\tsaveField: function(fieldName, value, successCallback, failCallback, optionalLinkName) {\n\t\tvar editLink = this.getLink(optionalLinkName || 'edit'),\n\t\t\tjson, me = this, req;\n\n\t\t//special case, pageInfos are not editable (no link), but can take sharedPrefs\n\t\tif (!editLink && /^PageInfo$/.test(this.get('Class')) && fieldName && fieldName === 'sharingPreference') {\n\t\t\teditLink = Service.getObjectURL(this.getId());\n\t\t}\n\n\t\t//check to make sure we can do this, and we have the info we need\n\t\tif (!fieldName || (!this.hasField(fieldName) && !new RegExp('.*' + fieldName + '$').test(fieldName))) {\n\t\t\tconsole.error('Cannot save field', this, arguments);\n\t\t\tExt.Error.raise('Cannot save field, issues with model?');\n\t\t}\n\t\tif (!editLink) {\n\t\t\tconsole.error('Can\\'t save field on uneditable object', this);\n\t\t\tExt.Error.raise('Can\\'t save field on uneditable object');\n\t\t}\n\n\t\t//If there's a value, set it on the model\n\t\t//Do explicit check so you can set values to 0 or ''\n\t\tif (value !== undefined) {\n\t\t\tthis.set(fieldName, value);\n\t\t}\n\n\t\t//put together the json we want to save.\n\t\tjson = Ext.JSON.encode(value === undefined ? this.get(fieldName) : value);\n\t\treq = {\n\t\t\turl: this.getFieldEditURL(editLink, fieldName),\n\t\t\tjsonData: json,\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json'\n\t\t\t},\n\t\t\tscope: me,\n\t\t\tcallback: function() { },\n\t\t\tfailure: function() {\n\t\t\t\tconsole.error('field save fail', arguments);\n\t\t\t\tExt.callback(failCallback, this, arguments);\n\t\t\t},\n\t\t\tsuccess: function(resp) {\n\t\t\t\tvar newMe = ParseUtils.parseItems(Ext.decode(resp.responseText))[0],\n\t\t\t\t\tsanitizedValue = newMe && newMe.get(fieldName);\n\t\t\t\tif (!newMe) {\n\t\t\t\t\tconsole.warn('Could not parse response... %o', resp.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tme.set(fieldName, sanitizedValue);\n\t\t\t\t}\n\n\t\t\t\t//it worked, reset the dirty flag, and reset the field\n\t\t\t\t//because the server may have sanitized it.\n\t\t\t\tthis.commit();\n\n\t\t\t\tif (successCallback) {\n\t\t\t\t\tExt.callback(successCallback, null, [fieldName, sanitizedValue, me, newMe]);\n\t\t\t\t}\n\n\t\t\t\tme.fireEvent('changed', me);\n\t\t\t}\n\t\t};\n\n\t\tExt.Ajax.request(req);\n\t},\n\n    /**\n\t * Calls the href and fills in the values missing.\n\t */\n\tresolve: function() {\n\t\tconsole.error('still called?');\n\t\tvar me = this,\n\t\t\thref = this.get('href'),\n\t\t\treq;\n\n\t\tif (!href) {\n\t\t\tExt.Error.raise('No HREF!');\n\t\t}\n\n\t\treq = {\n\t\t\turl: getURL(href),\n\t\t\tasync: false,\n\t\t\tcallback: function(req, success, resp) {\n\t\t\t\tif (!success) {\n\t\t\t\t\tconsole.error('Resolving model failed');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tme.set(Ext.JSON.decode(resp.responseText));\n\t\t\t\tme.enforceMutability();\n\t\t\t\tme.dirty = false;\n\t\t\t\tme.modified = {};\n\t\t\t}\n\t\t};\n\n\t\tExt.Ajax.request(req);\n\n\n\t},\n\n    //Only seems to be called from legacy classroom stuff\n\tgetParent: function(callback, scope) {\n\t\tvar href = this.getLink('parent'), req;\n\n\t\tconsole.error('Still called?');\n\n\t\tif (!callback) {\n\t\t\tExt.Error.raise('this method requires a callback');\n\t\t}\n\n\t\tif (!href) {\n\t\t\t//Ext.Error.raise('No parent HREF!');\n\t\t\tcallback.call(scope || window, null);\n\t\t\treturn;\n\t\t}\n\n\t\treq = {\n\t\t\turl: href,\n\t\t\tcallback: function(req, success, resp) {\n\t\t\t\tif (!success) {\n\t\t\t\t\tconsole.error('Resolving parent model failed');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcallback.call(scope || window, ParseUtils.parseItems(Ext.JSON.decode(resp.responseText))[0]);\n\t\t\t}\n\t\t};\n\n\t\tExt.Ajax.request(req);\n\n\t},\n\n    equal: function(b) {\n\t\tvar a = this,\n\t\t\tr = true;\n\n\t\t//If they aren't both models\n\t\t//they are not equal\n\t\t//type check here?\n\t\tif (!a.isModel || !b || !b.isModel) {\n\t\t\treturn false;\n\t\t}\n\n\t\ta.fields.each(\n\t\t\t\tfunction(f) {\n\t\t\t\t\tvar fa = a.get(f.name),\n\t\t\t\t\t\t\tfb = b.get(f.name);\n\n\t\t\t\t\tif (!a.isEqual(fa, fb)) {\n\t\t\t\t\t\tr = false;\n\t\t\t\t\t\treturn false;//break\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t);\n\n\t\treturn r;\n\t},\n\n    toJSON: function() {\n\t\treturn this.asJSON();\n\t},\n\n    asJSON: function() {\n\t\tvar data = {},\n\t\t\tme = this;\n\n\t\tthis.fields.each(\n\t\t\t\tfunction(f) {\n\t\t\t\t\tif (!f.persist) {return;}\n\t\t\t\t\tvar x = me.get(f.name);\n\t\t\t\t\tif (Ext.isDate(x)) {\n\t\t\t\t\t\tx = x.getTime() / 1000;\n\t\t\t\t\t}\n\t\t\t\t\telse if (x && x.asJSON) {\n\t\t\t\t\t\tx = x.asJSON();\n\t\t\t\t\t}\n\t\t\t\t\telse if (x && Ext.isArray(x)) {\n\t\t\t\t\t\tx = x.slice();\n\t\t\t\t\t\tExt.each(x, function(o, i) {\n\t\t\t\t\t\t\tx[i] = o && o.asJSON ? o.asJSON() : o;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tdata[f.name] = Ext.clone(x);\n\t\t\t\t}\n\t\t);\n\t\treturn data;\n\t},\n\n    getRaw: function() {\n\t\tvar data = {},\n\t\t\tme = this;\n\n\t\tthis.fields.each(function(f) {\n\t\t\tif (!f.persist && !f.useInRaw) { return; }\n\n\t\t\tvar x = me.get(f.name);\n\n\t\t\tif (Ext.isDate(x)) {\n\t\t\t\tx = x.getTime() / 1000;\n\t\t\t} else if (x && x.getRaw) {\n\t\t\t\tx = x.getRaw();\n\t\t\t} else if (x && Ext.isArray(x)) {\n\t\t\t\tx = x.slice();\n\n\t\t\t\tExt.each(x, function(o, i) {\n\t\t\t\t\tx[i] = o && o.getRaw ? o.getRaw() : o;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdata[f.mapping || f.name] = Ext.clone(x);\n\t\t});\n\n\t\treturn data;\n\t},\n\n    getRelativeTimeString: function() {\n\t\treturn TimeUtils.timeDifference(Ext.Date.now(), this.get('CreatedTime'));\n\t},\n\n    /**\n\t * @private\n\t * property {Boolean} destroyDoesNotClearListeners\n\t */\n\tdestroyDoesNotClearListeners: false,\n\n    clearManagedListeners: function() {\n\t\tif (!this.destroyDoesNotClearListeners) {\n\t\t\tthis.callParent(arguments);\n\t\t}\n\t},\n\n    clearListeners: function() {\n\t\tif (!this.destroyDoesNotClearListeners) {\n\t\t\tthis.callParent(arguments);\n\t\t}\n\t},\n\n    fieldEvent: function(name) {\n\t\treturn name + '-changed';\n\t},\n\n    notifyObserversOfFieldChange: function(f) {\n\t\tthis.fireEvent(this.fieldEvent(f), f, this.get(f));\n\t},\n\n    //Fires an event signaling the given field has changed.\n\t//If there are dependent fields those events are also fired\n\t//To signal dependent fields implement a function valuesAffectedByField\n\t//that returns an array of dependent field names\n\tonFieldChanged: function(f) {\n\t\tif (!f) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar dependentFunctionName = 'valuesAffectedBy' + f,\n\t\t\tfn = this[dependentFunctionName];\n\t\tthis.notifyObserversOfFieldChange(f);\n\t\tif (Ext.isFunction(fn)) {\n\t\t\tExt.each(fn.call(this), this.notifyObserversOfFieldChange, this);\n\t\t}\n\t},\n\n    addObserverForField: function(observer, field, fn, scope, options) {\n\t\tif (!observer) {\n\t\t\treturn null;\n\t\t}\n\t\toptions = Ext.apply(options || {},{destroyable: true});\n\t\treturn observer.mon(this, this.fieldEvent(field), fn, scope, options);\n\t},\n\n    removeObserverForField: function(observer, field, fn, scope) {\n\t\tif (!observer) {\n\t\t\treturn;\n\t\t}\n\t\tobserver.mun(this, this.fieldEvent(field), fn, scope);\n\t},\n\n    afterEdit: function(fnames) {\n\t\tvar me = this, updatedValue;\n\t\t//are we getting called by a child record (see converters/Items.js)\n\t\tif (fnames instanceof Ext.data.Model) {\n\t\t\tupdatedValue = fnames;\n\t\t\tfnames = [];//just in case its not found\n\t\t\tme.fields.each(function(f) {\n\t\t\t\tvar v = me.get(f.name);\n\t\t\t\tif (v === updatedValue || (Ext.isArray(v) && v.indexOf(updatedValue) >= 0)) {\n\t\t\t\t\tfnames = [f.name];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\ttry {\n\t\t\tme.callParent([fnames]);\n\t\t}\n\t\tfinally {\n\t\t\tExt.each(fnames || [], me.onFieldChanged, me);\n\t\t}\n\t},\n\n    /**\n\t *\n\t * JSG - Yanked from the Ext.data.Model#callStore() so we can patch it.\n\t *\n     * @inheritDoc\n     */\n\tcallStore: function(fn) {\n\t\tvar args = Ext.Array.clone(arguments),\n\t\t\tstores = this.stores,\n\t\t\ti = 0,\n\t\t\tlen = stores.length,\n\t\t\tstore;\n\n\t\targs[0] = this;\n\t\tfor (i; i < len; ++i) {\n\t\t\tstore = stores[i];\n\t\t\tif (store && Ext.isFunction(store[fn])) {\n\n\t\t\t\t//Some of our synthetic fields trigger this call before there are groups defined...\n\t\t\t\t// the store's group updating code does not ensure a group exists before acting on it,\n\t\t\t\t// so lets fake out the store and let it think that its not groupped yet.\n\t\t\t\tif (store.isGrouped && store.isGrouped()) {\n\t\t\t\t\tstore.isGrouped = Ext.emptyFn;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tstore[fn].apply(store, args);\n\t\t\t\t}\n\t\t\t\tfinally {\n\t\t\t\t\t//Remove our fake out.\n\t\t\t\t\tif (store.isGrouped === Ext.emptyFn) {\n\t\t\t\t\t\tdelete store.isGrouped;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n    //Methods for updating all copies of an object in memory when one changes,\n\t//ideally we have one in memory object that is just referenced everywhere.\n\t//We are a bit far away from that (mostly because of how we represent threads)\n\t//so we brute force it by passing these calls\n\t//through to other in memory objects with the same ids\n\tmaybeCallOnAllObjects: function(fname, rec, args) {\n\n\t\t//Allow a way to turn it off\n\t\tif (this.dontNotifyOtherObjects === false) {return;}\n\n\t\tvar active = this.self.idsBeingGloballyUpdated[fname],\n\t\t\trecId = rec.getId(),\n\t\t\tfnHook = Ext.emptyFn;\n\n\n\t\tif (!recId) {return;}\n\n\t\tif (!active) {\n\t\t\tthis.self.idsBeingGloballyUpdated[fname] = active = {};\n\t\t}\n\n\t\tif (active[recId]) {\n\t\t\treturn;\n\t\t}\n\n\t\t//If we haven't already started calling fname on other in memory objects\n\t\t//set the flag and notify.  Make sure we clear it at the end\n\t\tactive[recId] = true;\n\t\t//console.time('looking for objects');\n\t\t//Use the store manager to iterate all stores looking for an object\n\t\t//that has the same id.  If it isn't the exact record call the function\n\t\t//fname on it with the provided args\n\t\tExt.data.StoreManager.each(function(s) {\n\t\t\tvar data = s.snapshot || s.data,\n\t\t\t\trecById = data && data.getByKey && data.getByKey(recId);\n\n\t\t\tif (!recById) {\n\t\t\t\treturn true; //keep going\n\t\t\t}\n\n\t\t\t//This record has been filtered out and may potentially throw an error if we attempt to call store group\n\t\t\t// functions. So, we let this record update and the store think its ungroupped while it updates.\n\t\t\tif (s.isGrouped() && !s.data.contains(recById)) {\n\t\t\t\ts.isGrouped = fnHook;\n\t\t\t}\n\n\t\t\t//Ok we found one and it isn't the same object\n\t\t\tif (rec !== recById && rec.get('MimeType') === recById.get('MimeType') && Ext.isFunction(recById[fname])) {\n\t\t\t\ttry {\n\t\t\t\t\trecById[fname].apply(recById, args);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconsole.warn(e.message);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (s.isGrouped === fnHook) {\n\t\t\t\tdelete s.isGrouped;//restore the default\n\t\t\t}\n\t\t});\n\n\t\t//console.timeEnd('looking for objects');\n\t\tdelete active[rec.getId()];\n\t},\n\n    beginEdit: function() {\n\t\tthis.callParent(arguments);\n\t\tthis.maybeCallOnAllObjects('beginEdit', this, arguments);\n\t},\n\n    endEdit: function() {\n\t\tthis.callParent(arguments);\n\t\tthis.maybeCallOnAllObjects('endEdit', this, arguments);\n\t},\n\n    cancelEdit: function() {\n\t\tthis.callParent(arguments);\n\t\tthis.maybeCallOnAllObjects('cancelEdit', this, arguments);\n\t},\n\n    set: function() {\n\t\tthis.callParent(arguments);\n\t\tthis.maybeCallOnAllObjects('set', this, arguments);\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/Base.js\n ** module id = 6\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar UserRepository = require('../cache/UserRepository');\nvar User = require('./User');\nvar B64 = require('../util/Base64');\nvar Globals = require('../util/Globals');\nvar ParseUtils = require('../util/Parsing');\nvar ModelBase = require('./Base');\nvar MixinsAvatar = require('../mixins/Avatar');\nvar ModelPresenceInfo = require('./PresenceInfo');\nvar ConvertersPresenceInfo = require('./converters/PresenceInfo');\n\n\n/*globals B64*/\nmodule.exports = exports = Ext.define('NextThought.model.User', {\n    extend: 'NextThought.model.Base',\n    idProperty: 'Username',\n\n    mixins: {\n\t\tAvatar: 'NextThought.mixins.Avatar'\n\t},\n\n    isProfile: true,\n\n    fields: [\n\t\t{ name: 'lastLoginTime', type: 'date', dateFormat: 'timestamp' },\n\t\t{ name: 'NotificationCount', type: 'int' },\n\t\t{ name: 'Username', type: 'string' },\n\t\t{ name: 'OU4x4', type: 'string' },\n\t\t{ name: 'FirstName', type: 'string', mapping: 'NonI18NFirstName', convert: function(v, r) {\n\t\t\t// TODO: The mapping should normally take care of this conversion but it's doesn't seem to do it.\n\t\t\tvar fname = r && r.raw && r.raw.NonI18NFirstName;\n\t\t\tif (Ext.isEmpty(v) && !Ext.isEmpty(fname)) {\n\t\t\t\treturn fname;\n\t\t\t}\n\n\t\t\treturn v;\n\t\t}},\n\t\t{ name: 'LastName', type: 'string', mapping: 'NonI18NLastName', convert: function(v, r) {\n\t\t\tvar lname = r && r.raw && r.raw.NonI18NLastName;\n\t\t\tif (Ext.isEmpty(v) && !Ext.isEmpty(lname)) {\n\t\t\t\treturn lname;\n\t\t\t}\n\n\t\t\treturn v;\n\t\t}},\n\n\t\t{ name: 'Presence', type: 'PresenceInfo', persist: false },\n\t\t{ name: 'alias', type: 'string' },\n\t\t{ name: 'email', type: 'string' },\n\t\t{ name: 'realname', type: 'string' },\n\t\t{ name: 'avatarURL', type: 'AvatarURL' },\n\t\t{ name: 'backgroundURL', type: 'string'},\n\t\t{ name: 'AvatarURLChoices', type: 'AvatarURLList', persist: false },\n\t\t{ name: 'accepting', type: 'UserList' },\n\t\t{ name: 'ignoring', type: 'UserList' },\n\t\t{ name: 'status', type: 'Synthetic', persist: false, fn: function(record) {\n\t\t\t//The presence isn't always a PresenceInfo in testing\n\t\t\ttry {\n\t\t\t\tvar p = record.get('Presence');\n\t\t\t\treturn (p && p.getDisplayText && p.getDisplayText()) || null;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e.stack || e.message || e);\n\t\t\t}\n\t\t\treturn null;\n\t\t}},\n\t\t{ name: 'opt_in_email_communication', type: 'boolean' },\n\t\t{ name: 'following', type: 'UserList' },\n\t\t{ name: 'Communities', type: 'UserList' },\n\t\t{ name: 'DynamicMemberships', type: 'ArrayItem'},\n\t\t{ name: 'displayName', type: 'Synthetic', persist: false, fn: function(r) {\n\t\t\treturn r.getName();\n\t\t} },\n\t\t{ name: 'about', type: 'auto'},\n\t\t{ name: 'affiliation', type: 'string'},\n\t\t{ name: 'education', type: 'auto'},\n\t\t{ name: 'role', type: 'string'},\n\t\t{ name: 'location', type: 'string'},\n\t\t{ name: 'home_page', type: 'string'},\n\t\t{ name: 'admission_status', type: 'string', mapping: 'fmaep_admission_state', defaultValue: null, persist: false},\n\n\t\t//Social Links\n\t\t{name: 'facebook', type: 'string'},\n\t\t{name: 'twitter', type: 'string'},\n\t\t{name: 'googlePlus', type: 'string'},\n\t\t{name: 'linkedIn', type: 'string'},\n\n\t\t{name: 'interests', type: 'auto'},\n\t\t{name: 'education', type: 'auto'},\n\t\t{name: 'positions', type: 'auto'},\n\n\t\t// ui data\n\t\t{name: 'unreadMessageCount', type: 'auto', persist: false},\n\t\t{ name: 'avatarInitials', type: 'string', persist: false},\n\t\t{ name: 'avatarBGColor', type: 'string', persist: false}\n\t],\n\n    isUser: true,\n    summaryObject: true,\n\n    constructor: function() {\n\t\tthis.callParent(arguments);\n\n\t\tthis.initAvatar();\n\t},\n\n    equal: function(b) {\n\t\tif (Ext.isString(b) && this.getId() === b) {\n\t\t\treturn true;\n\t\t}\n\t\treturn this.callParent(arguments);\n\t},\n\n    getCommunities: function(excludeDFLs) {\n\t\tvar r = [], u;\n\n\t\tExt.each(this.get('Communities'), function(c) {\n\t\t\tvar field = 'Username';\n\n\t\t\tif (/^everyone$/i.test(c)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//DFLs come back in communities but their usernames are ntiids.\n\t\t\tif (ParseUtils.isNTIID(c)) {\n\t\t\t\tfield = 'NTIID';\n\t\t\t}\n\n\t\t\tu = UserRepository.store.findRecord(field, c, 0, false, true, true);\n\t\t\tif (u) {\n\t\t\t\tr.push(u);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconsole.warn('Dropping unresolvable community: ' + Ext.encode(c));\n\t\t\t}\n\n\t\t});\n\n\t\tif (excludeDFLs) {\n\t\t\treturn Ext.Array.filter(r, function(i) { return i.isCommunity; });\n\t\t}\n\t\treturn r;\n\t},\n\n    getData: function() {\n\t\tvar k, v, f = this.callParent(arguments);\n\n\t\tfor (k in f) {\n\t\t\tif (f.hasOwnProperty(k)) {\n\t\t\t\tv = f[k];\n\t\t\t\tif (v && v.isModel) {\n\t\t\t\t\tf[k] = v.isUser ? v.getId() : v.getData.apply(v, arguments);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn f;\n\t},\n\n    toString: function() {\n\t\treturn this.getName();\n\t},\n\n    shouldBeRoot: function() {\n\t\treturn true;\n\t},\n\n    getTitle: function() {\n\t\treturn this.getName();\n\t},\n\n    getName: function() {\n\t\treturn this.get('alias') ||\n\t\t\t   this.get('realname') ||\n\t\t\t   //because this implementation is 'borrowed', we cannot assume 'this'\n\t\t\t   // is anything more than A model. Not necessarily \"this\" model.\n\t\t\t   NextThought.model.User.getUsername(this.get('Username'));\n\t},\n\n    getURLPart: function() {\n\t\tvar id = this.get('Username');\n\n\t\tif ($AppConfig.obscureUsernames) {\n\t\t\tid = B64.encodeURLFriendly(id);\n\t\t}\n\n\t\treturn encodeURIComponent(id);\n\t},\n\n    getProfileUrl: function(tab) {\n\t\tif (!this.getLink('Activity')) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar id = this.get('Username');\n\n\t\tif ($AppConfig.obscureUsernames) {\n\t\t\tid = B64.encodeURLFriendly(id);\n\t\t}\n\n\t\treturn tab ? '/user/' + id + '/' + Globals.trimRoute(tab) + '/' : '/user/' + id;\n\t},\n\n    getPresence: function() {\n\t\tvar presence = this.get('Presence');\n\t\treturn presence || NextThought.model.PresenceInfo.createFromPresenceString('Offline');\n\t},\n\n    hasBlog: function() {\n\t\treturn Boolean(this.getLink('Blog'));\n\t},\n\n    getAvatarInitials: function() {\n\t\tif (this.isUnresolved()) {\n\t\t\treturn null;\n\t\t}\n\t\treturn NextThought.mixins.Avatar.getAvatarInitials(this.raw, this.get('FirstName'), this.get('LastName'), this.getName());\n\t},\n\n    save: function(ops) {\n\t\tvar data = this.asJSON();\n\n\t\t//The avatar is saved in another place; don't try to do it here. Also custom avatar urls will cause a 422\n\t\tdelete data.avatarURL;\n\n\t\tExt.Ajax.request(Ext.apply({\n\t\t   url: this.getLink('edit'),\n\t\t   method: 'PUT',\n\t\t   jsonData: data\n\t   }, ops));\n\t},\n\n    isUnresolved: function() {\n\t\treturn this.Unresolved === true;\n\t},\n\n    getSchema: function() {\n\t\tif (this.loadSchema) {\n\t\t\treturn this.loadSchema;\n\t\t}\n\n\t\tvar link = this.getLink('account.profile');\n\n\t\tif (link) {\n\t\t\tthis.loadSchema = Service.request(link)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\treturn JSON.parse(response);\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.loadSchema = Promise.reject({});\n\t\t}\n\n\t\treturn this.loadSchema;\n\t},\n\n    getAboutData: function() {\n\t\treturn {\n\t\t\tdisplayName: this.getName(),\n\t\t\trealname: this.get('realname'),\n\t\t\tabout: this.get('about'),\n\t\t\temail: this.get('email'),\n\t\t\thome_page: this.get('home_page'),\n\t\t\tlocation: this.get('location'),\n\t\t\teducation: this.get('education') || [],\n\t\t\tpositions: this.get('positions') || [],\n\t\t\tinterests: this.get('interests') || [],\n\t\t\tfacebook: this.get('facebook'),\n\t\t\ttwitter: this.get('twitter'),\n\t\t\tgooglePlus: this.get('googlePlus'),\n\t\t\tlinkedIn: this.get('linkedIn'),\n\t\t\tinterests: this.get('interests') || []\n\t\t};\n\t},\n\n    getMemberships: function(force) {\n\t\tif (this.loadMemberships && !force) {\n\t\t\treturn this.loadMemberships;\n\t\t}\n\n\t\tvar link = this.getLink('memberships');\n\n\t\tif (link) {\n\t\t\tthis.loadMemberships = Service.request(link)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tvar json = JSON.parse(response);\n\n\t\t\t\t\treturn ParseUtils.parseItems(json);\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.loadMemberships = Promise.reject();\n\t\t}\n\n\t\treturn this.loadMemberships;\n\t},\n\n    __filterMemberships: function(fn) {\n\t\treturn this.getMemberships()\n\t\t\t.then(function(memberships) {\n\t\t\t\treturn memberships.filter(fn);\n\t\t\t});\n\t},\n\n    getCommunityMembership: function() {\n\t\treturn this.__filterMemberships(function(membership) {\n\t\t\treturn membership instanceof NextThought.model.Community;\n\t\t});\n\t},\n\n    getGroupMembership: function() {\n\t\treturn this.__filterMemberships(function(membership) {\n\t\t\treturn membership instanceof NextThought.model.FriendsList;\n\t\t});\n\t},\n\n    statics: {\n\n\t\tBLANK_AVATAR: '/app/resources/images/icons/unresolved-user.png',\n\n\n\t\tgetUnresolved: function(username) {\n\t\t\tusername = username || 'Unknown';\n\t\t\tvar maybeObfuscate = username !== 'Unknown',\n\t\t\t\talias = maybeObfuscate ? this.getUsername(username) : username,\n\t\t\t\tu = new NextThought.model.User({\n\t\t\t   Username: username,\n\t\t\t   alias: alias,\n\t\t\t   avatarURL: this.BLANK_AVATAR,\n\t\t\t   affiliation: 'Unknown',\n\t\t\t   status: '',\n\t\t\t   Presence: NextThought.model.PresenceInfo.createFromPresenceString('Offline')\n\t\t   }, username);\n\t\t\tu.Unresolved = true;\n\t\t\treturn u;\n\t\t},\n\n\n\t\tgetUsername: function(usernameSeed) {\n\t\t\tvar sitePattern = getString('UnresolvedUsernamePattern', 'username'),\n\t\t\t\t// negagitive numbers dont look good. So just Abs() them.  Since we're not\n\t\t\t\t// using this other than to display, shouldn't be a problem.\n\t\t\t\thash = (usernameSeed && Math.abs(usernameSeed.hash())) || -1,\n\t\t\t\thashPlaceholder = (/(#+)/g);\n\n\t\t\tif (/^username$/i.test(sitePattern)) {\n\t\t\t\treturn usernameSeed;\n\t\t\t}\n\n\t\t\treturn sitePattern.replace(hashPlaceholder, hash);\n\t\t},\n\n\n\t\tgetProfileStateFromFragment: function(fragment) {\n\t\t\tvar re = /^#!profile\\/([^\\/]+)\\/?(.*)$/i, o = re.exec(fragment);\n\n\t\t\tfunction filter(u) {\n\t\t\t\tif ($AppConfig.obscureUsernames) {\n\t\t\t\t\treturn B64.decodeURLFriendly(u) || u;\n\t\t\t\t}\n\t\t\t\treturn u;\n\t\t\t}\n\n\t\t\treturn o ? {\n\t\t\t\tusername: filter(decodeURIComponent(o[1])),\n\t\t\t\tactiveTab: o[2]\n\t\t\t} : null;\n\t\t},\n\n\t\tgetIdFromRaw: function(raw) {\n\t\t\treturn raw.getId ? raw.getId() : raw.Username;\n\t\t},\n\n\n\t\tgetIdFromURIPart: function(part) {\n\t\t\tpart = decodeURIComponent(part);\n\n\t\t\tif ($AppConfig.obscureUsernames) {\n\t\t\t\treturn B64.decodeURLFriendly(part) || part;\n\t\t\t}\n\n\t\t\treturn part;\n\t\t}\n\n\t},\n\n    hasVisibilityField: function(field) {\n\t\treturn Boolean(this.raw && this.raw[field]);\n\t},\n\n    refresh: function() {\n\t\tvar req = {\n\t\t\turl: getURL(this.get('href')),\n\t\t\tcallback: function(q, s, r) {\n\t\t\t\tif (!s) {\n\t\t\t\t\tconsole.warn('could not refresh user');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar u = ParseUtils.parseItems(r.responseText);\n\t\t\t\tUserRepository.precacheUser(u.first());\n\t\t\t}\n\t\t};\n\n\t\tExt.Ajax.request(req);\n\t},\n\n    getActivityItemConfig: function(type) {\n\t\treturn Promise.resolve({\n\t\t\tname: this.getName(),\n\t\t\tverb: ((/circled/i).test(type) ? ' added you as a contact.' : '?')\n\t\t});\n\t},\n\n    sendEmailVerification: function() {\n\t\tif (!this.hasLink('RequestEmailVerification')) {\n\t\t\treturn Promise.reject();\n\t\t}\n\n\t\tvar reqLink = this.getLink('RequestEmailVerification');\n\t\treturn Service.post(reqLink)\n\t\t\t.then(function(response) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t});\n\t},\n\n    isEmailVerified: function() {\n\t\treturn !this.hasLink('RequestEmailVerification');\n\t},\n\n    verifyEmailToken: function(token) {\n\t\tif (!this.hasLink('VerifyEmailWithToken') || !token) {\n\t\t\treturn Promise.reject();\n\t\t}\n\n\t\tvar link = this.getLink('VerifyEmailWithToken'), me = this;\n\t\treturn Service.post(link, {token: token})\n\t\t\t.then(function(response) {\n\t\t\t\tme.deleteLink('RequestEmailVerification');\n\t\t\t\treturn Promise.resolve(response);\n\t\t\t});\n\t},\n\n    getSuggestContacts: function() {\n\t\tif (!isFeature('suggest-contacts') || !(this.hasLink('SuggestContacts') || this.hasLink('Classmates'))) { return Promise.reject(); }\n\n\t\tvar link = this.getLink('SuggestContacts') || this.getLink('Classmates');\n\n\t\treturn Service.request(link)\n\t\t\t.then(function(response) {\n\t\t\t\tvar parent = JSON.parse(response);\n\t\t\t\treturn ParseUtils.parseItems(parent.Items);\n\t\t\t});\n\t},\n\n    removeFirstTimeLoginLink: function() {\n\t\tvar rel = 'first_time_logon',\n\t\t\tlink = this.getLink(rel), me = this;\n\t\tif (!link) { return Promise.reject(); }\n\n\t\treturn Service.requestDelete(link)\n\t\t\t.then(function(response) {\n\t\t\t\tme.deleteLink(rel);\n\t\t\t\treturn Promise.resolve();\n\t\t\t});\n\t}\n}, function() {\n\twindow.User = this;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/User.js\n ** module id = 7\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar TimeUtils = require('./Time');\n\n\n/*globals Duration: false*/\nmodule.exports = exports = Ext.define('NextThought.util.Time', {\n\tsingleton: true,\n\n\tDIVISORS: {\n\t\tWEEKS: 7 * 24 * 60 * 60 * 1000, //millis / 1000 = seconds / 60 = minutes / 60 = hours / 24 = days / 7 = weeks\n\t\tDAYS: 24 * 60 * 60 * 1000, //millis / 1000 = seconds / 60 = minutes / 60 = hours / 24 = days\n\t\tHOURS: 60 * 60 * 1000, //millis / 1000 = seconds / 60 = minutes / 60 = hours\n\t\tMINUTES: 60 * 1000, // millis / 1000 = seconds / 60 = minutes\n\t\tSECONDS: 1000 //millis / 1000 = seconds\n\t},\n\n\n\tgetTimeGroupHeader: function(time) {\n\t\tvar now = new Date(), t = time.getTime(),\n\t\t\toneDayAgo = new Date(now.getFullYear(), now.getMonth(), now.getDate() - 1),\n\t\t\ttwoDaysAgo = new Date(now.getFullYear(), now.getMonth(), now.getDate() - 2),\n\t\t\toneWeekAgo = new Date(now.getFullYear(), now.getMonth(), now.getDate() - 1 * 7);\n\n\t\tfunction between(start, end) {\n\t\t\treturn start.getTime() < t && t <= end.getTime();\n\t\t}\n\n\t\tif (between(oneDayAgo, now)) {\n\t\t\treturn 'Today';\n\t\t}\n\n\t\tif (between(twoDaysAgo, oneDayAgo)) {\n\t\t\treturn 'Yesterday';\n\t\t}\n\n\t\tif (between(oneWeekAgo, twoDaysAgo)) {\n\t\t\treturn Ext.Date.format(time, ' l');\n\t\t}\n\n\t\treturn new Duration(Math.abs(now - time) / 1000).ago();\n\t},\n\n\t//yanked & modifed from: http://stackoverflow.com/questions/6108819/javascript-timestamp-to-relative-time-eg-2-seconds-ago-one-week-ago-etc-best\n\ttimeDifference: function(current, previous) {\n\n\t\tif (!previous) {\n\t\t\tprevious = current;\n\t\t\tcurrent = new Date();\n\t\t}\n\n\t\tvar msPerMinute = 60 * 1000,\n\t\t\tmsPerHour = msPerMinute * 60,\n\t\t\tmsPerDay = msPerHour * 24,\n\t\t\tmsPerMonth = msPerDay * 30,\n\t\t\telapsed = current - previous,\n\t\t\tresult;\n\n\t\t// We are interested in the time interval.\n\t\tif (elapsed < 0) {\n\t\t\telapsed = Math.abs(elapsed);\n\t\t}\n\n\t\tif (elapsed < msPerMinute) {\n\t\t\tresult = Math.round(elapsed / 1000) + ' seconds ago';\n\t\t}\n\n\t\telse if (elapsed < msPerHour) {\n\t\t\tresult = Math.round(elapsed / msPerMinute) + ' minutes ago';\n\t\t}\n\n\t\telse if (elapsed < msPerDay) {\n\t\t\tresult = Math.round(elapsed / msPerHour) + ' hours ago';\n\t\t}\n\n\t\telse if (elapsed < msPerMonth) {\n\t\t\tresult = Math.round(elapsed / msPerDay) + ' days ago';\n\t\t}\n\n\t\tif (!result) {\n\t\t\treturn Ext.Date.format(previous, 'M j, Y, g:i a');\n\t\t}\n\n\t\tif (/^1\\s/.test(result)) {\n\t\t\tresult = result.replace('s ago', ' ago');\n\t\t}\n\t\treturn result;\n\t},\n\n\n\n\tgetDurationText: function(started, ended) {\n\t\tvar milli = ended - started,\n\t\t\tseconds = milli / 1000,\n\t\t\tminutes = seconds / 60,\n\t\t\thours = minutes / 60,\n\t\t\tdays = hours / 24,\n\t\t\tstr = '';\n\n\t\tseconds = seconds % 60;\n\t\tminutes = minutes % 60;\n\t\thours = hours % 24;\n\n\n\t\tif (days >= 1) {\n\t\t\tstr = Math.floor(days) + 'd ' + Math.ceil(hours) + 'h';\n\t\t}else if (hours >= 1) {\n\t\t\tstr = Math.floor(hours) + 'h ' + Math.ceil(minutes) + 'm';\n\t\t}else {\n\t\t\tstr = Math.floor(minutes) + 'm ' + Math.ceil(seconds) + 's';\n\t\t}\n\n\t\treturn str;\n\t},\n\n\n\tgetTimer: function() {\n\t\treturn new this._timer();\n\t},\n\n\n\t/**\n\t * Takes two dates and returns true if they are on the same day\n\t * @param  {Date}  a date to compare\n\t * @param  {Date}  b the other date to compare\n\t * @return {Boolean}   if they are on the same day\n\t */\n\tisSameDay: function(a, b) {\n\t\t//clone the dates so we don't affect what we were passed\n\t\ta = new Date(a);\n\t\tb = new Date(b);\n\n\t\t//set the hours to 0 so they will both be at 12:00:00 at the start of the day\n\t\ta.setHours(0, 0, 0, 0);\n\t\tb.setHours(0, 0, 0, 0);\n\n\t\treturn a.getTime() === b.getTime();\n\t},\n\n\tgetDays: function(time) {\n\t\treturn time / (24 * 60 * 60 * 1000); // milli / 1000 = seconds / 60  = minutes / 60 = hours / 24 = days\n\t},\n\n\tgetHours: function getRemainingHours(time) {\n\t\treturn (time / (60 * 60 * 1000)) % 24;//milli / 1000 = seconds, seconds / 60 = minutes, minutes / 60 = hours\n\t},\n\n\tgetMinutes: function(time) {\n\t\treturn (time / (60 * 1000)) % 60;//milli / 10000 = seconds, seconds / 60 = minutes\n\t},\n\n\tgetSeconds: function(time) {\n\t\treturn (time / 1000) % 60;//milli / 1000 = seconds\n\t},\n\n\tgetMilliSeconds: function(time) {\n\t\treturn time % 1000;\n\t},\n\n\tgetTimePartsFromTime: function(time) {\n\t\treturn {\n\t\t\tdays: this.getDays(time),\n\t\t\thours: this.getHours(time),\n\t\t\tminutes: this.getMinutes(time),\n\t\t\tseconds: this.getSeconds(time)\n\t\t};\n\t},\n\n\t/**\n\t * Takes a number of milliseconds and returns a string that is more similar\n\t * to how a human would say it (hopefully)\n\t *\n\t * ex. 2 weeks, 2 days, and 2 hours\n\t *\n\t * @param  {Number} millis         millis to convert\n\t * @param  {Number} numberOfUnits  How many units (weeks, days, hours, etc.) to include\n\t * @param  {Boolean} doNotPluralize whether or not to pluralize the units\n\t * @param  {Object} overrides Strings to use instead of the defaults\n\t * @return {String}                the parsed string\n\t */\n\tgetNaturalDuration: function(millis, numberOfUnits, doNotPluralize, overrides) {\n\t\tvar units = [], lastItem, s,\n\t\t\tweeks = Math.floor(parseInt(millis, 10) / this.DIVISORS.WEEKS),\n\t\t\tdays =  Math.floor(parseInt(millis, 10) / this.DIVISORS.DAYS % 7),\n\t\t\thours =  Math.floor(parseInt(millis, 10) / this.DIVISORS.HOURS % 24),\n\t\t\tminutes =  Math.floor(parseInt(millis, 10) / this.DIVISORS.MINUTES % 60),\n\t\t\tseconds =  Math.round(parseInt(millis, 10) / this.DIVISORS.SECONDS % 60);\n\n\t\toverrides = overrides || {};\n\t\tnumberOfUnits = numberOfUnits || 5;\n\n\t\tfunction add(unit, label) {\n\t\t\tunits.push(doNotPluralize ? unit + ' ' + label : Ext.util.Format.plural(unit, label));\n\t\t}\n\n\t\t//if we have a unit and we haven't pushed the max number add it\n\t\tif (weeks && units.length < numberOfUnits) {\n\t\t\tadd(weeks, overrides.week || 'week');\n\t\t}\n\n\t\tif (days && units.length < numberOfUnits) {\n\t\t\tadd(days, overrides.day || 'day');\n\t\t} else if (weeks) {\n\t\t\t//if there no days but there are weeks add an empty string to the units to keep the units we show\n\t\t\t//from being too far about e.x. 2 weeks and 5 seconds\n\t\t\tunits.push('');\n\t\t}\n\n\t\tif (hours && units.length < numberOfUnits) {\n\t\t\tadd(hours, overrides.hour || 'hour');\n\t\t} else if (weeks || days) {\n\t\t\tunits.push('');\n\t\t}\n\n\t\tif (minutes && units.length < numberOfUnits) {\n\t\t\tadd(minutes, overrides.minute || 'minute');\n\t\t} else if (weeks || days || hours) {\n\t\t\tunits.push('');\n\t\t}\n\n\t\tif (seconds && units.length < numberOfUnits) {\n\t\t\tadd(seconds, overrides.second || 'second');\n\t\t}\n\n\t\t//filter out any empty strings we may have added\n\t\tunits = units.filter(function(val) {\n\t\t\treturn val;\n\t\t});\n\n\t\tif (units.length === 1) {\n\t\t\ts = units[0];\n\t\t} else if (units.length === 2) {\n\t\t\ts = units.join(' and ');\n\t\t} else if (units.length === 0){\n\t\t\ts = '';\n\t\t}\n\t\telse {\n\t\t\tlastItem = units.pop();\n\n\t\t\ts = units.join(', ');\n\n\t\t\ts += ', and ' + lastItem;\n\t\t}\n\n\t\treturn s;\n\t},\n\n\t/**\n\t * Takes a moment constructor config (http://momentjs.com/docs/#/parsing/) and returns an object with:\n\t *\n\t * day: the moment for the date passed\n\t * start: the moment for the start of the current week (last Monday)\n\t * end: the moment for the end of the current week (next Sunday)\n\t * getNext: calls this function with a week from the date given\n\t * getPrevious: calls this function with a week before the date given\n\t *\n\t * @param  {Date|String} date argument to pass to the moment constructor, falsy means today\n\t * @return {Object}      utility for stepping through the weeks\n\t */\n\tgetWeek: function(date) {\n\t\tvar m = date ? moment(date) : moment();\n\n\t\treturn {\n\t\t\tday: m,\n\t\t\tstart: moment(m).startOf('isoWeek'),\n\t\t\tend: moment(m).endOf('isoWeek'),\n\t\t\tgetNext: this.getWeek.bind(this, moment(m).add(1, 'weeks')),\n\t\t\tgetPrevious: this.getWeek.bind(this, moment(m).subtract(1, 'weeks'))\n\t\t};\n\t}\n},\nfunction() {\n\tvar TimeUtils = this;\n\tExt.util.Format.timeDifference = Ext.bind(this.timeDifference, this);\n\n\t/**\n\t * A utility to do a count down or count up from a starting point until a stopping point or infinity\n\t */\n\tthis._timer = function() {\n\t\tvar start, from, to, direction, duration, interval, intervalWindow, timerInterval, tickFn, alarmFn, intervalUnit;\n\n\t\tfunction getTimeStamp(d) {\n\t\t\tif (!d && d !== 0) {\n\t\t\t\td = (new Date()).getTime();\n\t\t\t} else if (d instanceof Date) {\n\t\t\t\td = d.getTime();\n\t\t\t}\n\n\t\t\treturn d;\n\t\t}\n\n\t\tfunction updateTime() {\n\t\t\tvar now = new Date(),\n\t\t\t\tdiff, time;\n\n\t\t\tif (intervalUnit === 'seconds') {\n\t\t\t\tnow.setMilliseconds(0);\n\t\t\t}\n\n\t\t\tnow = now.getTime();\n\n\t\t\tdiff = now - start;\n\t\t\ttime = from + (direction * diff);\n\n\t\t\tif (tickFn) {\n\t\t\t\ttickFn.call(null, {\n\t\t\t\t\tdays: TimeUtils.getDays(time),\n\t\t\t\t\thours: TimeUtils.getHours(time),\n\t\t\t\t\tminutes: TimeUtils.getMinutes(time),\n\t\t\t\t\tseconds: TimeUtils.getSeconds(time),\n\t\t\t\t\tmillisseconds: TimeUtils.getMilliSeconds(time),\n\t\t\t\t\ttime: time,\n\t\t\t\t\tremaining: Math.abs(to - time)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//if we've reached the target then call the alarm if there is one\n\t\t\t//set the alarmFn to null so we don't call it again\n\t\t\t//if the diff is with in half of the iteration of the duration\n\t\t\tif (alarmFn && Math.abs(diff - duration) <= intervalWindow) {\n\t\t\t\talarmFn.call();\n\t\t\t\talarmFn = null;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Start the count down/up and update on the interval\n\t\t * @param  {Number} i how often to update\n\t\t * @return {Object}          this so calls can be chained\n\t\t */\n\t\tthis.start = function(i) {\n\t\t\tinterval = i || 'seconds'; //default to a second\n\n\t\t\tduration = Math.abs(from - to);\n\n\t\t\tif (typeof interval === 'string') {\n\t\t\t\tintervalUnit = interval;\n\t\t\t}\n\n\t\t\t//if we are using seconds set the millis to 0 so we start on an\n\t\t\t//even second\n\t\t\tif (intervalUnit === 'seconds') {\n\t\t\t\tinterval = 1000;\n\t\t\t\tstart = new Date();\n\t\t\t\tstart.setMilliseconds(0);\n\t\t\t\tstart = start.getTime();\n\t\t\t}\n\n\t\t\tstart = start || (new Date()).getTime();\n\t\t\tintervalWindow = interval / 2;\n\n\t\t\ttimerInterval = setInterval(updateTime, interval);\n\n\t\t\treturn this;\n\t\t};\n\n\t\t/**\n\t\t * Set a count down from t to f\n\t\t * @param  {Date|Number} t date or milliseconds to stop at\n\t\t * @param  {Date|Number} f date or milliseconds to start at\n\t\t * @return {Object}   this so calls can be chained\n\t\t */\n\t\tthis.countDown = function(t, f) {\n\t\t\tfrom = getTimeStamp(f);\n\n\t\t\tif (t || t === 0) {\n\t\t\t\tto = getTimeStamp(t);\n\t\t\t} else {\n\t\t\t\tto = Infinity;\n\t\t\t}\n\n\t\t\tdirection = -1;\n\n\t\t\treturn this;\n\t\t};\n\n\t\t/**\n\t\t * Set a count up from t to f\n\t\t * @param  {Date|Number} t date or milliseconds to stop at\n\t\t * @param  {Date|Number} f date or milliseconds to start at\n\t\t * @return {Object}   this so calls can be chained\n\t\t */\n\t\tthis.countUp = function(t, f) {\n\t\t\tfrom = getTimeStamp(f);\n\n\t\t\tif (t || t === 0) {\n\t\t\t\tto = getTimeStamp(t);\n\t\t\t} else {\n\t\t\t\tto = Infinity;\n\t\t\t}\n\n\t\t\tdirection = 1;\n\n\t\t\treturn this;\n\t\t};\n\n\t\t/**\n\t\t * Add a callback to be called every time the interval passes\n\t\t *\n\t\t *\tWill be called with an object containing...\n\t\t *\t{\n\t\t *\t\thours: int, //number of hours left\n\t\t *\t\tminutes: int, //number of minutes left after hours\n\t\t *\t\tseconds: int, //number of seconds left after minutes\n\t\t *\t\tmilliseconds: int, //number of milliseconds left after seconds\n\t\t *\t\tremaining: int, //total number of milliseconds left\n\t\t *\t}\n\t\t *\n\t\t * @param  {Function} fn callback to be called\n\t\t * @return {Object}      return this so calls can be chained\n\t\t*/\n\t\tthis.tick = function(fn) {\n\t\t\tvar time = from;\n\n\t\t\ttickFn = fn;\n\n\t\t\ttickFn.call(null, {\n\t\t\t\tdays: TimeUtils.getDays(time),\n\t\t\t\thours: TimeUtils.getHours(time),\n\t\t\t\tminutes: TimeUtils.getMinutes(time),\n\t\t\t\tseconds: TimeUtils.getSeconds(time),\n\t\t\t\tmilliseconds: TimeUtils.getMilliSeconds(time),\n\t\t\t\ttime: time,\n\t\t\t\tremaining: Math.abs(to - from)\n\t\t\t});\n\n\t\t\treturn this;\n\t\t};\n\n\n\t\t/**\n\t\t * Clear the interval, make sure this gets called. Otherwise we will have an interval hanging around\n\t\t * @return {Object} return this so calls can be chained\n\t\t */\n\t\tthis.stop = function() {\n\t\t\tclearInterval(timerInterval);\n\n\t\t\treturn this;\n\t\t};\n\n\n\t\t/**\n\t\t * A callback to be called when the timer reaches the destination\n\t\t * @param  {Function} fn [description]\n\t\t * @return {Object}      return this so calls can be chained\n\t\t */\n\t\tthis.alarm = function(fn) {\n\t\t\talarmFn = fn;\n\n\t\t\treturn this;\n\t\t};\n\t};\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/util/Time.js\n ** module id = 8\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Toaster = require('./Manager');\n\n\nmodule.exports = exports = new Ext.define('NextThought.common.toast.Manager', {\n\trequires: [\n\t\t'NextThought.common.toast.Window'\n\t],\n\n\tPADDING: 10,\n\n\t/** @private */\n\tconstructor: function() {\n\t\tthis.callParent(arguments);\n\t\tthis.stack = [];\n\n\t\tExt.EventManager.onWindowResize(this.adjustStack, this, null);\n\t},\n\n\t/**\n\t *\n\t * Pop up a toast notification.\n\t *\n\t * ### Example: (Chat invitation)\n\t *\n\t *     myToastMessage = Toaster.makeToast({\n\t *         title: 'Chat Invitation...',\n\t *         message: 'You\\'ve been invited to chat with <span>Math Buddies</span>.',\n\t *         iconCls: 'icons-chat-32',\n\t *         timeout: 60,\n\t *         //Buttons appear in the RTL order, so decline, here, will be the rigth-most button\n\t *         buttons: [{\n\t *             label: 'decline',\n\t *             callback: [...],\n\t *             scope: this\n\t *         }, {\n\t *             label: 'accept',\n\t *             callback: [...],\n\t *             scope: this\n\t *         }],\n\t *         callback: [...],\n\t *         scope: this\n\t *     });\n\t *\n\t * #### Note about callbacks:\n\t *\n\t * The main callback is called when the toast message is closed, eiher by acting on a button, closing it or timing\n\t * out. The callback is called with the actedOn button config or false if the notification is closing without\n\t * action.\n\t *\n\t * The individual buttons' callback's are called on the click event of that button after the main callback.\n\t * You cannot stop the main callback from being called.\n\t *\n\t * @param {Object} bread Configuration for {@link NextThought.view.toast.Window}\n\t * @return {Object} Toast component instance\n\t */\n\tmakeToast: function(bread) {\n\t\tvar size = Ext.dom.Element.getViewSize(),\n\t\t\ttoast,\n\t\t\ttimeout = bread.timeout || false;\n\n\t\ttoast = Ext.widget('toast', bread);\n\t\tthis.stack.push(toast);\n\n\t\ttoast.setPosition(size.width - (toast.width + 10), size.height);\n\t\ttoast.on('afterRender', this.popToast, this, {single: true});\n\t\ttoast.on('destroy', this.eatToast, this);\n\t\ttoast.show();\n\n\t\tif (timeout && timeout > 0) {\n\t\t\ttoast.timeoutId = Ext.defer(toast.close, timeout, toast);\n\t\t}\n\n\t\treturn toast;\n\t},\n\n\t/** @private */\n\tmeasure: function(loaf) {\n\t\tvar padding = this.PADDING,\n\t\t\tsum = 0;\n\t\tExt.each(loaf, function(o) {sum += (o.getHeight() + padding);});\n\t\treturn sum;\n\t},\n\n\t/** @private */\n\teatToast: function(toast) {\n\t\tif (toast.hasOwnProperty('timeoutId')) {\n\t\t\tclearTimeout(toast.timeoutId);\n\t\t}\n\n\t\tvar idx = Ext.Array.indexOf(this.stack, toast);\n\t\tif (idx < 0) {return;}\n\n\t\tthis.stack.splice(idx, 1);\n\t\tthis.adjustStack();\n\t},\n\n\n\tadjustStack: function() {\n\t\tExt.each(this.stack, this.popToast, this);\n\t},\n\n\n\t/** @private */\n\tpopToast: function(toast) {\n\n\t\tvar vp = Ext.dom.Element.getViewSize(),\n\t\t\tleft = vp.width - (toast.width + 10),\n\t\t\ttop = vp.height,\n\t\t\tidx;\n\t\tif (this.stack.length > 0) {\n\t\t\tidx = Ext.Array.indexOf(this.stack, toast);\n\t\t\ttop -= this.measure(this.stack.slice(0, idx));\n\t\t}\n\n\t\ttop = Math.max(top - (toast.getHeight() + this.PADDING), 0);\n\n\t\ttoast.animate({\n\t\t\tduration: 400,\n\t\t\tto: { top: top, left: left }\n\t\t});\n\t}\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/common/toast/Manager.js\n ** module id = 9\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.mixins.HasLinks', {\n\n\tgetLink: function(rel, raw) {\n\t\tvar links = this.get('Links') || Ext.data.Types.LINKS.convert((this.raw && this.raw.Links) || []),\n\t\t\tref = links ? links.getRelHref(rel, raw === true) : null;//raw is only ever true if and only if passing litterally \"true\" to the param. Not 'truthy'\n\t\treturn ref ? getURL(ref) : null;\n\t},\n\n\n\tgetLinkFragment: function(rel) {\n\t\treturn (this.getLink(rel, true) || '').split('#')[1];\n\t},\n\n\n\tgetLinkMethod: function(rel) {\n\t\tvar links = this.get('Links'),\n\t\t\tlink = links && links.getRelLink(rel);\n\n\t\treturn link && link.method;\n\t},\n\n\n\thasLink: function(rel) {\n\t\treturn !!this.getLink(rel);\n\t},\n\n\n\tdeleteLink: function(rel) {\n\t\tvar links = this.get('Links').links || (this.raw && this.raw.Links), reqLink;\n\n\t\tExt.Array.every(links || [], function(link) {\n\t\t\tif (link && link.rel === rel) {\n\t\t\t\treqLink = link;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tif (reqLink) {\n\t\t\tExt.Array.remove(links, reqLink);\n\t\t}\n\t},\n\n\n\tgetReportLinks: function() {\n\t\tvar linksObj = this.get('Links'),\n\t\t\tlinks = (linksObj && linksObj.links) || (this.raw && this.raw.Links),\n\t\t\treports = [];\n\n\t\t(links || []).forEach(function(link) {\n\t\t\tif (link.rel.indexOf('report-') === 0) {\n\t\t\t\treports.push(link);\n\t\t\t}\n\t\t});\n\n\t\treturn reports;\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/mixins/HasLinks.js\n ** module id = 10\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.PresenceInfo', {\n    override: 'Ext.data.Types',\n\n    PRESENCEINFO: {\n\t\ttype: 'PresenceInfo',\n\t\tsortType: 'none',\n\t\tconvert: function(v, record) {\n\t\t\tif (!v.isPresenceInfo) {\n\t\t\t\treturn NextThought.model.PresenceInfo.createPresenceInfo(record.get('username'), 'unavailable');\n\t\t\t}\n\n\t\t\treturn v;\n\t\t}\n\t}\n}, function() {\n\tfunction set(o) { o.sortType = Ext.data.SortTypes[o.sortType]; }\n\tset(this.PRESENCEINFO);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/PresenceInfo.js\n ** module id = 11\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('../../util/Globals');\nvar ParseUtils = require('../../util/Parsing');\nvar ReaderBase = require('./Base');\n\n\nmodule.exports = exports = Ext.define('NextThought.proxy.reader.Json', {\n\textend: 'NextThought.proxy.reader.Base',\n\talias: 'reader.nti',\n\tinitialConfig: {root: 'Items'},\n\n\tcollectionTypes: {\n\t\t'application/vnd.nextthought.collection': 1,\n\t\t'application/vnd.nextthought.searchresults': 1\n\t},\n\n\tonItemRead: Ext.identityFn,\n\n\treadRecords: function(data) {\n\t\tvar records = [], key,\n\t\t\titems = data.Items, item,\n\t\t\tmimeType = data.MimeType,\n\t\t\tlinks = data.Links,\n\t\t\tlastViewed = data.lastViewed,\n\t\t\tbaseModel = this.model,\n\t\t\tresult, i, record, modelName;\n\n\t\tif (data.request) {\n\t\t\tif (data.status !== 204) {\n\t\t\t\tconsole.warn('Unknown response?', data);\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\n\t\tif (this.collectionTypes[mimeType] || (mimeType === undefined && items)) {\n\t\t\tfor (key in items) {\n\t\t\t\tif (items.hasOwnProperty(key)) {\n\t\t\t\t\titem = this.onItemRead(items[key], key);\n\n\t\t\t\t\tif (typeof item === 'string') {\n\t\t\t\t\t\tconsole.warn('IGNORING: Received string item at key:', key, item);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!ParseUtils.findModel(item)) {\n\t\t\t\t\t\tconsole.warn('IGNORING: Received object that does not match a model', item);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\trecords.push(item);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdata.Items = records;\n\t\t} else {\n\t\t\tdata = [data];\n\t\t}\n\n\t\ttry {\n\n\t\t\tresult = this.callParent([data]);\n\t\t\tif (lastViewed) {\n\t\t\t\tresult.lastViewed = Ext.Date.parse(lastViewed, 'timestamp', true);\n\t\t\t}\n\t\t\tif (links && Ext.isArray(links)) {\n\t\t\t\tresult.links = {};\n\t\t\t\tExt.each(links, function(l) {result.links[l.rel] = l.href;});\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\ti = result.records.length - 1;\n\t\t\t\tfor (i; i >= 0; i--) {\n\t\t\t\t\trecord = result.records[i];\n\t\t\t\t\ttry {\n\t\t\t\t\t\t//Stores like to have one type of model in them, but we need non-homogenous stores.\n\t\t\t\t\t\t//e.g. PageItem stores have notes, highlights, redaction, etc.  So make sure we coerce the proper model\n\t\t\t\t\t\t//here.  TODO move into NextThought.proxy.reader.Base and/or a more elegant way to do this\n\t\t\t\t\t\tif (record instanceof NextThought.model.Base && !record.homogenous) {\n\t\t\t\t\t\t\tmodelName = record.get('Class');\n\t\t\t\t\t\t\tif (record.modelName.substr(-modelName.length) !== modelName) {\n\t\t\t\t\t\t\t\tresult.records[i] = this.__rebuildRecordAsType(\n\t\t\t\t\t\t\t\t\t\tParseUtils.findModel(record.raw), record.getId(), record.raw);\n\t\t\t\t\t\t\t\tdelete record.raw;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e1) {\n\t\t\t\t\t\tconsole.error(Globals.getError(e1), '\\n\\nNo model for record? : ', record);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\t//put the base back\n\t\t\t\tif (this.model !== baseModel) {\n\t\t\t\t\tthis.model = baseModel;\n\t\t\t\t\tthis.buildExtractors(true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.error(e.stack || e, records);\n\t\t\treturn Ext.data.ResultSet.create({\n\t\t\t\ttotal: 0,\n\t\t\t\tcount: 0,\n\t\t\t\trecords: [],\n\t\t\t\tsuccess: false\n\t\t\t});\n\t\t}\n\t},\n\n\t__rebuildRecordAsType: function(Model, id, data) {\n\t\tvar convertedValues,\n\t\t\t\trecord = new Model(undefined, id, data, convertedValues = {});\n\n\t\tif (this.model !== Model) {\n\t\t\tthis.model = Model;\n\t\t\tthis.buildExtractors(true);\n\t\t}\n\n\t\trecord.phantom = false;\n\n\t\tthis.convertRecordData(convertedValues, data, record);\n\n\t\treturn record;\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/proxy/reader/Json.js\n ** module id = 12\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Toaster = require('../../common/toast/Manager');\nvar ParseUtils = require('../../util/Parsing');\nvar CommonStateStore = require('../../common/StateStore');\nvar ModelRoomInfo = require('../../model/RoomInfo');\n\n\nmodule.exports = exports = Ext.define('NextThought.app.chat.StateStore', {\n    extend: 'NextThought.common.StateStore',\n    availableForChat: false,\n    PRESENCE_MAP: {},\n    STATE_KEY: 'chats',\n    CHAT_WIN_MAP: {},\n    ROOM_USER_MAP: {},\n\n    getSocket: function() {\n\t\tif (!this.socket) {\n\t\t\tthis.socket = Socket;\n\t\t}\n\n\t\treturn this.socket;\n\t},\n\n    setMySelfOffline: function() {\n\t\tvar me = this;\n\n\t\tme.didSetMySelfOffline = true;\n\n\t\twait(5000)\n\t\t\t.then(function() {\n\t\t\t\tme.didSetMySelfOffline = false;\n\t\t\t});\n\t},\n\n    getPresenceOf: function(user) {\n\t\tvar username = (user && user.isModel) ? user.get('Username') : user;\n\n\t\tif (!username) { return; }\n\n\t\treturn this.PRESENCE_MAP[username];\n\t},\n\n    /**\n\t * Update the presence of a user, if it is the current user and they went offline\n\t * in another session, give them a chance to come back online.\n\t *\n\t * @param {String} username       id of the user the presence if for\n\t * @param {PresenceInfo} presence       the presence\n\t * @param {Function} changePresence what to call if they do set themselves online\n\t */\n\tsetPresenceOf: function(username, presence, changePresence) {\n\t\tvar prevToast = this.__offlineToast,\n\t\t\toldPresence;\n\n\t\tif (isMe(username)) {\n\t\t\t//if we are online we are available for chat\n\t\t\tif (presence.isOnline()) {\n\t\t\t\tthis.availableForChat = true;\n\n\t\t\t\tif (prevToast) {\n\t\t\t\t\tprevToast.destroy();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toldPresence = this.PRESENCE_MAP[username];\n\n\t\t\t\t//if we didn't trigger being offline and our old presence was online alert the user\n\t\t\t\tif (!this.didSetMySelfOffline && oldPresence && oldPresence.isOnline()) {\n\t\t\t\t\tconsole.log('Set offline in another session');\n\t\t\t\t\tthis.didSetMySelfOffline = false;\n\n\t\t\t\t\tif (prevToast) {\n\t\t\t\t\t\tprevToast.destroy();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.__offlineToast = Toaster.makeToast({\n\t\t\t\t\t\tid: 'revertToast',\n\t\t\t\t\t\tmessage: 'You are currently unavailable because you went offline in another session.',\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: 'Okay'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: 'Set to available',\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\tpresence.set({type: 'available', show: 'chat'});\n\t\t\t\t\t\t\t\t\tchangePresence(presence);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.PRESENCE_MAP[username] = presence;\n\n\t\tthis.fireEvent('presence-changed', username, presence);\n\t},\n\n    showChatWindow: function(roomInfo) {\n\t\tthis.fireEvent('show-window', roomInfo);\n\t},\n\n    fireGutterToggle: function() {\n\t\t// The chat gutter should always be visible except in case the viewport width is too small (i.e width < 1024)\n\t\t// In those cases, we will use this event to show and hide the gutter.\n\t\tthis.fireEvent('toggle-gutter');\n\t},\n\n    notify: function(win, msg) {\n\t\tvar creator = msg && msg.isModel ? msg.get('Creator') : msg && msg.Creator;\n\t\tif (!isMe(creator)) {\n\t\t\tthis.fireEvent('notify', win, msg);\n\t\t}\n\t},\n\n    getChatWindow: function(roomInfo) {\n\t\tvar me = this,\n\t\t\trIsString = (typeof roomInfo === 'string'),\n\t\t\tw, occupantsKey;\n\n\t\tif (!rIsString && roomInfo) {\n\t\t\toccupantsKey = roomInfo.getOccupantsKey();\n\t\t}\n\t\telse if (rIsString) {\n\t\t\toccupantsKey = this.ROOM_USER_MAP[roomInfo];\n\t\t}\n\n\t\tif (occupantsKey) {\n\t\t\tw = this.getWindow(occupantsKey);\n\t\t}\n\n\t\treturn w;\n\t},\n\n    replaceChatRoomInfo: function(chatWindow, newRoom) {\n\t\tvar\toldRoom = chatWindow.roomInfo,\n\t\t\toccupantsKey = newRoom && newRoom.getOccupantsKey(),\n\t\t\tme = this;\n\n\t\tif (!oldRoom || !newRoom || oldRoom.getId() === newRoom.getId()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (occupantsKey !== oldRoom.getOccupantsKey()) {\n\t\t\tconsole.warn('Chat room occupants key are not identical. New key: ',\n\t\t\t\toccupantsKey, ' and old key: ', oldRoom.getOccupantsKey());\n\t\t}\n\n\t\t// Delete the old cache\n\t\tconsole.debug('deleting the cache for the old room info: ', oldRoom.getId());\n\t\tme.removeSessionObject(occupantsKey);\n\n\t\t// Change the roomInfo to the new one.\n\t\tchatWindow.roomInfoChanged(newRoom);\n\n\t\t// Cache the new room to make sure the map that the store is in sync\n\t\tconsole.debug('caching new room info : ', newRoom.getId());\n\t\tme.CHAT_WIN_MAP[occupantsKey] = chatWindow;\n\t\tme.ROOM_USER_MAP[newRoom.getId()] = occupantsKey;\n\t\tme.putRoomInfoIntoSession(newRoom);\n\t},\n\n    cacheChatWindow: function(win, roomInfo) {\n\t\tvar rid = roomInfo && roomInfo.isModel ? roomInfo.getId() : roomInfo,\n\t\t\toccupantsKey = roomInfo && roomInfo.getOccupantsKey();\n\n\t\tthis.CHAT_WIN_MAP[occupantsKey] = win;\n\t\tthis.ROOM_USER_MAP[rid] = occupantsKey;\n\t\tthis.fireEvent('added-chat-window', win);\n\t},\n\n    getWindow: function(id) {\n\t\treturn this.CHAT_WIN_MAP[id];\n\t},\n\n    getAllChatWindows: function() {\n\t\tvar wins = [];\n\t\tfor(var k in this.CHAT_WIN_MAP) {\n\t\t\tif(this.CHAT_WIN_MAP.hasOwnProperty(k)) {\n\t\t\t\twins.push(this.CHAT_WIN_MAP[k]);\n\t\t\t}\n\t\t}\n\n\t\treturn wins;\n\t},\n\n    /**\n\t * Check to see if a room already exists.  A room exists when any of the following conditions are met, in this order:\n\t *1) if there's a roomId sent.  there must be an existing roomId in the active rooms object.\n\t *2) if no roomId is sent, then look for a room with the same constituants, that room must not be a group/class.\n\t *\n\t * @param {Array} users list of users\n\t * @param {String} roomId roomid\n\t * @param {Object} options\n\t * @return {NextThought.model.RoomInfo}\n\t */\n\texistingRoom: function(users, roomId) {\n\t\tvar allUsers = Ext.Array.unique(users.slice().concat($AppConfig.userObject.get('Username'))),\n\t\t\toccupantsKey = Ext.Array.sort(allUsers).join('_');\n\n\t\tconsole.debug('Checking for existing room for occupants key: ', occupantsKey, ' and roomInfo id: ', roomId);\n\t\treturn this.getRoomInfoFromSession(occupantsKey);\n\t},\n\n    putRoomInfoIntoSession: function(roomInfo) {\n\t\tif (!roomInfo) {\n\t\t\tconsole.error('Requires a RoomInfo object');\n\t\t\treturn;\n\t\t}\n\n\t\tvar roomData = roomInfo.getData(),\n\t\t\tkey = roomInfo.getOccupantsKey();\n\n\t\troomData.originalOccupants = roomInfo.getOriginalOccupants();\n\t\tconsole.debug('****** caching roomInfo: ', roomInfo.getId(), ' to: ', key);\n\n\t\tthis.setSessionObject(roomData, key);\n\t},\n\n    /**\n\t *\n\t * @param {String} [key] Optional sub-key\n\t * @return {*}\n\t */\n\tgetSessionObject: function(key) {\n\t\tvar o = TemporaryStorage.get(this.STATE_KEY) || {};\n\t\tif (!Ext.isEmpty(key)) {\n\t\t\treturn o[key];\n\t\t}\n\t\treturn o;\n\t},\n\n    /**\n\t *\n\t * @param {Object} o Value to put into session storage.\n\t * @param {String} [key] Optional key. If present, `o` is assumed to be the new value at the `key` instead of\n\t *              the whole session object.\n\t */\n\tsetSessionObject: function(o, key) {\n\t\tvar leaf = o;\n\t\tif (!Ext.isEmpty(key)) {\n\t\t\to = this.getSessionObject();\n\t\t\to[key] = leaf;\n\t\t}\n\n\t\tTemporaryStorage.set(this.STATE_KEY, o);\n\t},\n\n    removeSessionObject: function(key) {\n\t\tif (!Ext.isEmpty(key)) {\n\t\t\tvar o = this.getSessionObject();\n\t\t\tdelete o[key];\n\t\t\tthis.setSessionObject(o);\n\t\t\treturn;\n\t\t}\n\t\tTemporaryStorage.remove('chats');\n\t},\n\n    isPersistantRoomId: function(id) {\n\t\treturn (/meetingroom/i).test(id);\n\t},\n\n    isOccupantsKeyAccepted: function(id) {\n\t\treturn Boolean((this.getSessionObject('roomIdsAccepted') || {})[id]);\n\t},\n\n    setOccupantsKeyAccepted: function(roomInfo) {\n\t\tvar key = 'roomIdsAccepted',\n\t\t\toccupantsKey = roomInfo.getOccupantsKey(),\n\t\t\tstatus = this.getSessionObject(key) || {};\n\n\t\tstatus[occupantsKey] = true;\n\t\tthis.setSessionObject(status, key);\n\t},\n\n    deleteOccupantsKeyAccepted: function(roomInfo) {\n\t\tvar key = 'roomIdsAccepted',\n\t\t\tstatus = this.getSessionObject(key),\n\t\t\toccupantsKey = roomInfo.getOccupantsKey();\n\n\t\tif (!status) {\n\t\t\treturn;\n\t\t}\n\n\t\tdelete status[occupantsKey];\n\t\tdelete this.CHAT_WIN_MAP[occupantsKey];\n\t\tthis.setSessionObject(status, key);\n\t\tthis.fireEvent('exited-room', roomInfo.getId());\n\t},\n\n    getAllOccupantsKeyAccepted: function() {\n\t\tvar accepted = this.getSessionObject('roomIdsAccepted') || {},\n\t\t\tpairs = [], key;\n\n\t\tfor (key in accepted) {\n\t\t\tif (accepted.hasOwnProperty(key)) {\n\t\t\t\tpairs.push(key);\n\t\t\t}\n\t\t}\n\n\t\treturn pairs;\n\t},\n\n    getRoomInfoFromSession: function(key, json) {\n\t\tif (!key) {\n\t\t\tExt.Error.raise('Requires key to look up RoomInfo');\n\t\t}\n\n\t\tvar m;\n\t\tjson = json || this.getSessionObject(key);\n\n\t\tif (json) {\n\t\t\ttry {\n\t\t\t\tm = new NextThought.model.RoomInfo(json);\n\t\t\t\tm.setOriginalOccupants(json.originalOccupants);\n\t\t\t\treturn m;\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tconsole.warn('Item in session storage is not a roomInfo', json);\n\t\t\t}\n\t\t}\n\t\treturn null; //not there\n\t},\n\n    getAllRoomInfosFromSession: function() {\n\t\tvar roomInfos = [], ri, key, chats;\n\n\t\tchats = this.getSessionObject();\n\n\t\tfor (key in chats) {\n\t\t\tif (chats.hasOwnProperty(key)) {\n\t\t\t\tif (key && key !== 'roomIdsAccepted') {\n\t\t\t\t\tri = this.getRoomInfoFromSession(key, chats[key]);\n\t\t\t\t\tif (ri) {\n\t\t\t\t\t\troomInfos.push(ri);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn roomInfos;\n\t},\n\n    removeAllRoomInfosFromSession: function() {\n\t\tvar chats = this.getSessionObject(),\n\t\t\to = chats['roomIdsAccepted'];\n\n\t\tthis.setSessionObject(this.STATE_KEY, o);\n\t},\n\n    updateRoomInfo: function(ri) {\n\t\tvar win = this.getChatWindow(ri.getId()),\n\t\t\t\tro = win ? win.roomInfo : this.getRoomInfoFromSession(ri.getId());\n\t\tif (ro) {\n\t\t\tro.fireEvent('changed', ri);\n\t\t}\n\t\tthis.putRoomInfoIntoSession(ri);\n\t},\n\n    buildTranscriptId: function(roomInfoId, uname, type) {\n\t\tvar id = ParseUtils.parseNTIID(roomInfoId);\n\n\t\tif (!id) {\n\t\t\treturn null;\n\t\t}\n\t\tid.specific.provider = uname;\n\t\tid.specific.type = type;\n\n\t\treturn id;\n\t},\n\n    getTranscriptIdForRoomInfo: function(roomInfo) {\n\t\tvar id = roomInfo.isModel ? roomInfo.getId() : roomInfo;\n\t\treturn this.buildTranscriptId(id, $AppConfig.username.replace('-', '_'), 'Transcript');\n\t},\n\n    getTranscripts: function() {\n\t\treturn this.__transcriptStore;\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/app/chat/StateStore.js\n ** module id = 13\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.common.StateStore', {\n\tmixins: {\n\t\tobservable: 'Ext.util.Observable'\n\t},\n\n\n\tinheritableStatics: {\n\t\t__instance: null,\n\n\t\t/**\n\t\t * Either returns or create an instance, so that every thing that uses the\n\t\t * state store is using the same instance.\n\t\t *\n\t\t * @return {Object} an instance of this state store\n\t\t */\n\t\tgetInstance: function() {\n\t\t\tif (!this.__instance) {\n\t\t\t\tthis.__instance = this.create();\n\t\t\t}\n\n\t\t\treturn this.__instance;\n\t\t}\n\t},\n\n\n\tconstructor: function(config) {\n\t\tthis.callParent(arguments);\n\n\t\tthis.mixins.observable.constructor.call(this, config);\n\t},\n\n\n\tisLoading: function() {\n\t\treturn this.loading;\n\t},\n\n\n\thasLoaded: function() {\n\t\treturn this.hasFinishedLoad;\n\t},\n\n\n\tsetLoading: function() {\n\t\tthis.loading = true;\n\t},\n\n\n\tsetLoaded: function() {\n\t\tthis.loading = false;\n\t\tthis.hasFinishedLoad = true;\n\t\tthis.fireEvent('loaded');\n\t},\n\n\t/**\n\t * A wrapper so we don't have to repeat this everywhere\n\t * make sure setLoaded is called at some point if you use this\n\t * @return {Promise} fulfills once setLoaded has been called\n\t */\n\tonceLoaded: function() {\n\t\tif (this.hasLoaded()) {\n\t\t\treturn Promise.resolve(this);\n\t\t}\n\n\t\tvar me = this;\n\n\t\treturn new Promise(function(fulfill, reject) {\n\t\t\tme.on({\n\t\t\t\tsingle: true,\n\t\t\t\t'loaded': fulfill.bind(null, me)\n\t\t\t});\n\t\t});\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/common/StateStore.js\n ** module id = 14\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.mixins.Avatar', {\n\n\tstatics: {\n\t\tBAKCGROUND_CHOICE_COUNT: 13,\n\n\t\t//http://www.materialui.co/colors 600 line\n\t\tDEFAULT_AVATAR_BG_COLORS: [\n\t\t\t'5E35B1',\n\t\t\t'3949AB',\n\t\t\t'1E88E5',\n\t\t\t'039BE5',\n\t\t\t'00ACC1',\n\t\t\t'00897B',\n\t\t\t'43A047',\n\t\t\t'7CB342',\n\t\t\t'C0CA33',\n\t\t\t'FDD835',\n\t\t\t'FFB300',\n\t\t\t'FB8C00',\n\t\t\t'F4511E'\n\t\t],\n\n\t\tAVATAR_CACHE: {},\n\n\t\tgetValidAvatarURL: function(url) {\n\t\t\tif (!this.AVATAR_CACHE[url]) {\n\t\t\t\tthis.AVATAR_CACHE[url] = new Promise(function(fulfill, reject) {\n\t\t\t\t\tvar img = new Image();\n\n\t\t\t\t\timg.onload = fulfill.bind(null, url);\n\t\t\t\t\timg.onerror = fulfill.bind(null, null);\n\n\t\t\t\t\timg.src = url;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.AVATAR_CACHE[url];\n\t\t},\n\n\n\t\tgetUsernameHash: function(str) {\n\t\t\tvar hash = 0, c, i;\n\n\t\t\tif (!str || str.length === 0) { return hash; }\n\n\t\t\tfor (i = 0; i < str.length; i++) {\n\t\t\t\tc = str.charCodeAt(i);\n\t\t\t\thash = ((hash << 5) - hash) + c;\n\t\t\t\thash = hash & hash; // Convert to 32bit integer\n\t\t\t}\n\n\t\t\treturn hash;\n\t\t},\n\n\n\t\tgetDefaultBackgroundForUsername: function(username) {\n\t\t\tvar hash = this.getUsernameHash(username),\n\t\t\t\tidx = Math.abs(hash) % this.BAKCGROUND_CHOICE_COUNT;\n\n\t\t\tif (idx < 10) {\n\t\t\t\tidx = '0' + idx;\n\t\t\t}\n\n\t\t\treturn '/app/resources/images/profile-backgrounds/profile_bg_' + idx + '.jpg';\n\t\t},\n\n\n\t\tgetBackgroundColorForUsername: function(username) {\n\t\t\tvar hash = this.getUsernameHash(username),\n\t\t\t\tidx = Math.abs(hash) % this.DEFAULT_AVATAR_BG_COLORS.length;\n\n\t\t\treturn this.DEFAULT_AVATAR_BG_COLORS[idx];\n\t\t},\n\n\n\t\t//This is isn't really a battle we can win given the complexity of names\n\t\t//globally, however as a default this should work.  If they don't like it\n\t\t//they can upload an image.  If we have a first and last from the server\n\t\t//take the first char of each, else take the first char of the display name.\n\t\t//As of 7/2015 this matches the mobile app. Unresolved users don't show initials\n\t\tgetAvatarInitials: function(data, f, l, d) {\n\t\t\t//TODO should we cache this?\n\n\t\t\tvar first = f || data.NonI18NFirstName,\n\t\t\tlast = l || data.NonI18NLastName,\n\t\t\tdn = d || data.displayName;\n\n\t\t\treturn first && last ? first[0] + last[0] : (dn && dn[0]);\n\t\t}\n\t},\n\n\tinitAvatar: function() {\n\t\tvar me = this;\n\n\t\t//Give the field converters a chance to run\n\t\twait()\n\t\t\t.then(function() {\n\t\t\t\treturn Promise.all([\n\t\t\t\t\tme.__getAvatar(),\n\t\t\t\t\tme.__getInitials(),\n\t\t\t\t\tme.__getBGColor()\n\t\t\t\t]);\n\t\t\t}).then(function(results) {\n\t\t\t\tme.set({\n\t\t\t\t\tavatarURL: results[0],\n\t\t\t\t\tavatarInitials: results[1],\n\t\t\t\t\tavatarBGColor: results[2]\n\t\t\t\t});\n\n\t\t\t\t// Fire a changed event. This will help update the avatarURL with the correct one,\n\t\t\t\t// when it's been temporary set to a unresolved or initials avatar while we verify if it's a valid URL.\n\t\t\t\t// Since this promise fulfills asynchronously, the view that requested\n\t\t\t\t// it could be rendered when it fulfills within the next even loop.\n\t\t\t\tme.fireEvent('avatarChanged', me);\n\t\t\t});\n\t},\n\n\n\tisUnresolved: function() { return true; },\n\n\n\t__getAvatar: function() {\n\t\tvar url = this.get('avatarURL');\n\n\t\tif (!url) {\n\t\t\treturn null;\n\t\t}\n\n\t\t//assume its a bad link until we know otherwise\n\t\tthis.set('avatarURL', '');\n\n\t\treturn NextThought.mixins.Avatar.getValidAvatarURL(url);\n\t},\n\n\n\t__getInitials: function() {\n\t\tif (this.isUnresolved()) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn NextThought.mixins.Avatar.getAvatarInitials(this.raw, this.get('FirstName'), this.get('LastName'), this.getName());\n\t\t}\n\t},\n\n\n\t__getBGColor: function() {\n\t\treturn NextThought.mixins.Avatar.getBackgroundColorForUsername(this.get('Username'));\n\t},\n\n\n\n\tgetBackgroundImage: function() {\n\t\tvar background = this.get('backgroundURL'),\n\t\t\tusername = this.get('Username');\n\n\t\tif (background) {\n\t\t\treturn Promise.resolve(background);\n\t\t}\n\n\t\treturn Promise.resolve(NextThought.mixins.Avatar.getDefaultBackgroundForUsername(username));\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/mixins/Avatar.js\n ** module id = 15\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar DelegateFactory = require('./Delegation/Factory');\n\n\n/**\n * Enables auto-magical delegation of methods.\n *\n * To declare a method in a component as being delegated simply add a property to the method \"delegated:true\". At the\n * bottom of this file there is a helper class that makes this easy. @see {NextThought.mixins.Delegation.Factory}\n *\n * To attach delegate(s) to a component set the `delegate` config property to be either 'inherit' or a selector of the\n * component that will be delegated to. (It can also be an array if different components care about different aspects)\n */\nmodule.exports = exports = Ext.define('NextThought.mixins.Delegation', function() {\n\tvar debug = $AppConfig.debugDelegation;\n\n\t/** @private */\n\tfunction getInheritedDelegates(cmp) {\n\t\tvar ancestor = cmp.up('[delegate]:not([delegate=\"inherit\"])');\n\t\treturn ancestor && ancestor.delegate;\n\t}\n\n\t/** @private */\n\tfunction askDelegate(cmp,fn,applyAll,args) {\n\t\tvar result = null,\n\t\t\tfound = false;\n\n\t\tfunction getAgent(o,fn) {\n\t\t\treturn (o.deletgationAgent || {})[fn] || o[fn];\n\t\t}\n\n\t\tif (cmp.delegate === 'inherit') {\n\t\t\tcmp.delegate = getInheritedDelegates(cmp);\n\t\t}\n\n\t\tif (!Ext.isArray(cmp.delegate)) {\n\t\t\tcmp.delegate = [cmp.delegate];\n\t\t}\n\n\t\ttry {\n\t\t\tExt.each(cmp.delegate, function(v,i,a) {\n\t\t\t\tvar f, c, CQ = Ext.ComponentQuery;\n\t\t\t\tif (Ext.isString(v)) {\n\t\t\t\t\tc = CQ.query(v, cmp.up()).first();\n\t\t\t\t\tif (!c) {\n\t\t\t\t\t\tconsole.debug('Did not find delegate as a sibling or descendant...trying global');\n\t\t\t\t\t\tc = CQ.query(v).first();\n\t\t\t\t\t}\n\t\t\t\t\tv = c || v;\n\t\t\t\t}\n\n\t\t\t\tif (!v || !v.isComponent) {\n\t\t\t\t\tconsole.debug('No component:', cmp.id, a[i], i, a);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (a[i] !== v) {\n\t\t\t\t\ta[i] = v;//cache result\n\t\t\t\t}\n\n\t\t\t\tf = getAgent(v, fn);\n\t\t\t\tif (!Ext.isFunction(f)) {\n\t\t\t\t\tconsole.warn('The delegate', v.id, 'does not implement', fn);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (found && !applyAll) {\n\t\t\t\t\t\tconsole.error('Multiple delegated functions: ', fn, v.id);\n\t\t\t\t\t}\n\t\t\t\t\tfound = true;\n\t\t\t\t\tresult = f.apply(v, args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tcatch (e) {\n\t\t\tExt.log.error(e.stack || e.message || e);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/** @private */\n\tfunction setupDelegates(cmp) {\n\t\tvar k, v;\n\n\t\tfunction makeDelegate(k,fn,o) {\n\t\t\treturn function() {\n\t\t\t\tif (debug) { console.debug('delegating...' + k); }\n\t\t\t\tvar v = askDelegate.apply(o, [o, k, fn.applyAll, arguments]);\n\t\t\t\tif (v === DelegateFactory.PREVENT_DEFAULT) {return undefined;}\n\t\t\t\treturn v || fn.apply(o, arguments);\n\t\t\t};\n\t\t}\n\n\t\t//I WANT all properties... so skipping !hasOwnProperty is not an option.\n\t\t/*jslint forin: true */\n\t\tfor (k in cmp) {\n\t\t\tv = cmp[k];\n\t\t\tif (Ext.isFunction(v) && v.delegated) {\n\t\t\t\tif (debug) {console.debug('Rewriting...', k);}\n\t\t\t\tcmp[k] = makeDelegate(k, v, cmp);\n\t\t\t}\n\t\t}\n\t}\n\n\n\treturn {\n\t\tinitDelegation: function() {\n\t\t\tif (!this.delegate) { return; }\n\t\t\tsetupDelegates(this);\n\t\t},\n\n\n\t\tregisterDelegationTarget: function(delegate,targetFn) {\n\t\t\tvar o = {};\n\t\t\tif (Ext.isString(delegate)) {\n\t\t\t\to[delegate] = Ext.isString(targetFn) ? this[targetFn] : Ext.isFunction(targetFn) ? targetFn : null;\n\t\t\t}\n\t\t\telse if (Ext.isObject(delegate)) {\n\t\t\t\tExt.Object.each(delegate, this.registerDelegationTarget, this);\n\t\t\t}\n\n\t\t\tthis.deletgationAgent = Ext.apply(this.deletgationAgent || {},o);\n\t\t}\n\t};\n});\n\n\n/**\n * Utility class to aid in defining delegated functions.\n */\nmodule.exports = exports = Ext.define('NextThought.mixins.Delegation.Factory', {\n\tsingleton: true,\n\talternateClassName: 'DelegateFactory',\n\n\t/** @property This is a special value to return form a delegated function to prevent the default */\n\tPREVENT_DEFAULT: {},\n\n\t/**\n\t * Makes a delegated function with a default of the passed function.\n\t *\n\t * @param {Function} [fn] The default behavior if there is no delegate or if the delegate does not return\n\t *                      {@link #PREVENT_DEFAULT}\n\t * @param {Boolean} [applyAll] If more than one delegate offer an implementation, use them all. (Obviously the\n\t *\t\t\t\t\t\treturn value will be meaningless, so don't use this for functions that need to return\n\t *\t\t\t\t\t\tsomething)\n\t *\n\t * @return {Function} The delegated function.\n\t */\n\tgetDelegated: function(fn,applyAll) {\n\t\tfn = fn || function() {};\n\t\tfn.delegated = true;\n\t\tfn.applyAll = Boolean(applyAll);\n\t\treturn fn;\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/mixins/Delegation.js\n ** module id = 16\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar ObjectUtils = require('../util/Object');\nvar ModelBase = require('./Base');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.PresenceInfo', {\n\textend: 'NextThought.model.Base',\n\tidProperty: 'username',\n\tfields: [\n\t\t{ name: 'username', type: 'string'},\n\t\t{ name: 'type', type: 'string'},\n\t\t{ name: 'show', type: 'string', defaultValue: 'chat'},\n\t\t{ name: 'status', type: 'string', defaultValue: null}\n\t],\n\n\tstatics: {\n\t\tcreateFromPresenceString: function(presence, username) {\n\t\t\treturn Ext.create('NextThought.model.PresenceInfo', {\n\t\t\t\t'username': username,\n\t\t\t\t'type': (presence.toLowerCase() !== 'online') ? 'unavailable' : 'available'\n\t\t\t});\n\t\t},\n\n\t\tcreatePresenceInfo: function(username, type, show, status) {\n\t\t\treturn Ext.create('NextThought.model.PresenceInfo', {\n\t\t\t\t'username': username,\n\t\t\t\t'type': (type) ? type : 'unavailable',\n\t\t\t\t'show': show,\n\t\t\t\t'status': status\n\t\t\t});\n\t\t}\n\t},\n\n\n\tconstructor: function() {\n\t\tthis.callParent(arguments);\n\n\t\tObjectUtils.defineAttributes(this, {\n\t\t\tname: {\n\t\t\t\tgetter: this.getName\n\t\t\t}\n\t\t});\n\t},\n\n\n\tisPresenceInfo: true,\n\n\tnameToDisplay: {\n\t\t'dnd': 'Do not disturb',\n\t\t'away': 'Away',\n\t\t'available': 'Available',\n\t\t'unavailable': '',\n\t\t'invisible': 'Invisible'\n\t},\n\n\tisOnline: function() {\n\t\treturn this.get('type') !== 'unavailable';\n\t},\n\n\ttoString: function() {\n\t\treturn (this.isOnline()) ? 'Online' : 'Offline';\n\t},\n\n\tgetDisplayText: function() {\n\t\tvar status = this.get('status');\n\n\t\tif (!this.isOnline()) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (!Ext.isEmpty(status) && status !== 'null') {\n\t\t\treturn this.get('status');\n\t\t}\n\n\t\treturn this.nameToDisplay[this.getName()];\n\t},\n\n\tgetName: function() {\n\t\tvar show = this.get('show');\n\n\t\tif (!this.isOnline()) {\n\t\t\treturn 'unavailable';\n\t\t}\n\n\t\tif (show === 'chat') {\n\t\t\treturn 'available';\n\t\t}\n\n\t\tif (show === 'xa') {\n\t\t\treturn 'invisible';\n\t\t}\n\n\t\treturn show;\n\t}\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/PresenceInfo.js\n ** module id = 17\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar ModelBase = require('./Base');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.RoomInfo', {\n\textend: 'NextThought.model.Base',\n\tmimeType: 'application/vnd.nextthought._meeting',\n\n\tidProperty: 'ID',\n\tfields: [\n\t\t{ name: 'Active', type: 'bool' },\n\t\t{ name: 'MessageCount', type: 'int' },\n\t\t{ name: 'Occupants', type: 'UserList'},\n\t\t{ name: 'Moderators', type: 'UserList'},\n\t\t{ name: 'Moderated', type: 'bool'},\n\t\t{ name: 'inReplyTo', type: 'string' },\n\t\t{ name: 'references', type: 'auto', defaultValue: [] }\n\t],\n\n\tisGroupChat: function() {\n\t\tvar participants = this.getOriginalOccupants();\n\n\t\tif (Ext.isEmpty(participants, false)) {\n\t\t\tparticipants = this.get('Occupants');\n\t\t}\n\t\treturn participants.length > 2;\n\t},\n\n\tgetAllRoomStates: function() { return this.roomStates || {}; },\n\n\tgetRoomState: function(user) {\n\t\tif (!this.roomStates) { return null;}\n\t\treturn this.roomStates[user];\n\t},\n\n\tsetRoomState: function(user, state) {\n\t\tif (!this.roomStates) { this.roomStates = {};}\n\t\tthis.roomStates[user] = state;\n\t},\n\n\tgetInputTypeStates: function() {\n\t\tvar p = [], inputStates = ['composing', 'paused'], me = this;\n\t\tExt.each(me.get('Occupants'), function(user) {\n\t\t\tvar userState = me.getRoomState(user);\n\t\t\tif (Ext.Array.contains(inputStates, userState) && !isMe(user)) {\n\t\t\t\tp.push({user: user, state: userState});\n\t\t\t}\n\t\t});\n\t\treturn p;\n\t},\n\n\t/*\n\t *  NOTE: We want to add an additional property 'OriginalOccupants' that we will use to compare 1-1 rooms with the same occupants(to see if we can merge them.)\n\t *  Because Occupants property only contain the live list of occupants and\n\t *  some occupants might have left the chat before, the original occupants will help to compare chat rooms with the same occupants.\n\t */\n\n\tsetOriginalOccupants: function(occupants) {\n\t\tthis._originalOccupants = occupants;\n\t},\n\n\tgetOriginalOccupants: function() {\n\t\treturn this._originalOccupants || [];\n\t},\n\n\n\tgetOccupantsKey: function() {\n\t\tvar occupants = this.getOriginalOccupants();\n\t\tif (occupants.length === 0) {\n\t\t\toccupants = this.get('Occupants');\n\t\t}\n\n\t\treturn Ext.Array.sort(occupants).join(\"_\");\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/RoomInfo.js\n ** module id = 18\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.ContentRangeDescription', {\n    override: 'Ext.data.Types',\n\n    CONTENTRANGEDESCRIPTION: {\n\t\ttype: 'ContentRangeDescription',\n\t\tconvert: function(v, record) {\n\t\t\ttry {\n\t\t\t\tif (v) {\n\t\t\t\t\treturn NextThought.model.anchorables.ContentRangeDescription.createFromObject(v);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tconsole.error('CRD: Parsing Error: ', e.message, e.stack, arguments);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/ContentRangeDescription.js\n ** module id = 19\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.DCCreatorToAuthor', {\n    override: 'Ext.data.Types',\n\n    DCCREATORTOAUTHOR: {\n\t\ttype: 'DCCreatorToAuthor',\n\t\tconvert: function(v) {\n\t\t\treturn v && v.join(', ');\n\t\t},\n\t\tsortType: 'none'\n\t}\n}, function() {\n\tthis.DCCREATORTOAUTHOR.sortType = Ext.data.SortTypes.none;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/DCCreatorToAuthor.js\n ** module id = 20\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.Date', {\n    override: 'Ext.data.Types'\n}, function() {\n\tExt.data.Types.ISODATE = {\n\t\tconvert: function(v) {\n\t\t\t//if we already have a date don't try to parse it\n\t\t\tif (v instanceof Date) {\n\t\t\t\treturn v;\n\t\t\t}\n\n\t\t\tif (v && v[v.length - 1] === 'Z') {\n\t\t\t\tv = v.substr(0, v.length - 1);\n\t\t\t}\n\n\t\t\tvar fmt = 'Y-m-d\\\\TH:i:sP',\n\t\t\t//we know most of the time the date will be a timezone-less sting... so concat the GMT zone and parse strict.\n\t\t\t\td = Ext.Date.parse(v + '-00:00', fmt, true);\n\n\t\t\t//if the parse strict fails, d will be undefined, and we will parse again without the concat.\n\t\t\treturn d || Ext.Date.parse(v, fmt, true);\n\t\t},\n\t\ttype: 'ISODate',\n\t\tsortType: Ext.data.SortTypes.asDate\n\t};\n\n\tExt.data.Types.NTIDATE = {\n\t\tconvert: function(v) {\n\t\t\tif (Number(v) !== v) {\n\t\t\t\tv = 0;\n\t\t\t} else if (v % 1 !== 0) {\n\t\t\t\tv = Math.round(v * 1000);\n\t\t\t}\n\n\t\t\treturn new Date(v);\n\t\t},\n\t\ttype: 'NTIDate',\n\t\tsortType: Ext.data.SortTypes.asDate\n\t};\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/Date.js\n ** module id = 21\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.Future', {\n    override: 'Ext.data.Types',\n\n    FUTURE: {\n\t\ttype: 'Future',\n\t\tsortType: 'none',\n\t\tconvert: function(v) {\n\t\t\tif (v && v.isModel) {\n\t\t\t\treturn v;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisFuture: true\n\t\t\t};\n\t\t}\n\t}\n}, function() {\n\tfunction set(o) { o.sortType = Ext.data.SortTypes[o.sortType]; }\n\tset(this.FUTURE);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/Future.js\n ** module id = 22\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.GroupByTime', {}, function() {\n\tExt.data.Types.GROUPBYTIME = {\n\t\ttype: 'groupByTime',\n\t\tsortType: Ext.data.SortTypes.asUCString,\n\n\t\tDAY: 86400,//seconds in a day\n\t\tWEEK: 604800, //seconds in a week\n\n\t\tgroupForElapsedTime: function(n, v) {\n\t\t\tvar now = new Date(n.getFullYear(), n.getMonth(), n.getDate()),\n\t\t\t\toneDayAgo = Ext.Date.add(now, Ext.Date.DAY, -1),\n\t\t\t\ttwoDaysAgo = Ext.Date.add(now, Ext.Date.DAY, -2),\n\t\t\t\toneWeekAgo = Ext.Date.add(now, Ext.Date.DAY, -1 * 7),\n\t\t\t\ttwoWeeksAgo = Ext.Date.add(now, Ext.Date.DAY, -2 * 7),\n\t\t\t\tthreeWeeksAgo = Ext.Date.add(now, Ext.Date.DAY, -3 * 7),\n\t\t\t\t//fourWeeksAgo = Ext.Date.add(now, Ext.Date.DAY, -4 * 7),\n\t\t\t\toneMonthAgo = Ext.Date.add(now, Ext.Date.MONTH, -1),\n\t\t\t\ttwoMonthsAgo = Ext.Date.add(now, Ext.Date.MONTH, -2),\n\t\t\t\toneYearAgo = Ext.Date.add(now, Ext.Date.YEAR, -1),\n\t\t\t\tweekday, nextWeekday;\n\n\n\t\t\tfunction between(date, start, end) {\n\t\t\t\tvar t = date.getTime();\n\t\t\t\treturn start.getTime() < t && t <= end.getTime();\n\t\t\t}\n\n\n\t\t\tv = new Date(v.getFullYear(), v.getMonth(), v.getDate());\n\n\t\t\t//We take inspiration from outlook here.  Despite being a terrible piece of\n\t\t\t//software it actually does this well.\tToday, Yesterday, Wed, tue, ..., Last week,\n\t\t\t//two weeks ago, three weeks ago, last month, this year, last year\n\n\t\t\tif (between(v, oneDayAgo, now)) { return now; }//Today\n\n\t\t\tif (between(v, twoDaysAgo, oneDayAgo)) { return oneDayAgo; }//Yesterday\n\n\t\t\tif (between(v, oneWeekAgo, twoDaysAgo)) {\n\t\t\t\tnextWeekday = twoDaysAgo;\n\n\t\t\t\tdo {\n\t\t\t\t\tweekday = nextWeekday;\n\t\t\t\t\tnextWeekday = Ext.Date.add(weekday, Ext.Date.DAY, -1);\n\t\t\t\t\tif (between(v, nextWeekday, weekday)) {\n\t\t\t\t\t\treturn weekday;\n\t\t\t\t\t}\n\t\t\t\t} while (weekday > oneWeekAgo);\n\n\t\t\t}\n\n\t\t\tif (between(v, twoWeeksAgo, oneWeekAgo)) { return oneWeekAgo; }//Last Week\n\n\t\t\tif (between(v, threeWeeksAgo, twoWeeksAgo)) { return twoWeeksAgo; }// Two Weeks ago\n\n\t\t\tif (between(v, oneMonthAgo, threeWeeksAgo)) { return threeWeeksAgo; }// Three Weeks ago\n\n\t\t\tif (between(v, twoMonthsAgo, oneMonthAgo)) { return oneMonthAgo; }// Last Month\n\n\t\t\tif (between(v, oneYearAgo, twoMonthsAgo)) { return oneYearAgo; }// This Year\n\n\t\t\treturn new Date(0); //Older\n\t\t},\n\n\t\tgroupTitle: function(groupValue, defaultValue, forceNow) {\n\t\t\tvar d = (forceNow || new Date()).setHours(0, 0, 0, 0), c, now = new Date(d),\n\t\t\t\ttollerance = 0.0099;\n\n\t\t\tfunction under(c, i) {\n\t\t\t\tvar d = (i - c);\n\t\t\t\td = d > 0 && d < tollerance;//account for DST shifts\n\t\t\t\treturn c < i && !d;\n\t\t\t}\n\n\t\t\tif (!groupValue) {\n\t\t\t\treturn defaultValue;\n\t\t\t}\n\n\t\t\td = (d - groupValue.getTime()) / 1000;\n\n\t\t\tif (groupValue.getTime() === 0) { return 'Older'; }\n\n\t\t\tif (d <= 0) { return defaultValue; }//Today\n\n\t\t\tc = d / this.DAY;\n\t\t\tif (under(c, 2)) { return 'Yesterday'; }\n\t\t\tif (under(c, 7)) { return Ext.Date.format(groupValue, 'l'); }//Sunday, Monday, Tuesday, etc...\n\n\t\t\tc = d / this.WEEK;\n\n\t\t\tif (under(c, 2)) { return 'Last week'; }\n\t\t\tif (under(c, 3)) { return '2 weeks ago'; }\n\t\t\tif (under(c, 4)) { return '3 weeks ago'; }\n\n\t\t\tif (groupValue < Ext.Date.add(now, Ext.Date.MONTH, -2)) { return 'This year'; }\n\n\t\t\treturn 'Last month';\n\t\t},\n\n\t\tconvert: function(r, o) {\n\t\t\tif (!r && this.mapping) { r = o.get(this.mapping); }\n\n\t\t\tvar now = new Date(),\n\t\t\t\tv = Ext.isDate(r) ? r : new Date(r * 1000);\n\t\t\treturn this.type.groupForElapsedTime(now, v);\n\t\t}\n\t};\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/GroupByTime.js\n ** module id = 23\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar ParseUtils = require('../../util/Parsing');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.Items', {\n    override: 'Ext.data.Types',\n\n    /* converters for models which reference other models*/\n\tSINGLEITEM: {\n\t\ttype: 'singleItem',\n\t\tconvert: function(v, r) {\n\t\t\tif (v instanceof Object) {\n\t\t\t\tv = !v ? null : ParseUtils.parseItems([v])[0];\n\t\t\t\tif (v) {\n\t\t\t\t\tv.stores.push(r);//make store updates bubble up to this owner record.\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t}\n\n\t\t\tif (v) { console.warn('unexpected value', v); }\n\t\t\treturn null;\n\t\t},\n\t\tsortType: 'none'\n\t},\n\n    ARRAYITEM: {\n\t\ttype: 'arrayItem',\n\t\tconvert: function(v, r) {\n\t\t\tvar result = null;\n\t\t\tif (Ext.isArray(v)) {\n\t\t\t\tresult = ParseUtils.parseItems(v);\n\t\t\t\tif (this.limit !== undefined && result.length > this.limit) {\n\t\t\t\t\tconsole.warn('Limiting set of items to the (' + this.name + ') field\\'s configured limit of: ' + this.limit + ', was: ' + result.length);\n\t\t\t\t\tresult = result.slice(0, this.limit);\n\t\t\t\t\tresult.forEach(function(a) {if (a) {a.stores.push(r);}});\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tif (v) { console.warn('unexpected value', v); }\n\t\t\treturn null;\n\t\t},\n\t\tsortType: 'none'\n\t},\n\n    COLLECTIONITEM: {\n\t\ttype: 'collectionItem',\n\t\tconvert: function(v, r) {\n\t\t\tvar values = [], keys = {}, key, result;\n\t\t\tif (v instanceof Object) {\n\t\t\t\tfor (key in v) {\n\t\t\t\t\tif (v.hasOwnProperty(key) && v[key] instanceof Object) {\n\t\t\t\t\t\tkeys[key] = values.length;\n\t\t\t\t\t\tvalues.push(v[key]);\n\t\t\t\t\t\tif (this.limit !== undefined && values.length > this.limit) {\n\t\t\t\t\t\t\tconsole.warn('Limiting set of items to the (' + this.name + ') field\\'s configured limit of: ' + this.limit + ', was: ' + result.length);\n\t\t\t\t\t\t\tvalues.pop();\n\t\t\t\t\t\t\tdelete keys[key];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult = ParseUtils.parseItems(values);\n\t\t\t\tresult.forEach(function(a) {if (a) {a.stores.push(r);}});\n\t\t\t\tresult.INDEX_KEYMAP = keys;\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tif (v) { console.warn('unexpected value', v); }\n\t\t\treturn null;\n\n\t\t},\n\t\tsortType: 'none'\n\t}\n}, function() {\n\tfunction set(o) { o.sortType = Ext.data.SortTypes[o.sortType]; }\n\n\tset(this.SINGLEITEM);\n\tset(this.ARRAYITEM);\n\tset(this.COLLECTIONITEM);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/Items.js\n ** module id = 24\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.Links', {\n    override: 'Ext.data.Types',\n\n    LINKS: {\n\t\ttype: 'links',\n\t\tsortType: null,\n\n\t\tconvert: function(v) {\n\t\t\tif (v && v.getRelHref) {\n\t\t\t\t//This happens if you set the links field on one record from another.\n\t\t\t\t//e.g. calling rec1.copyFields(rec2, 'Links')\n\t\t\t\treturn v;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tlinks: v,\n\t\t\t\tasJSON: function() {return v;},\n\t\t\t\tgetRelHref: function(rel, raw) {\n\t\t\t\t\tvar c = this.getRelLink(rel);\n\n\t\t\t\t\tif (c) {\n\t\t\t\t\t\tc = c.href;\n\n\t\t\t\t\t\tif (c && c.split && !raw) {\n\t\t\t\t\t\t\tc = c.split('#');\n\t\t\t\t\t\t\tif (c.length > 1) {\n\t\t\t\t\t\t\t\tconsole.warn('There was a fragment in a rel link! rel:' + rel + ' = ', c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tc = c[0];\n\t\t\t\t\t\t} else if (raw) {\n\t\t\t\t\t\t\tconsole.warn('Returning rel link raw: ', rel, c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn c;\n\t\t\t\t},\n\t\t\t\tgetRelLink: function(rel) {\n\t\t\t\t\tvar i, c = this.links, len = c.length;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\t\t\t\tif (c[i].rel == rel) {\n\t\t\t\t\t\t\t\treturn c[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.warn('bad Links value: \"', c, '\" it is a ', typeof(c));\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t},\n\t\t\t\thasLink: function(rel) {\n\t\t\t\t\treturn !Ext.isEmpty(this.getRelHref(rel));\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n},function() {\n\tthis.LINKS.sortType = Ext.data.SortTypes.none;\n});\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/Links.js\n ** module id = 25\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar ObjectUtils = require('../../util/Object');\nvar UtilObject = require('../../util/Object');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.Synthetic', {\n    SYNTHETIC: {\n\t\ttype: 'Synthetic',\n\t\tpersist: false,\n\n\t\tconvert: function(v, record) {\n\t\t\tvar dataName = record.persistenceProperty,\n\t\t\t\tdata = record[dataName],\n\t\t\t\tconfig = {},\n\t\t\t\tfn = this.fn,\n\t\t\t\tsn = this.fnSet,\n\t\t\t\tsfn = function(v) { return sn.call(record, record, v); };\n\n\t\t\tconfig[this.name] = {\n\t\t\t\tgetter: function() { return fn.call(record, record);},\n\t\t\t\tsetter: sn && sfn,\n\t\t\t\tconfigurable: true\n\t\t\t};\n\n\t\t\tdelete data[this.name];\n\t\t\tObjectUtils.defineAttributes(data, config);\n\t\t}\n\t}\n},function() {\n\tExt.data.Types.SYNTHETIC = this.prototype.SYNTHETIC;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/Synthetic.js\n ** module id = 26\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('../../util/Globals');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.Users', {\n    override: 'Ext.data.Types',\n\n    USERLIST: {\n\t\ttype: 'UserList',\n\t\tconvert: function(v, record) {\n\t\t\tvar a = arguments,\n\t\t\t\tu = [];\n\t\t\ttry {\n\t\t\t\tif (v) {\n\t\t\t\t\tExt.each(v, function(o) {\n\t\t\t\t\t\tvar p = typeof o === 'string' ? o : ((o.get && o.get('Username')) || o.Username);\n\t\t\t\t\t\tif (!p) {\n\t\t\t\t\t\t\tconsole.warn('WARNING: Could not handle Object: ', o, a);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tu.push(p);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tconsole.error('USERLIST: Parsing Error: ', e.message, e.stack);\n\t\t\t\tu = v;\n\t\t\t}\n\n\t\t\treturn u;\n\t\t},\n\t\tsortType: 'none'\n\t},\n\n    AVATARURL: {\n\t\ttype: 'AvatarURL',\n\t\tsortType: 'asUCString',\n\t\tconvert: function convert(v, rec) {\n\t\t\tvar re = convert.re = (convert.re || /https/i), url,\n\t\t\t\tneedsSecure = re.test(location.protocol) || $AppConfig.server.forceSSL;\n\n\t\t\tfunction secure(v, i, a) {\n\t\t\t\tif (!v) {\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\n\t\t\t\tv = v.replace('www.gravatar.com', 'secure.gravatar.com').replace('http:', 'https:');\n\n\t\t\t\tif (a) {\n\t\t\t\t\ta[i] = v;\n\t\t\t\t}\n\n\t\t\t\treturn v;\n\t\t\t}\n\n\t\t\tfunction maybeSecure(v, i, a) {\n\n\t\t\t\tif (needsSecure) {\n\t\t\t\t\tv = secure(v, i, a);\n\t\t\t\t}\n\n\t\t\t\t// //preload\n\t\t\t\t// (new Image()).src = v;\n\t\t\t\treturn v;\n\t\t\t}\n\n\t\t\tif (v && v === '@@avatar') {\n\t\t\t\turl = Globals.trimRoute($AppConfig.server.data).split('/');\n\n\t\t\t\turl.push('users', rec.get('Username'), '@@avatar');\n\t\t\t\treturn url.join('/');\n\t\t\t}\n\n\t\t\tif (!v) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (!Array.isArray(v)) {\n\t\t\t\tv = maybeSecure(v);\n\t\t\t} else {\n\t\t\t\tExt.each(v, maybeSecure);\n\t\t\t}\n\n\t\t\treturn v;\n\t\t}\n\t},\n\n    AVATARURLLIST: {\n\t\ttype: 'AvatarURLList',\n\t\tsortType: 'asUCString',\n\t\tconvert: function convert(v, rec) {\n\t\t\tExt.each(v, function(o, i, a) {\n\t\t\t\ta[i] = Ext.data.Types.AVATARURL.convert(o, rec);\n\t\t\t});\n\t\t\treturn v;\n\t\t}\n\t}\n},function() {\n\tfunction set(o) { o.sortType = Ext.data.SortTypes[o.sortType]; }\n\n\tset(this.USERLIST);\n\tset(this.AVATARURL);\n\tset(this.AVATARURLLIST);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/Users.js\n ** module id = 27\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar ResolversVideoPosters = require('../resolvers/VideoPosters');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.converters.VideoSources', {\n    override: 'Ext.data.Types',\n\n    VIDEOSOURCES: {\n\t\ttype: 'VideoSource',\n\t\tsortType: null,\n\n\t\tconvert: function(v) {\n\t\t\tvar i = v.length - 1, x,\n\t\t\t\to, sources, types,\n\t\t\t\tnewSource = [];\n\n\t\t\tfor (i; i >= 0; i--) {\n\t\t\t\to = v[i];\n\n\t\t\t\tif (o && o.service === 'html5') {\n\n\t\t\t\t\tsources = o.source;\n\t\t\t\t\ttypes = o.type;\n\t\t\t\t\tdelete o.type;\n\n\t\t\t\t\t//has this already been converted?\n\t\t\t\t\tif (sources && sources[0] && Ext.isObject(sources[0])) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!types && sources && sources.length === 1) {\n\t\t\t\t\t\to.source = [{source: sources[0]}];\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!sources || !types || sources.length !== types.length) {\n\t\t\t\t\t\tconsole.error('Bad Video Source!', Ext.clone(v));\n\t\t\t\t\t\tdelete v[i];\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tx = sources.length - 1;\n\t\t\t\t\tfor (x; x >= 0; x--) {\n\t\t\t\t\t\tnewSource[x] = {\n\t\t\t\t\t\t\tsource: sources[x],\n\t\t\t\t\t\t\ttype: types[x]\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\to.source = newSource;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//console.debug('Video Sources:',v);\n\t\t\treturn v;\n\t\t}\n\t},\n\n    VIDEOPOSTER: {\n\t\ttype: 'VideoPoster',\n\t\tsortType: null,\n\t\tconvert: function(v, r, source) {\n\t\t\tvar name = this.mapping || this.name, len, x, s,\n\t\t\t\traw = r && r.raw,\n\t\t\t\tresolver = NextThought.model.resolvers.VideoPosters;\n\n\t\t\tif (v && Ext.isString(v)) {//if we already have a value, done.\n\t\t\t\treturn v;\n\t\t\t}\n\n\t\t\tif (raw && raw.sources && !source) {//no value, try to find it on the sources (not in recursive state)\n\t\t\t\tlen = raw.sources.length || 0;\n\t\t\t\tfor (x = 0; !v && x < len; x++) {\n\t\t\t\t\ts = raw.sources[x] || {};\n\t\t\t\t\tv = this.convert(s[name], r, s);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!v && source) { //still didn't find it, and we are recusing on a source\n\t\t\t\tv = Ext.BLANK_IMAGE_URL;//stop iteration on caller and let the async resolver replace this value as soon as it resolves.\n\n\t\t\t\tresolver.resolveForSource(source)\n\t\t\t\t\t\t.then(function(data) {\n\t\t\t\t\t\t\tr.set(name, data[name]);\n\t\t\t\t\t\t\tif (name === 'poster') {\n\t\t\t\t\t\t\t\twait(1).then(function() {\n\t\t\t\t\t\t\t\t\tr.fireEvent('resolved-poster', r);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\twait().then(r.fireEvent.bind(r, 'resolved-poster', r));\n\t\t\t}\n\n\t\t\treturn v;\n\t\t}\n\t}\n},function() {\n\tthis.VIDEOSOURCES.sortType = Ext.data.SortTypes.none;\n\tthis.VIDEOPOSTER.sortType = Ext.data.SortTypes.none;\n});\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/converters/VideoSources.js\n ** module id = 28\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar VideoservicesVimeo = require('./videoservices/Vimeo');\nvar VideoservicesYoutube = require('./videoservices/Youtube');\n\n\n/*\n\tTODO: Does this need to be a model?\n */\nmodule.exports = exports = Ext.define('NextThought.model.resolvers.VideoPosters', {\n    statics: {\n\t\tYOUTUBE: 'youtube',\n\t\tVIMEO: 'vimeo',\n\n\t\tgetResolver: function(source) {\n\t\t\tvar service = source.service,\n\t\t\t\tcls = Ext.ClassManager.getByAlias('resolvers.videoservices.' + service);\n\t\t\tif (!cls) {\n\t\t\t\tconsole.error('No resolver for source:', source);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn cls.create({source: source});\n\t\t},\n\n\t\tresolveForSource: function(source) {\n\t\t\tvar resolver = this.getResolver(source);\n\n\t\t\tif (!resolver) {\n\t\t\t\treturn Promise.reject('No resolver');\n\t\t\t}\n\n\t\t\treturn resolver.resolve();\n\t\t},\n\n\n\t\tresolvePoster: function(type, id) {\n\t\t\tvar resolve;\n\n\t\t\tif (type === this.YOUTUBE) {\n\t\t\t\tresolve = NextThought.model.resolvers.videoservices.Youtube.resolvePosterForID(id);\n\t\t\t} else if (type === this.VIMEO) {\n\t\t\t\tresolve = NextThought.model.resolvers.videoservices.Vimeo.resolvePosterForID(id);\n\t\t\t} else {\n\t\t\t\tresolve = Promise.reject('Unknown video type: ', type, id);\n\t\t\t}\n\n\t\t\treturn resolve;\n\t\t}\n\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/resolvers/VideoPosters.js\n ** module id = 29\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('../../../util/Globals');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.resolvers.videoservices.Vimeo', {\n\talias: 'resolvers.videoservices.vimeo',\n\n\tstatics: {\n\t\tTYPE: 'vimeo',\n\n\t\tRESOLVED: {},\n\n\t\t//URL: '//vimeo.com/api/v2/video/{0}.json',\n\t\tURL: '//vimeo.com/api/oembed.json?url=http%3A//vimeo.com/{0}',\n\n\t\tresolvePosterForID: function(id) {\n\t\t\tvar cache = this.RESOLVED, url, promise;\n\n\t\t\tif (cache[id]) {\n\t\t\t\treturn cache[id];\n\t\t\t}\n\n\t\t\turl = Ext.String.format(this.URL, id);\n\n\t\t\tpromise = Service.request({url: url, withCredentials: false})\n\t\t\t\t.then(Ext.decode)\n\t\t\t\t.then(function(o) { return o[0] || o;})\n\t\t\t\t.then(function(json) {\n\t\t\t\t\tjson.poster = json.thumbnail_large || json.thumbnail_url;\n\t\t\t\t\tjson.thumbnail = json.thumbnail_medium || json.thumbnail_url;\n\n\t\t\t\t\treturn json;\n\t\t\t\t})\n\t\t\t\t.fail(function(reason) {\n\t\t\t\t\tconsole.log('Unable to resolve vimeo poster: ', reason);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tposter: Globals.CANVAS_BROKEN_IMAGE.src,\n\t\t\t\t\t\tthumbnail: Globals.CANVAS_BROKEN_IMAGE.src\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\tcache[id] = promise;\n\n\t\t\treturn promise;\n\t\t},\n\n\n\t\tEMBED_URL: 'https://www.vimeo.com/{0}',\n\n\t\tgetEmbedURL: function(url) {\n\t\t\tvar id = this.getIdFromURL(url);\n\n\t\t\treturn Ext.String.format(this.EMBED_URL, id);\n\t\t},\n\n\n\t\tID_REGEX: /(?:https?:)?\\/\\/(?:(www|player)\\.)?vimeo.com\\/(?:(channels|video)\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|)(\\d+)(?:$|\\/|\\?)/,\n\n\t\t//http://stackoverflow.com/questions/13286785/get-video-id-from-vimeo-url\n\t\tgetIdFromURL: function(url) {\n\t\t\tvar match = url.match(this.ID_REGEX);\n\n\t\t\tif (match && match[5]) {\n\t\t\t\treturn match[5];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\tURL_MATCHES: /vimeo/,\n\n\t\turlIsFor: function(url) {\n\t\t\treturn this.URL_MATCHES.test(url);\n\t\t}\n\t},\n\n\n\tconstructor: function(data) {\n\t\tvar source = data.source;\n\t\tthis.callParent(arguments);\n\n\t\tif (source.service !== 'vimeo') {\n\t\t\tExt.Error.raise('Source Service Missmatch');\n\t\t}\n\n\t\tthis.videoId = source.source[0];\n\n\t\t// //Vimeo sources only will have one 'source'.\n\t\t// this.source = Ext.String.format(this.URL, source.source[0]);\n\t},\n\n\n\tresolve: function() {\n\t\treturn this.self.resolvePosterForID(this.videoId);\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/resolvers/videoservices/Vimeo.js\n ** module id = 30\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.model.resolvers.videoservices.Youtube', {\n\tstatics: {\n\t\tTYPE: 'youtube',\n\n\t\t//http://stackoverflow.com/questions/2068344/how-do-i-get-a-youtube-video-thumbnail-from-the-youtube-api\n\t\tPOSTER_URL: '//img.youtube.com/vi/{0}/0.jpg',\n\n\t\tresolvePosterForID: function(id) {\n\t\t\treturn Promise.resolve(Ext.String.format(this.POSTER_URL, id));\n\t\t},\n\n\t\tEMBED_URL: '//www.youtube.com/embed/{0}',\n\n\t\tgetEmbedURL: function(url) {\n\t\t\tvar id = this.getIdFromURL(url);\n\n\t\t\treturn Ext.String.format(this.EMBED_URL, id);\n\t\t},\n\n\t\t//http://stackoverflow.com/questions/3452546/javascript-regex-how-to-get-youtube-video-id-from-url\n\t\tgetIdFromURL: function(url) {\n\t\t\tvar regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&\\?]*).*/,\n\t\t\t\tmatch = url.match(regExp);\n\n\t\t\tif (match && match[2].length === 11) {\n\t\t\t\treturn match[2];\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tURL_MATCHES: /youtu\\.?be/,\n\n\t\turlIsFor: function(url) {\n\t\t\treturn this.URL_MATCHES.test(url);\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/model/resolvers/videoservices/Youtube.js\n ** module id = 31\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar MixinsDelegation = require('../mixins/Delegation');\nvar UtilPromise = require('../util/Promise');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.Component', {\n    override: 'Ext.Component',\n\n    constructor: function() {\n\t\tvar me = this;\n\n\t\tme.shadow = false;\n\n\t\tme.onceRendered = new Promise(function(fulfill) {\n\t\t\tme.afterRender = Ext.Function.createSequence(me.afterRender, fulfill);\n\t\t}.bind(me));\n\n\t\tme.callParent(arguments);\n\t\tme.initDelegation();\n\t\tme.setNTTooltip();\n\n\n\t\tme.on('afterrender', function() {\n\t\t\tvar maybeFireVisibilityChange = Ext.Function.createBuffered(this.maybeFireVisibilityChange, 100, this);\n\n\t\t\tfunction monitorCardChange(cmp, me) {\n\t\t\t\tvar next = cmp.up('{isOwnerLayout(\"card\")}'),\n\t\t\t\t\tc = cmp.isOwnerLayout('card') ? cmp : next;\n\n\t\t\t\tme = me || cmp;\n\n\t\t\t\tif (c) {\n\t\t\t\t\tme.mon(c, {\n\t\t\t\t\t\t//beforeactivate: '',\n\t\t\t\t\t\t//beforedeactivate: '',\n\t\t\t\t\t\tactivate: maybeFireVisibilityChange,\n\t\t\t\t\t\tdeactivate: maybeFireVisibilityChange,\n\t\t\t\t\t\tscope: me\n\t\t\t\t\t});\n\n\t\t\t\t\tif (next) {\n\t\t\t\t\t\tmonitorCardChange(next, me);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmonitorCardChange(me);\n\t\t});\n\t},\n\n    maybeFireVisibilityChange: function() {\n\t\tvar v = this.isVisible(true);\n\t\tif (v !== this.___visibility) {\n\t\t\tthis.fireEvent('visibility-changed-' + (v ? 'visible' : 'hidden'), this);\n\t\t\tthis.fireEvent('visibility-changed', v, this);\n\t\t}\n\t\tthis.___visibility = v;\n\t},\n\n    setNTTooltip: function() {\n\t\tif (!this.rendered) {\n\t\t\tthis.on('afterrender', 'setNTTooltip', this, {single: true});\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.tooltip) {\n\t\t\tif (!Ext.isObject(this.tooltip) && Ext.QuickTips) {\n\t\t\t\tExt.QuickTips.register({\n\t\t\t\t\ttarget: this.getEl().id,\n\t\t\t\t\ttext: this.tooltip\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.el.set({title: undefined});\n\t\t}\n\t},\n\n    rtlSetLocalX: function(x) {\n\t\tvar style = this.el.dom.style;\n\t\tstyle.left = 'auto';\n\t\tstyle.right = (x === null) ? 'auto' : x + 'px';\n\t},\n\n    isOwnerLayout: function(type) {\n\t\tvar o = this.ownerLayout;\n\t\treturn o && o.type === type;\n\t},\n\n    isLayout: function(type) {\n\t\tvar o = this.layout;\n\t\treturn o && o.type === type;\n\t}\n},function() {\n\tExt.Component.mixin('delegation', NextThought.mixins.Delegation);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/Component.js\n ** module id = 32\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.EventManager', function() {\n\n\tvar EM = Ext.EventManager,\n\t\tnormalizeEventExt = EM.normalizeEvent;\n\n\tfunction makeSafe(fn) {\n\t\treturn function() {\n\t\t\ttry {\n\t\t\t\treturn fn.apply(this, arguments);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e.stack || e.message || e);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\t}\n\n\tExt.apply(EM, {\n\t\txnormalizeEvent: function(eventName, fn) {\n\t\t\tif (arguments.length > 2) {\n\t\t\t\tconsole.error('i didnt account for this');\n\t\t\t}\n\t\t\tvar nomEventName = eventName;\n\t\t\tif (eventName === 'animationend') {\n\t\t\t\tnomEventName = Ext.supports.CSS3TransitionEnd.replace(/transitionend/, eventName);\n\t\t\t\tconsole.debug('listinging on animationEnd', eventName);\n\t\t\t}\n\n\t\t\treturn normalizeEventExt.call(this, [nomEventName, fn]);\n\t\t},\n\n\t\tgetEventCache: makeSafe(EM.getEventCache),\n\t\tgetEventListenerCache: makeSafe(EM.getEventListenerCache),\n\t\thandleSingleEvent: makeSafe(EM.handleSingleEvent)\n\t});\n\n\treturn {};\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/EventManager.js\n ** module id = 33\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('../util/Globals');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.Ext', {\n\toverride: 'Ext',\n\n\n\t/**\n\t * This will apply `cfg` to `o` recursively.  This is handy for situations like adding a username to all the\n\t * component configs in your component's item array prior to them becoming instantiated by initComponent.\n\t *\n\t * @param {Object} o The object or array to apply to.\n\t * @param {Object} cfg The values to apply to the object in the first arg.\n\t * @return {*}\n\t */\n\tapplyRecursively: function applyRecursively(o, cfg) {\n\t\tif (!o) {return o;}\n\n\t\tif (Ext.isArray(o)) {\n\t\t\tExt.each(o, function(v, i, a) { a[i] = applyRecursively(v, cfg); });\n\t\t}\n\t\telse if (Ext.isObject(o)) {\n\t\t\tExt.Object.each(o, function(k, v) { o[k] = applyRecursively(v, cfg); });\n\t\t\to = Ext.apply(o, cfg);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\n},function() {\n\n\tExt.isIE11p = !Ext.isIE && /Trident/i.test(navigator.userAgent);\n\tExt.isGecko = Ext.isGecko && !Ext.isIE11p;\n\n\n\tvar EC = Ext.cache,\n\t\tremoveAllEvents = Ext.EventManager.removeAll,\n\t\tElement = Ext.dom.Element,\n\t\tget = Ext.getElementById;\n\n\t/**\n\t *  This is not to be confused with document.getElementById.  Ext has a periodic task that checks that cached\n\t *  elements are still present, and if not cleans their registered event listeners and destroys the associated cache\n\t *  entries.\n\t *\n\t *  This is all fine and desired. However, their implementation does not account for nodes accross iframe boundries.\n\t *\n\t *  This patch is intended to make the garbage collector see the objects in various iframes as well as the host\n\t *  document.\n\t *\n\t *  Caveat:\n\t *\n\t *  This function on the Ext object is only used in two places in the entire Ext framework. 1) to determine a node's\n\t *  existence for the \"garbage collector\" task, and 2) the \"string\" fallback branch of Ext.getDom().  It is very\n\t *  unlikely this change will offend any existing code, nor future code. (getDom is predominately used to normalize\n\t *  an input from either Ext.dom.Element or a Node and allow you to assume you are working with a raw Node)\n\t *\n\t *\n\t *  An alternative is to reimplement their (Ext's) garbage collector function and make it inspect the node's\n\t *  ownerDocument.\n\t *\n\t *  Notes on reimplementing Ext's GC:\n\t *\n\t *  clear the interval: Ext.Element.collectorThreadId\n\t *  Copy function garbageCollect() from ext/src/dom/Element.js as a starting point, then restart the 30second interval.\n\t */\n\tExt.getElementById = function(id) {\n\t\tvar el = get.apply(this, arguments);\n\n\t\tfunction testFrame(frame) {\n\t\t\tvar win = frame.contentWindow || window.frames[frame.name],\n\t\t\t\tsrc;\n\t\t\ttry {\n\t\t\t\tsrc = Globals.HOST_PREFIX_PATTERN.exec(frame.getAttribute('src'));\n\t\t\t\tif (src && (src[3] === document.domain || src[1] === 'javascript')) {\n\t\t\t\t\tel = win.document.getElementById(id) || false;\n\t\t\t\t}\n\t\t\t//for iframes where we cannot access its content(Cross Origin Content) ignore.\n\t\t\t} catch (e) { swallow(e); }\n\t\t\treturn !el;\n\t\t}\n\n\t\tif (!el) {\n\t\t\tExt.each(document.getElementsByTagName('iframe'), testFrame);\n\t\t}\n\n\t\treturn el;\n\t};\n\n\tExt.EventManager.removeAll = function() {\n\t\ttry {\n\t\t\tremoveAllEvents.apply(this, arguments);\n\t\t} catch (e) {\n\t\t\tconsole.warn(e.stack || e.message || e);\n\t\t}\n\t};\n\n\t//do our own GC... (mostly copied verbatim, added lint fixes and try/catch)\n\tfunction garbageCollect() {\n\t\tif (!Ext.enableGarbageCollector) {\n\t\t\tclearInterval(Element.collectorThreadId);\n\t\t} else {\n\t\t\tvar eid,\n\t\t\t\td,\n\t\t\t\to,\n\t\t\t\tt, clean;\n\n\t\t\tfor (eid in EC) {\n\t\t\t\tif (EC.hasOwnProperty(eid)) {\n\t\t\t\t\tclean = false;\n\t\t\t\t\to = EC[eid];\n\n\t\t\t\t\t// Skip document and window elements\n\t\t\t\t\tif (o.skipGarbageCollection) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\td = o.dom;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tclean = !d || (!d.parentNode || (!d.offsetParent && !Ext.getElementById(eid)));\n\t\t\t\t\t\tif (d.id !== eid) {\n\t\t\t\t\t\t\t//this is just an access check, if d.id throws an access denied, clean it out.\n\t\t\t\t\t\t\t//This should never happen...so don't put anything really long here.\n\t\t\t\t\t\t\tswallow();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tclean = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (clean) {\n\t\t\t\t\t\tif (Ext.enableListenerCollection) {\n\t\t\t\t\t\t\tExt.EventManager.removeAll(eid);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete EC[eid];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Cleanup IE Object leaks\n\t\t\tif (Ext.isIE) {\n\t\t\t\tt = {};\n\t\t\t\tfor (eid in EC) {\n\t\t\t\t\tif (EC.hasOwnProperty(eid)) {\n\t\t\t\t\t\tt[eid] = EC[eid];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tEC = Ext.cache = t;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction takeOverGC() {\n\t\tif (!Element.collectorThreadId) {\n\t\t\tsetTimeout(takeOverGC, 1000);\n\t\t\treturn;\n\t\t}\n\n\t\tclearInterval(Element.collectorThreadId);//stop Ext's Garbage collector...\n\t\t//then do our own...\n\t\tElement.collectorThreadId = setInterval(garbageCollect, 30000);\n\t}\n\n\ttakeOverGC();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/Ext.js\n ** module id = 34\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.JSON', {\n\toverride: 'Ext.JSON',\n\tencodeDate: function(d) {\n\t\tvar t = d.getTime();\n\t\treturn t / 1000;\n\t\t//return Ext.Date.format(d, 'U');\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/JSON.js\n ** module id = 35\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar UtilGlobals = require('../util/Globals');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.XTemplate', {\n  override: 'Ext.XTemplate'\n});\n\nExt.override(Ext.XTemplateCompiler, {\n\n  myStringsRe: /\\{{3}((?!\\{\\{\\{|\\}\\}\\}).+?\\}?)\\}{3}/g,\n\n\tmyReplacementFn: (function() {\n\t\t//cache the regex and function so its not creating them on the fly each time\n\t\tvar escapRe = /(\\{|\\})/gm;\n\n\t\tfunction escapeFn(n, c) { return '&#' + c.charCodeAt(0) + ';'; }\n\n\t\treturn function(m, key) {\n\t\t\tvar def = {},\n\t\t\t\ts = getString(key, def);\n\t\t\t//Its written like this to prevent executing throwaway work.\n\t\t\t// Only calculate the escaped key if the default token is returend.\n\t\t\treturn s !== def ? s : m.replace(escapRe, escapeFn);\n    };\n\t}()),\n\n\tparse: function(str) {\n    var t = this.myStringsRe.exec(str);\n    if (t) {\n      str = str.replace(this.myStringsRe, this.myReplacementFn);\n    }\n    return this.callParent([str]);\n  }\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/XTemplate.js\n ** module id = 36\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('../../util/Globals');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.app.Application', {\n\toverride: 'Ext.app.Application',\n\n\tinit: function() {\n\t\tthis.callParent(arguments);\n\n\t\tNextThought.finishedLoading = new Deferred();\n\t},\n\n\n\tregisterInitializeTask: function(task) {\n\t\tvar method = this.registerInitializeTask.caller;\n\t\tmethod = method.$previous || (method.$owner ? method : method.caller);\n\t\tmethod = method.$owner ? (method.$owner.$className + '.' + method.$name) : method.name;\n\n\t\tif (!task) {\n\t\t\tconsole.error(method + ' called registerInitializeTask without a token');\n\t\t\treturn;\n\t\t}\n\n\n\t\ttask.method = method = task.method || method;\n\t\ttask.start = new Date();\n\n\t\tthis.initTasks = this.initTasks || [];\n\n\t\tthis.initTasks.push(task);\n\t\ttask.timerId = setTimeout(function() {\n\t\t\tconsole.debug('Abandoned init task from: ' + method, task.name || task);\n\t\t\tGlobals.removeLoaderSplash();\n\t\t\ttask.expired = true;\n\t\t\talert({\n\t\t\t\ticon: Ext.Msg.ERROR,\n\t\t\t\ttitle: 'Timeout',\n\t\t\t\tmsg: 'There was some issue preventing us from starting.',\n\t\t\t\tclosable: false,\n\t\t\t\tbuttons: null\n\t\t\t});\n\t\t},task.timeout || 30000);\n\t},\n\n\tfinishInitializeTask: function(task) {\n\t\tvar method = this.finishInitializeTask.caller;\n\t\tmethod = method.$previous || (method.$owner ? method : method.caller);\n\t\tmethod = method.$owner ? (method.$owner.$className + '.' + method.$name) : method.name;\n\n\t\tif (!task) {\n\t\t\tconsole.error(method + ' called finishInitializeTask without a token');\n\t\t\treturn;\n\t\t}\n\t\tif (task.expired) {\n\t\t\tExt.MessageBox.close();\n\t\t\tconsole.debug('Recovering init task: ' + method + '... took: ' + ((new Date() - task.start) / 1000) + 's');\n\n\t\t}\n\t\tclearTimeout(task.timerId);\n\t\tExt.Array.remove(this.initTasks, task);\n\t\tif (!this.initTasks.length) {\n\t\t\tthis.registerInitializeTask = this.finishInitializeTask = Ext.emptyFn;\n\t\t\twait(100).then(function() {\n\t\t\t\tNextThought.finishedLoading.fulfill();\n\t\t\t});\n\t\t\tthis.fireEvent('finished-loading');\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/app/Application.js\n ** module id = 37\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.app.Controller', {\n\toverride: 'Ext.app.Controller',\n\n\tcallOnAllControllersWith: function(functionName) {\n\t\tvar ret,\n\t\t\targs = Array.prototype.slice.call(arguments, 1),\n\t\t\tapp = this.getApplication();\n\n\t\tapp.controllers.each(function(ctlr) {\n\t\t\tif (Ext.isFunction(ctlr[functionName])) {\n\t\t\t\tret = ctlr[functionName].apply(ctlr, args);\n\t\t\t\treturn !ret;\n\t\t\t}\n\t\t});\n\n\t\treturn ret;\n\t},\n\n\n\t/**\n\t * Much like the above function, this executes a command on each controller that implements it. Expecting\n\t * the value returned by each to be a promise or a value.  When all performances are done, the pool promise\n\t * will resolve or reject.\n\t *\n\t * @param {String} functionName\n\t * @param {...} var_args Arguments to pass to the functionName\n\t * @return {Promise}\n\t */\n\tperformAnd: function(functionName, var_args) {\n\t\tvar app = this.getApplication(),\n\t\t\targs = Array.prototype.slice.call(arguments, 1);\n\n\t\tfunction perform(ctlr) {\n\t\t\tvar f = ctlr[functionName];\n\t\t\treturn (f && typeof f.apply === 'function' && f.apply(ctlr, args)) || undefined;\n\t\t\t//the return value should be a promise to pool on. but if not, the all() function\n\t\t\t// will wrap the value into a promise to meet the interface.\n\t\t}\n\n\t\treturn Promise.all(app.controllers.items\n\t\t\t\t.map(perform) //make a new array of promises/values\n\t\t\t\t.filter(Ext.identityFn)); //filter out falsy entries and pass that to the all()\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/app/Controller.js\n ** module id = 38\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.Array', {});\n\n(function() {\n\n\t/** @see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/Reduce#Compatibility\n\t *\n\t * @param callback\n\t * @param [initialValue]\n\t * @return {*}\n\t */\n\tfunction reduce(callback, initialValue) {\n\t\t'use strict';\n\t\tif (null === this || 'undefined' === typeof this) {\n\t\t\t// At the moment all modern browsers, that support strict mode, have\n\t\t\t// native implementation of Array.prototype.reduce. For instance, IE8\n\t\t\t// does not support strict mode, so this check is actually useless.\n\t\t\tthrow new TypeError(\n\t\t\t\t\t'Array.prototype.reduce called on null or undefined');\n\t\t}\n\t\tif ('function' !== typeof callback) {\n\t\t\tthrow new TypeError(callback + ' is not a function');\n\t\t}\n\t\tvar index = 0, length = this.length >>> 0, value, isValueSet = false;\n\t\tif (1 < arguments.length) {\n\t\t\tvalue = initialValue;\n\t\t\tisValueSet = true;\n\t\t}\n\t\tfor (length; length > index; ++index) {\n\t\t\tif (!this.hasOwnProperty(index)) { continue; }\n\t\t\tif (isValueSet) {\n\t\t\t\tvalue = callback(value, this[index], index, this);\n\t\t\t} else {\n\t\t\t\tvalue = this[index];\n\t\t\t\tisValueSet = true;\n\t\t\t}\n\t\t}\n\t\tif (!isValueSet) {\n\t\t\tthrow new TypeError('Reduce of empty array with no initial value');\n\t\t}\n\t\treturn value;\n\t}\n\n\n\t function chunk(chunkSize) {\n\t    var r = [], i = 0, len = this.length;\n\t    for (i; i < len; i += chunkSize) {\n\t        r.push(this.slice(i, i + chunkSize));\n\t\t}\n\t    return r;\n\t}\n\n\n\t(function(o, a) {\n\t\tExt.Object.each(a, function(k, v) {\n\t\t\tif (!o[k]) {\n\t\t\t\to[k] = v;\n\t\t\t\tif (Object.defineProperty) {\n\t\t\t\t\tObject.defineProperty(o, k, {enumerable: false});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}(Array.prototype, {\n\t\tfirst: function first() { return this[0]; },\n\t\tlast: function last() { return this[this.length - 1]; },\n\t\tpeek: function peek() { return this[this.length - 1]; },\n\t\treduce: reduce,\n\t\tchunk: chunk\n\t}));\n\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/Array.js\n ** module id = 39\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.Console', function() {\n\n\t$AppConfig.maxLogCapture = $AppConfig.maxLogCapture || 20;\n\n\t//make sure console exists\n\tExt.applyIf(window, {\n\t\tconsole: { log: Ext.emptyFn }\n\t});\n\n\t//make sure console functions exist.\n\tExt.applyIf(window.console, {\n\t\tdebug: console.log,\n\t\tinfo: console.log,\n\t\twarn: console.log,\n\t\terror: console.log,\n\t\tgroup: Ext.emptyFn,\n\t\ttrace: Ext.emptyFn,\n\t\tgroupCollapsed: Ext.emptyFn,\n\t\tgroupEnd: Ext.emptyFn,\n\t\ttime: Ext.emptyFn,\n\t\ttimeEnd: Ext.emptyFn\n\t});\n\n\n\tvar log = [],\n\t\tfns = ['log', 'debug', 'info', 'warn', 'error', 'group', 'trace', 'groupCollapsed', 'groupEnd', 'time', 'timeEnd'],\n\t\tignored = {\n\t\t\tdebug: 1, group: 1, trace: 1, groupCollapsed: 1, groupEnd: 1, time: 1, timeEnd: 1\n\t\t},\n\t\toriginalLogFns = {};\n\n\t//capture the originals...\n\tExt.copyTo(originalLogFns, console, fns, true);\n\n\n\tfunction collect(string) {\n\t\tif (log.last() !== string) {\n\t\t\tlog.push(string);\n\t\t}\n\t\tvar max = $AppConfig.maxLogCapture,\n\t\t\tlen = log.length;\n\t\tif (len > max) {\n\t\t\tlog.splice(0, len - max);\n\t\t}\n\t}\n\n\n\tfunction getReportableValue(val) {\n\t\tvar v = val;\n\t\tif (!val) {\n\t\t\tv = val;\n\t\t}\n\t\telse if (val.asJSON) {\n\t\t\tv = val.asJSON();\n\t\t} else if (val.toJSON) {\n\t\t\tv = val.toJSON();\n\t\t} else if (val.isComponent) {\n\t\t\tv = '{Component: xtype=' + val.xtype + ', id=' + val.id + '}';\n\t\t} else if (Ext.isObject(val)) {\n\t\t\ttry {\n\t\t\t\tv = Ext.encode(val);\n\t\t\t} catch (encodeError) {\n\t\t\t\tv = '{Could not encode}';\n\t\t\t}\n\t\t} else if (Ext.isArray(val)) {\n\t\t\tv = Ext.Array.map(val, getReportableValue).join(',');\n\t\t}\n\n\t\treturn v;\n\t}\n\n\n\tfunction getReporter(name) {\n\t\tif (ignored.hasOwnProperty(name) || !$AppConfig.enableLogCapture) {\n\t\t\treturn function() {};\n\t\t}\n\t\treturn function() {\n\n\t\t\ttry {\n\t\t\t\t//get a trace (in WebKit)\n\t//\t\t\tvar e = new Error(name),\n\t//\t\t\t\tstack = e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n\t//\t\t\t      .replace(/^\\s+at\\s+/gm, '')\n\t//\t\t\t      .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@'),\n\n\t\t\t\tvar args = [[name, ':'].join('')].concat(Array.prototype.slice.call(arguments)),\n\t\t\t\t\tx = args.length - 1;\n\n\t\t\t\tfor (x; x >= 0; x--) {\n\t\t\t\t\targs[x] = getReportableValue(args[x]);\n\t\t\t\t}\n\n\t\t\t\tcollect(args.join(' '));\n\t\t\t} catch (e) {\n\t\t\t\tcollect('Could not collect log... ' + e.stack || e.message);\n\t\t\t}\n\t\t};\n\t}\n\n\n\n\tfunction disableLogging() {\n\t\tvar l = fns.length - 1;\n\t\tfor (l; l >= 0; l--) {\n\t\t\tif (fns[l]) {\n\t\t\t\tconsole[fns[l]] = Ext.emptyFn;//getReporter(fns[l]);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction enableLogging() {\n\t\tvar l = fns.length - 1;\n\t\tfor (l; l >= 0; l--) {\n\t\t\tif (fns[l]) {\n\t\t\t\tconsole[fns[l]] = originalLogFns[fns[l]];\n\t\t\t}\n\t\t}\n\t}\n\n\ttry {\n\t\tconsole.getCollected = function() {\n\t\t\ttry {\n\t\t\t\treturn log;\n\t\t\t}\n\t\t\tfinally {\n\t\t\t\tlog = [];\n\t\t\t}\n\t\t};\n\n\t\tconsole.enable = enableLogging;\n\t\tconsole.disable = disableLogging;\n\n\t\tif (!$AppConfig.enableLogging) {\n\t\t\tconsole.disable();\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e.stack || e.message || e);\n\t}\n\n\treturn {};\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/Console.js\n ** module id = 40\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\n/**\n * Add dataset support to elements\n * No globals, no overriding prototype with non-standard methods,\n *   handles CamelCase properly, attempts to use standard\n *   Object.defineProperty() (and Function bind()) methods,\n *   falls back to native implementation when existing\n * Inspired by http://code.eligrey.com/html5/dataset/\n *   (via https://github.com/adalgiso/html5-dataset/blob/master/html5-dataset.js )\n * Depends on Function.bind and Object.defineProperty/Object.getOwnPropertyDescriptor (shims below)\n * Licensed under the X11/MIT License\n */\nif (!Function.prototype.bind) {\n\t// Inspired by https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind#Compatibility\n\tFunction.prototype.bind = function(oThis) {\n\t\t'use strict';\n\t\tif (typeof this !== 'function') {\n\t\t\t// closest thing possible to the ECMAScript 5 internal IsCallable function\n\t\t\tthrow new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n\t\t}\n\n\t\tvar aArgs = Array.prototype.slice.call(arguments, 1),\n\t\t\tfToBind = this;\n\n\t\tfunction FNOP() {}\n\t\tfunction Bound() {\n\t\t\treturn fToBind.apply(\n\t\t\t\t\t\t\tthis instanceof FNOP && oThis ? this : oThis,\n\t\t\t\t\taArgs.concat(Array.prototype.slice.call(arguments))\n\t\t\t);\n\t\t}\n\n\t\tFNOP.prototype = this.prototype;\n\t\tBound.prototype = new FNOP();\n\n\t\treturn Bound;\n\t};\n}\n\n/*\n * Xccessors Standard: Cross-browser ECMAScript 5 accessors\n * http://purl.eligrey.com/github/Xccessors\n *\n * 2010-06-21\n *\n * By Eli Grey, http://eligrey.com\n *\n * A shim that partially implements Object.defineProperty,\n * Object.getOwnPropertyDescriptor, and Object.defineProperties in browsers that have\n * legacy __(define|lookup)[GS]etter__ support.\n *\n * Licensed under the X11/MIT License\n *   See LICENSE.md\n*/\n\n/*! @source http://purl.eligrey.com/github/Xccessors/blob/master/xccessors-standard.js*/\n(function() {\n\t'use strict';\n\tvar ObjectProto = Object.prototype,\n\t\t\tdefineGetter = ObjectProto.__defineGetter__,\n\t\t\tdefineSetter = ObjectProto.__defineSetter__,\n\t\t\tlookupGetter = ObjectProto.__lookupGetter__,\n\t\t\tlookupSetter = ObjectProto.__lookupSetter__,\n\t\t\thasOwnProp = ObjectProto.hasOwnProperty;\n\n\tif (defineGetter && defineSetter && lookupGetter && lookupSetter) {\n\n\t\tif (!Object.defineProperty) {\n\t\t\tObject.defineProperty = function(obj, prop, descriptor) {\n\t\t\t\tif (arguments.length < 3) { // all arguments required\n\t\t\t\t\tthrow new TypeError('Arguments not optional');\n\t\t\t\t}\n\n\t\t\t\tprop += ''; // convert prop to string\n\n\t\t\t\tif (hasOwnProp.call(descriptor, 'value')) {\n\t\t\t\t\tif (!lookupGetter.call(obj, prop) && !lookupSetter.call(obj, prop)) {\n\t\t\t\t\t\t// data property defined and no pre-existing accessors\n\t\t\t\t\t\tobj[prop] = descriptor.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((hasOwnProp.call(descriptor, 'get') ||\n\t\t\t\t\t\t hasOwnProp.call(descriptor, 'set')))\n\t\t\t\t\t{\n\t\t\t\t\t\t// descriptor has a value prop but accessor already exists\n\t\t\t\t\t\tthrow new TypeError('Cannot specify an accessor and a value');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// can't switch off these features in ECMAScript 3\n\t\t\t\t// so throw a TypeError if any are false\n\t\t\t\tif (!(descriptor.writable && descriptor.enumerable &&\n\t\t\t\t\t  descriptor.configurable))\n\t\t\t\t{\n\t\t\t\t\tthrow new TypeError(\n\t\t\t\t\t\t\t\t\t'This implementation of Object.defineProperty does not support' +\n\t\t\t\t\t\t\t\t\t' false for configurable, enumerable, or writable.'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (descriptor.get) {\n\t\t\t\t\tdefineGetter.call(obj, prop, descriptor.get);\n\t\t\t\t}\n\t\t\t\tif (descriptor.set) {\n\t\t\t\t\tdefineSetter.call(obj, prop, descriptor.set);\n\t\t\t\t}\n\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t}\n\n\t\tif (!Object.getOwnPropertyDescriptor) {\n\t\t\tObject.getOwnPropertyDescriptor = function(obj, prop) {\n\t\t\t\tif (arguments.length < 2) { // all arguments required\n\t\t\t\t\tthrow new TypeError('Arguments not optional.');\n\t\t\t\t}\n\n\t\t\t\tprop += ''; // convert prop to string\n\n\t\t\t\tvar descriptor = {\n\t\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\t\twritable: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetter = lookupGetter.call(obj, prop),\n\t\t\t\t\t\tsetter = lookupSetter.call(obj, prop);\n\n\t\t\t\tif (!hasOwnProp.call(obj, prop)) {\n\t\t\t\t\t// property doesn't exist or is inherited\n\t\t\t\t\treturn descriptor;\n\t\t\t\t}\n\t\t\t\tif (!getter && !setter) { // not an accessor so return prop\n\t\t\t\t\tdescriptor.value = obj[prop];\n\t\t\t\t\treturn descriptor;\n\t\t\t\t}\n\n\t\t\t\t// there is an accessor, remove descriptor.writable;\n\t\t\t\t// populate descriptor.get and descriptor.set (IE's behavior)\n\t\t\t\tdelete descriptor.writable;\n\t\t\t\tdescriptor.get = descriptor.set = undefined;\n\n\t\t\t\tif (getter) {\n\t\t\t\t\tdescriptor.get = getter;\n\t\t\t\t}\n\t\t\t\tif (setter) {\n\t\t\t\t\tdescriptor.set = setter;\n\t\t\t\t}\n\n\t\t\t\treturn descriptor;\n\t\t\t};\n\t\t}\n\n\t\tif (!Object.defineProperties) {\n\t\t\tObject.defineProperties = function(obj, props) {\n\t\t\t\tvar prop;\n\t\t\t\tfor (prop in props) {\n\t\t\t\t\tif (props.hasOwnProperty(prop)) {\n\t\t\t\t\t\tObject.defineProperty(obj, prop, props[prop]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n}());\n\n// Begin dataset code\nif (!document.documentElement.dataset &&\n\t// FF is empty while IE gives empty object\n\t(!Object.getOwnPropertyDescriptor(Element.prototype, 'dataset') ||\n\t !Object.getOwnPropertyDescriptor(Element.prototype, 'dataset').get)\n\t\t) {\n\tvar propDescriptor = {\n\t\tenumerable: true,\n\t\tget: function() {\n\t\t\t'use strict';\n\t\t\tvar i,\n\t\t\t\tthat = this,\n\t\t\t\tHTML5_DOMStringMap = {},\n\t\t\t\tattrVal, attrName, propName,\n\t\t\t\tattribute,\n\t\t\t\tattributes = this.attributes,\n\t\t\t\tattsLength = attributes.length;\n\t\t\tfunction toUpperCase(n0) { return n0.charAt(1).toUpperCase(); }\n\t\t\tfunction getter() { return String(this); }\n\t\t\tfunction setter(attrName, value) {\n\t\t\t\treturn (typeof value !== 'undefined') ?\n\t\t\t\t\t   this.setAttribute(attrName, value) : this.removeAttribute(attrName); }\n\n\t\t\tfor (i = 0; i < attsLength; i++) {\n\t\t\t\tattribute = attributes[i];\n\t\t\t\t// Fix: This test really should allow any XML Name without\n\t\t\t\t//         colons (and non-uppercase for XHTML)\n\t\t\t\tif (attribute && attribute.name &&\n\t\t\t\t\t(/^data-\\w[\\w\\-]*$/).test(attribute.name)) {\n\t\t\t\t\tattrVal = attribute.value;\n\t\t\t\t\tattrName = attribute.name;\n\t\t\t\t\t// Change to CamelCase\n\t\t\t\t\tpropName = attrName.substr(5).replace(/-./g, toUpperCase);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tObject.defineProperty(HTML5_DOMStringMap, propName, {\n\t\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\t\tget: getter.bind(attrVal || ''),\n\t\t\t\t\t\t\tset: setter.bind(that, attrName)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e2) { // if accessors are not working\n\t\t\t\t\t\tHTML5_DOMStringMap[propName] = attrVal;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn HTML5_DOMStringMap;\n\t\t}\n\t};\n\n\tObject.defineProperty(Element.prototype, 'dataset', propDescriptor);\n}\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.Element', {});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/Element.js\n ** module id = 41\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.Error', {});\n\n\n/**\n * Raise an error on a new call stack to not interupt anything,\n * but will get caught by our error reporter (and send us a email)\n *\n * @param {String|Object} msg - message {@see Ext.Error#raise}\n */\nError.raiseForReport = function(msg) {\n\n\tvar stack = new Error(msg.message || msg.msg || msg).stack;\n\n\tsetTimeout(function() {\n\t\tif (msg instanceof Error) {throw msg.stack || msg.message;}\n\t\tExt.Error.raise(stack);\n\t},1);\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/Error.js\n ** module id = 42\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.Function', function() {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Compatibility\n\tif (!Function.prototype.bind) {\n\t\tFunction.prototype.bind = function(oThis) {\n\t\t\tif (typeof this !== 'function') {\n\t\t\t\t// closest thing possible to the ECMAScript 5\n\t\t\t\t// internal IsCallable function\n\t\t\t\tthrow new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n\t\t\t}\n\n\t\t\tvar aArgs = Array.prototype.slice.call(arguments, 1),\n\t\t\t\t\tfToBind = this,\n\t\t\t\t\tfNOP = function() {},\n\t\t\t\t\tfBound = function() {\n\t\t\t\t\t\treturn fToBind.apply(this instanceof fNOP && oThis ? this : oThis,\n\t\t\t\t\t\t\t\taArgs.concat(Array.prototype.slice.call(arguments)));\n\t\t\t\t\t};\n\n\t\t\tfNOP.prototype = this.prototype;\n\t\t\tfBound.prototype = new fNOP();\n\n\t\t\treturn fBound;\n\t\t};\n\t}\n\n\treturn {};\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/Function.js\n ** module id = 43\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.Node', {});\n\t//Patch-in features that might be missing.\n(function() {\n\n\tvar EP = Element.prototype;\n\n\tExt.applyIf(EP, {\n\t\tmatches: EP.matches || EP.webkitMatchesSelector || EP.mozMatchesSelector || EP.msMatchesSelector || EP.oMatchesSelector\n\t});\n\n\t//FireFox & Safari & IE (WTH!@#??) give a different instance of Element.protoyp in their\n\t// event targets so our above patch is not present for those instances! LAME!!\n\tElement.matches = function(el, selector) {\n\t\tvar m = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector || el.oMatchesSelector;\n\t\treturn m.call(el, selector);\n\t};\n\n\twindow.Node = window.Node || function() {};\n\twindow.NodeFilter = window.NodeFilter || {};\n\n\tExt.applyIf(NodeFilter, {\n\t\tSHOW_ELEMENT: 1,\n\t\tSHOW_COMMENT: 128\n\t});\n\n\n\tExt.applyIf(Node.prototype, {\n\t\tDOCUMENT_POSITION_DISCONNECTED: 1,\n\t\tDOCUMENT_POSITION_PRECEDING: 2,\n\t\tDOCUMENT_POSITION_FOLLOWING: 4,\n\t\tDOCUMENT_POSITION_CONTAINS: 8,\n\t\tDOCUMENT_POSITION_CONTAINED_BY: 16,\n\t\tDOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC: 32,\n\t\tTEXT_NODE: 3,\n\n\n\t\tgetChildren: function() {\n\t\t\tif (this.children) {\n\t\t\t\treturn this.children;\n\t\t\t}\n\t\t\tvar EA = Ext.Array;\n\t\t\treturn EA.filter(\n\t\t\t\t\tEA.toArray(this.childNodes, 0, this.childNodes.length),\n\t\t\t\t\t\tfunction(i) {\n\t\t\t\t\t\t\treturn i && i.nodeType !== Node.TEXT_NODE;\n\t\t\t\t\t\t});\n\t\t}\n\t});\n\n\n\tNodeList.prototype.toArray = function() {\n\t\treturn Array.prototype.slice.call(this);\n\t};\n\n\n\tif (!('remove' in Element.prototype)) {\n\t\tElement.prototype.remove = function() {\n\t\t\tif (this.parentNode) {\n\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t}\n\t\t};\n\t}\n\n\tif (!HTMLCanvasElement.prototype.toBlob) {\n\t\tObject.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n\t  \t\tvalue: function(callback, type, quality) {\n\t\t\t\tvar binStr = atob(this.toDataURL(type, quality).split(',')[1]),\n\t\t\t\t\tlen = binStr.length,\n\t\t\t\t\tarr = new Uint8Array(len);\n\n\t\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\t\t arr[i] = binStr.charCodeAt(i);\n\t\t\t\t}\n\n\t\t\t\tcallback(new Blob([arr], {type: type || 'image/png'}));\n\t  \t\t}\n\t \t});\n\t}\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/Node.js\n ** module id = 44\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.Number', {});\n\n(function() {\n\tExt.applyIf(Number.prototype, {\n\t\tpad: function(size) {\n\t\t\tif (typeof size !== 'number') {size = 2;}\n\t\t\tvar s = String(this);\n\t\t\twhile (s.length < size) {s = '0' + s;}\n\t\t\treturn s;\n\t\t},\n\t\tisFloatEqual: function(b, precision) {\n\t\t\tprecision = precision || 2;\n\n\t\t\tvar zero = 0,\n\t\t\t\tep = parseFloat(zero.toFixed(precision) + '1'); //produces 0.001\n\n\t\t\treturn Math.abs(this - b) < ep;\n\t\t},\n\t\tisFloatGreaterThanOrEqual: function(b, precision) {\n\t\t\treturn this.isFloatEqual(b, precision) || this > b;\n\t\t},\n\t\tisFloatLessThanOrEqual: function(b, precision) {\n\t\t\treturn this.isFloatEqual(b, precision) || this < b;\n\t\t}\n\t});\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/Number.js\n ** module id = 45\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.RegExp', {});\n(function() {\n\tExt.applyIf(RegExp, {\n\t\tescape: function me(text) {\n\t\t\tif (!me.Re) {\n\t\t\t\tme.Re = /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g;\n\t\t\t}\n\t\t\treturn text.replace(me.Re, '\\\\$&');\n\t\t}\n\t});\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/RegExp.js\n ** module id = 46\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.String', function() {\n\n\tfunction hash(str) {\n\t\tvar h = 0, i, c;\n\t\tif (Ext.isEmpty(str)) {\n\t\t\treturn h;\n\t\t}\n\n\t\tfor (i = 0; i < str.length; i++) {\n\t\t\tc = str.charCodeAt(i);\n\t\t\th = ((h << 5) - h) + c;\n\t\t\th = h & h; // Convert to 32bit integer\n\t\t}\n\t\treturn h;\n\t}\n\n\tString.prototype.strcmp = function(s) {\n\t    if (this < s) { return -1; }\n\t    if (this > s) { return 1; }\n\t    return 0;\n\t};\n\n\tfunction hashMe() { return hash(this); }\n\n\tString.prototype.concatPath = function(str) {\n\t\tvar result = this;\n\t\t//ensure the base path ends in a separator...\n\t\tif (result.charAt(result.length - 1) !== '/') {\n\t\t\tresult += '/';\n\t\t}\n\n\t\t//ensure the postfix does not start with a separator...\n\t\tif (str && str.charAt(0) === '/') {\n\t\t\tstr = str.substr(1);\n\t\t}\n\n\t\t//join...\n\t\treturn result + str;\n\t};\n\n\tString.prototype.hash = hashMe;\n\tString.hash = hash;\n\n\tString.commonPrefix = function commonPrefix(words) {\n\t\tvar maxWord = words.reduce(function max(a, b) { return a > b ? a : b; }),\n\t\t\tprefix = words.reduce(function min(a, b) { return a > b ? b : a; });\n\n\t\twhile (maxWord.indexOf(prefix) !== 0) {\n\t\t\tprefix = prefix.slice(0, -1);\n\t\t}\n\n\t\treturn prefix;\n\t};\n\n\treturn {};\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/String.js\n ** module id = 47\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.builtins.Window', {});\n\n(function() {\n\tfunction getRequestAnimationFrame() {\n\t\tvar names = [\n\t\t\t\t'webkitRequestAnimationFrame',\n\t\t\t\t'mozRequestAnimationFrame',\n\t\t\t\t'msRequestAnimationFrame'\n\t\t\t],\n\t\t\trequest;\n\n\t\t\trequest = names.reduce(function(acc, name) {\n\t\t\t\treturn acc || window[name];\n\t\t\t}, null);\n\n\t\t\tif (!request) {\n\t\t\t\trequest = function(callback) {\n\t\t\t\t\treturn setTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn request;\n\t}\n\n\tif (!window.requestAnimationFrame) {\n\t\twindow.requestAnimationFrame = getRequestAnimationFrame;\n\t}\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/builtins/Window.js\n ** module id = 48\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.container.Viewport', {\n\toverride: 'Ext.container.Viewport',\n\n\tsetSize: function() {},\n\n\tonRender: function() {\n\t\tExt.container.Container.prototype.onRender.apply(this, arguments);\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/container/Viewport.js\n ** module id = 49\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.data.Connection', {\n    override: 'Ext.data.Connection',\n    disableCaching: Ext.isGecko === true,\n    withCredentials: true,\n    useDefaultXhrHeader: true,\n\n    newRequest: function() {\n\t\treturn this.getXhrInstance();\n\t},\n\n    setOptions: function(options, scope) {\n\t\tvar i, badParams = ['id', 'page', 'start', 'limit', 'group', 'sort'],//'_dc'\n\t\t\tparams = options.params || {};\n    if (Ext.isGecko) {\n      badParams.shift();\n    }\n\t\tif (Ext.isFunction(params)) {\n\t\t\tconsole.warn('Params were a function!');\n\t\t\toptions.params = (params = params.call(scope, options));\n\t\t}\n\n\t\tfor (i in badParams) {\n\t\t\tif (badParams.hasOwnProperty(i)) {\n\t\t\t\tdelete params[badParams[i]];\n\t\t\t}\n\t\t}\n\n\t\treturn this.callParent(arguments);\n\t},\n\n    //We define an error as 4xx or 5xx\n\t//i.e. 400 <= statusCode <=599\n\tisHTTPErrorCode: function(statusCode) {\n\t\treturn 400 <= statusCode && statusCode <= 599;\n\t},\n\n    //Patch Ext's open request...if I explicitly say to not include credentials, don't.\n\topenRequest: function(options) {\n\t\tvar xhr = this.callParent(arguments);\n\n\t\tif (options && options.withCredentials === false) {\n\t\t\txhr.withCredentials = false;\n\t\t}\n\n\t\treturn xhr;\n\t}\n},function() {\n\tExt.Ajax.cors = true;\n\tExt.Ajax.withCredentials = true;\n\n\tExt.Ajax.disableCaching = Ext.isGecko === true;\n\tExt.Ajax.useDefaultXhrHeader = true;\n\tExt.Ajax.defaultHeaders = Ext.Ajax.defaultHeaders || {};\n\tExt.Ajax.defaultHeaders.Accept = 'application/json';\n\tExt.Ajax.on('beforerequest', function(connection, options) {\n\n\t\tif (Ext.Ajax.logRequests) {\n\t\t\tconsole.debug('Will perform ajax request with ', arguments);\n\t\t}\n\n\t\tif (options && options.async === false) {\n\t\t\tvar loc = null;\n\t\t\ttry { loc.toString(); }//force an error\n\t\t\tcatch (e) {\n\t\t\t\tloc = e.stack;\n\t\t\t\tloc = loc.toString().split('\\n').slice(6).join('\\n');\n\n\t\t\t}\n\t\t\tconsole.warn('Synchronous Call in: \\n' + loc, '\\nOptions: ', options);\n\t\t}\n\t});\n\n\t//Setup a 401 handler to send us back to the login page. It's not clear\n\t//if the MEssageBox alert infrastructure is smart enough to present a bunch\n\t//of these getting popped up all at once, however, since clicking ok on any\n\t//of them changes the pages location that is probably ok for now\n\tExt.Ajax.on('requestexception', function(conn, response, options) {\n\t\tfunction onConfirmed() {\n\t\t\t//TODO better way to send the user to the login page?\n\t\t\tlocation.reload();\n\t\t}\n\n\t\tif (response && response.status === 401) {\n\t\t\t//We only want to do this for our stuff.  TODO better way to check this\n\t\t\tvar redirectIf401 = options && options.url && options.url.indexOf(getURL()) >= 0;\n\t\t\tif (redirectIf401) {\n\t\t\t\tonConfirmed();\n\t\t\t}\n\t\t}\n\t}, this);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/data/Connection.js\n ** module id = 50\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.data.proxy.Server', {\n\toverride: 'Ext.data.proxy.Server',\n\tnoCache: Ext.isGecko === true\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/data/proxy/Server.js\n ** module id = 51\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.dd.DragDropManager', {\n\toverride: 'Ext.dd.DragDropManager',\n\n\n\tgetLocation: function() {\n\t\ttry {\n\t\t\treturn this.callParent(arguments);\n\t\t} catch (e) {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\n\t__startDrag: function(x, y) {\n\t\tvar me = this,\n\t\t\tcurrent = me.dragCurrent,\n\t\t\tdragEl;\n\n\t\tclearTimeout(me.clickTimeout);\n\t\tif (current) {\n\t\t\tcurrent.b4StartDrag(x, y);\n\t\t\tcurrent.startDrag(x, y);\n\t\t\tdragEl = current.getDragEl();\n\n\t\t\t//if (dragEl) {\n\t\t\t// svg elements have no css classes -- http://www.sencha.com/forum/showthread.php?261339-lt-SVGAnimatedString-gt-has-no-method-replace\n\t\t\tif (dragEl && dragEl.dom && dragEl.dom.className.replace) {\n\t\t\t\tExt.fly(dragEl).addCls(me.dragCls);\n\t\t\t}\n\t\t}\n\t\tme.dragThreshMet = true;\n\t}\n});\n\n//(function() {\n//\tvar v = Ext.versions.extjs;\n//\tif (v.major !== 4 || v.minor !== 2) {\n//\t\tconsole.warn('Base version of ExtJS not expected');\n//\t\treturn {};\n//\t}\n//\n//\tif (v.patch > 1) {\n//\t\tconsole.warn('Is this override (startDrag) still needed??');\n//\t}\n//}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/dd/DragDropManager.js\n ** module id = 52\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar RectUtils = require('../../util/Rects');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.dom.Element', {\n\toverride: 'Ext.dom.Element',\n  //\trequires: ['NextThought.util.Rects'],\n\n\tconstructor: function() {\n\t\tthis.callParent(arguments);\n\n\t\tif (this.dom && this.dom.addEventListener) {\n\t\t\tthis.on({\n\t\t\t\tscope: this,\n\t\t\t\tbuffer: 200,\n\t\t\t\tscroll: this._scrollStopped\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn('trying to register a listener for a element with out a dom node, it will not fire scrollstop');\n\t\t}\n\t},\n\n\n\t_scrollStopped: function(e) {\n\t\tvar me = this,\n\t\t\td = me.dom,\n\t\t\tc = Ext.EventManager.getEventListenerCache(d, 'scrollstop') || [];\n\n\t\tc.forEach(function(listener) {\n\t\t\tlistener.wrap.call(c.scope || d, e);\n\t\t});\n\t},\n\n\n\tgetScrollingEl: function() {\n\n\t\tvar el = this, found = 0, max = 100, flow;\n\n\t\tdo {\n\t\t\tel = el && el.parent();\n\t\t\tif (el) {\n\t\t\t\tflow = el.getStyle('overflow-y');\n\t\t\t\tif (flow !== 'hidden' && el.dom.scrollHeight > el.getHeight()) {\n\t\t\t\t\tfound = max;\n\t\t\t\t}\n\t\t\t}\n\t\t}while (el && found < max);\n\n\t\treturn el || this;\n\t},\n\n\tneedsScrollIntoView: function(containerEl) {\n\t\tvar container = Ext.getDom(containerEl) || Ext.getBody().dom,\n\t\t\tel = this.dom,\n            offsets = this.getOffsetsTo(container),\n\n            top = offsets[1] + container.scrollTop,\n            bottom = top + el.offsetHeight,\n\n            ctClientHeight = container.clientHeight,\n            ctTop = parseInt(container.scrollTop, 10),\n            ctBottom = ctTop + ctClientHeight;\n\n    return top > ctBottom || top < ctTop || bottom < ctTop || bottom > ctBottom;\n\t},\n\n\n\tscrollCompletelyIntoView: function(container, hscroll, animate) {\n\t\tvar me = this,\n            dom = me.dom,\n            offsets = me.getOffsetsTo(container = Ext.getDom(container) || Ext.getBody().dom),\n        // el's box\n            left = offsets[0] + container.scrollLeft,\n            top = offsets[1] + container.scrollTop,\n            bottom = top + dom.offsetHeight,\n            right = left + dom.offsetWidth,\n        // ct's box\n            ctClientHeight = container.clientHeight,\n            ctScrollTop = parseInt(container.scrollTop, 10),\n            ctScrollLeft = parseInt(container.scrollLeft, 10),\n            ctBottom = ctScrollTop + ctClientHeight,\n            ctRight = ctScrollLeft + container.clientWidth,\n            newPos;\n\n\t    if (dom.offsetHeight > ctClientHeight || top < ctScrollTop) {\n\t      newPos = top - this.getHeight();\n\t    } else if (bottom > ctBottom) {\n\t      newPos = (bottom - ctClientHeight) + this.getHeight();\n\t    }\n\t    if (newPos !== null) {\n\t      me.scrollChildFly.attach(container).scrollTo('top', newPos, animate);\n\t    }\n\n\t    if (hscroll !== false) {\n\t      newPos = null;\n\t      if (dom.offsetWidth > container.clientWidth || left < ctScrollLeft) {\n\t        newPos = left;\n\t      } else if (right > ctRight) {\n\t        newPos = right - container.clientWidth;\n\t      }\n\t      if (newPos !== null) {\n\t        me.scrollChildFly.attach(container).scrollTo('left', newPos, animate);\n\t      }\n\t    }\n\t    return me;\n\t},\n\n\n\t/**\n\t *\n\t * @param {Node} el\n\t * @param {Number} [bufferZone]\n\t * @return {*}\n\t */\n\tisOnScreenRelativeTo: function(el, bufferZone) {\n\t\tvar myRect = Ext.getDom(this).getBoundingClientRect(),\n\t\t\tparentRect = Ext.getDom(el).getBoundingClientRect();\n\n\t\treturn RectUtils.contains(parentRect, myRect, bufferZone);\n\t},\n\n\n\tgetAttribute: function(attr, ns) {\n\t\tvar v = this.callParent(arguments);\n\t\treturn v || (attr === 'class' ? this.callParent(['className', ns]) : null);\n\t},\n\n\n\tgetAndRemoveAttr: function(attr) {\n\t\tvar r = this.dom.getAttribute(attr);\n\t\tthis.dom.removeAttribute(attr);\n\t\treturn r;\n\t},\n\n\n\tallowContextMenu: function() {\n\t\tthis.on('contextmenu', function(e) {e.stopPropagation();});\n\t\treturn this;\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/dom/Element.js\n ** module id = 53\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.grid.Panel', {\n\toverride: 'Ext.grid.Panel',\n\n\tui: 'nti',\n\tplain: true,\n\tborder: false,\n\tframe: false,\n\n\tsealedColumns: true,\n\tenableColumnHide: false,\n\tenableColumnMove: false,\n\tenableColumnResize: false,\n\tcolumnLines: false,\n\trowLines: false,\n\n\tcolumnDefaults: {\n\t\tui: 'nt',\n\t\tplain: true,\n\t\tborder: false,\n\t\tframe: false,\n\t\tdefaults: {\n\t\t\tui: 'nt',\n\t\t\tborder: false,\n\t\t\tsortable: true,\n\t\t\tmenuDisabled: true\n\t\t}\n\t},\n\n\tinitComponent: function() {\n\t\tvar headerCtCfg = this.columns;\n\t\tif (Ext.isArray(headerCtCfg)) {\n\t\t\theaderCtCfg = {\n\t\t\t\titems: headerCtCfg\n\t\t\t};\n\t\t}\n\t\tthis.columns = Ext.merge({}, this.columnDefaults, headerCtCfg);\n\n\t\tthis.callParent(arguments);\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/grid/Panel.js\n ** module id = 54\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.grid.column.Column', {\n\toverride: 'Ext.grid.column.Column',\n\n\tafterRender: function() {\n\t\tthis.callParent(arguments);\n\t\tif (this.sortable) {\n\t\t\tthis.addCls('sortable');\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/grid/column/Column.js\n ** module id = 55\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.grid.plugin.BufferedRenderer', {\n\toverride: 'Ext.grid.plugin.BufferedRenderer',\n\n\t/*onViewRefresh: function() {\n\t\tconsole.debug('BufferedRenderer: View Refresh?', arguments);\n\t\tif (this.grid && this.grid.isVisible(true)) {\n\t\t\tthis.callParent(arguments);\n\t\t} else {\n\t\t\tconsole.debug('droped refresh, not visible');\n\t\t}\n\t},*/\n\n\n\t/*onViewResize: function() {\n\t\tconsole.debug('BufferedRenderer: View Resize?', arguments);\n\t\tif (this.grid && this.grid.isVisible(true)) {\n\t\t\tthis.callParent(arguments);\n\t\t} else {\n\t\t\tconsole.debug('droped view resize, not visible');\n\t\t}\n\t},*/\n\n\n\trenderRange: function() {\n\t\tconsole.debug('BufferedRenderer: renderRange?', arguments);\n\t\tif (this.grid && this.grid.isVisible(true)) {\n\t\t\tthis.callParent(arguments);\n\t\t} else {\n\t\t\tconsole.debug('BufferedRenderer: dropped renderRange, not visible');\n\t\t}\n\t},\n\n\n\tinit: function(grid) {\n\t\tthis.callParent(arguments);\n\t\tif (!grid.ownerCt) {\n\t\t\tgrid.on('added', this.__monitorActivation.bind(this, grid), null, {single: true, buffer: 1});\n\t\t} else {\n\t\t\tthis.__monitorActivation(grid);\n\t\t}\n\t},\n\n\n\t__monitorActivation: function(grid) {\n\t\tfunction monitorCardChange(cmp, me) {\n\t\t\tvar c = cmp.up('{isOwnerLayout(\"card\")}');\n\t\t\tme = me || cmp;\n\t\t\t//console.log(c && c.id, ' - ', grid.id);\n\t\t\tif (c) {\n\t\t\t\tme.mon(c, {\n\t\t\t\t\tbuffer: 1,\n\t\t\t\t\tshow: function() {\n\t\t\t\t\t\tif (grid && grid.isVisible(true)) {\n\t\t\t\t\t\t\tgrid.updateLayout({defer: false});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tmonitorCardChange(c, me);\n\t\t\t}\n\t\t}\n\n\t\tmonitorCardChange(grid);\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/grid/plugin/BufferedRenderer.js\n ** module id = 56\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nconst importAll = x => x.keys().forEach(x);\n\n\nimportAll(require.context('./', true, /^.\\/(?!index).+js$/));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/index.js\n ** module id = 57\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.layout.container.Container', {\n\toverride: 'Ext.layout.container.Container',\n\n\tmanageOverflow: 2\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/layout/container/Container.js\n ** module id = 58\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.menu.Menu', {\n\toverride: 'Ext.menu.Menu',\n\n\tui: 'nt',\n\n\tplain: true,\n\n\tshowSeparator: false,\n\n\tshadow: false,\n\n\tframe: false,\n\n\thideMode: 'display'\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/menu/Menu.js\n ** module id = 59\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.panel.Panel', {\n\toverride: 'Ext.panel.Panel',\n\n\trender: function() {\n\t\tthis.callParent(arguments);\n\t\tif (!this.enableSelect) {this.el.unselectable();}\n\t\telse {this.el.selectable();}\n\t}\n\n},function() {\n\tExt.getBody().unselectable();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/panel/Panel.js\n ** module id = 60\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.picker.Color', {\n\toverride: 'Ext.picker.Color',\n\n\tcolorRe: /(?:^|\\s)color-([^ ]*)(?:\\s|$)/,\n\n\trenderTpl: [\n\t\t'<tpl for=\"colors\">',\n\t\t\t'<a href=\"#\" class=\"color-',\n\t\t\t\t'<tpl if=\"values==\\'None\\'\">NONE</tpl>',\n\t\t\t\t'<tpl if=\"values!=\\'None\\'\">{.}</tpl>',\n\t\t\t\t'\" hidefocus=\"on\">',\n\t\t\t\t'<em><span style=\"background:#{.}\" unselectable=\"on\">&#160;</span></em>',\n\t\t\t'</a>',\n\t\t'</tpl>'\n\t]\n}, function() {\n\tthis.prototype.colors.push('None');\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/picker/Color.js\n ** module id = 61\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.selection.CellModel', {\n\toverride: 'Ext.selection.CellModel',\n\n\tonViewRefresh: function() {\n\t\ttry {\n\t\t\tthis.callParent(arguments);\n\t\t} catch (e) {\n\t\t\tconsole.warn(e.stack || e.message || e);\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/selection/CellModel.js\n ** module id = 62\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.tab.Panel', {\n\toverride: 'Ext.tab.Panel',\n\n\tstateEvents: ['tabchange'],\n\n\tapplyState: function(state) {\n\t\tvar t = (state || {}).t || 0;\n\n\t\ttry {\n\t\t\tthis.getLayout().getActiveItem();\n\t\t\tthis.setActiveTab(t);\n\t\t}catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\n\t},\n\n\tgetState: function() {\n\t\treturn {t: this.items.indexOf(this.getActiveTab())};\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/tab/Panel.js\n ** module id = 63\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('../../util/Globals');\nvar ObjectUtils = require('../../util/Object');\n\n\n/**\n * This entire file is a hack.  The ExtJS implementation aligns and positions the tip before it updates the contents of\n * the tip. So, it is potentially offset.  This attempts to correct that by repeating alignment calculations when it\n * detects a discrepancy.\n *\n * We also try to apply sane defaults.\n */\nmodule.exports = exports = Ext.define('NextThought.overrides.tip.QuickTip', {\n    override: 'Ext.tip.QuickTip',\n    EDGE_PADDING: 20,\n\n    //pixals from any given edge to trigger a repositioning\n\n\t//Apply defaults\n\tconstructor: function(config) {\n\t\tconfig = Ext.apply(config || {},{\n\t\t\theader: false,\n\t\t\tshowDelay: 500,\n\t\t\tanchorTarget: true,\n\t\t\ttrackMouse: false,\n\t\t\tshadow: false,\n\t\t\tcomponentLayout: 'auto',\n\t\t\tlayout: 'auto',\n\t\t\thtml: 'WWWWWWWWW',//provide a default so the initial isn't so small.\n\t\t\txhooks: {\n\t\t\t\tgetTargetXY: function() {\n\t\t\t\t\ttry {\n\t\t\t\t\tvar me = this,\n\t\t\t\t\t\to = me.readerOffsets,\n\t\t\t\t\t\tr = me.callParent(arguments);\n\n\t\t\t\t\tif (r && o) {\n\t\t\t\t\t\tr[0] += o.left;\n\t\t\t\t\t\tr[1] += o.top;\n\t\t\t\t\t}\n\t\t\t\t\treturn r;\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\tExt.defer(this.hide, 10, this);\n\t\t\t\t\t\treturn [0, 0];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.onScroll = this.onScroll.bind(this);\n\n\t\tthis.callParent([config]);\n\t},\n\n    getDockingRefItems: function(deep, items) {\n\t\treturn items;\n\t},\n\n    onTargetOver: function(e, dom, opts) {\n        if(Ext.is.iOS){\n            return;\n        }\n\t\tdelete this.readerOffsets;\n\t\tif (opts.reader) {\n\t\t\tthis.readerOffsets = opts.reader.getAnnotationOffsets();\n\t\t}\n\t\treturn this.callParent(arguments);\n\t},\n\n    //Override alignment and force the 'target' element to be the element with the title/tip attribute if not the\n\t// registered owner element. Default to a top centered position, unless screen position forces us to reposition.\n\tgetTargetXY: function getTargetXY() {\n\t\tfunction getTarget(el) {\n\t\t\tel = Ext.get(el);\n\t\t\tif (!el || el.getAttribute('title') || el.getAttribute('data-qtip')) {\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\treturn el.up('[title]') || el.up('[data-qtip]') || el;\n\t\t}\n\n\t\tif (getTargetXY.recursiveCall) {\n\t\t\treturn this.callParent(arguments);\n\t\t}\n\n\t\tgetTargetXY.recursiveCall = true;\n\n\t\tdelete this.delegate;\n\t\t//Only update it, if activeTarget is set.\n\t\tthis.anchorTarget = this.activeTarget ? Ext.getDom(getTarget(this.activeTarget.el)) : this.anchorTarget;\n\t\tthis.anchor = 'bottom';\n\n\t\tvar vW = Ext.dom.Element.getViewportWidth(),\n\t\t\tw = this.el.getWidth(),\n\t\t\tr;\n\n\t\tif (Ext.isEmpty(this.anchorTarget)) {\n\t\t\tconsole.warn('Tooltip anchorTarget is null. It shouldn\\'t be');\n\t\t\treturn [-1000, -1000];//don't return null... its dangerous.\n\t\t}\n\t\ttry {\n\t\t\tr = this.callParent(arguments);\n\n\t\t\tif (r[1] < this.EDGE_PADDING) {\n\t\t\t\t//needs to swap down\n\t\t\t\tthis.anchor = 'top';\n\t\t\t}\n\n\t\t\tif (r[0] < this.EDGE_PADDING) {\n\t\t\t\t//needs to swap left\n\t\t\t\tthis.anchor = 'left';\n\t\t\t}\n\t\t\telse if ((vW - (r[0] + w)) < this.EDGE_PADDING) {\n\t\t\t\t//needs to swap right\n\t\t\t\tthis.anchor = 'right';\n\t\t\t}\n\n\t\t\tif (this.anchor !== 'bottom') {\n\t\t\t\tr = this.callParent(arguments);\n\t\t\t}\n\t\t}\n\t\tcatch (er) {\n\t\t\tconsole.warn(Globals.getError(er));\n\t\t}\n\t\tfinally {\n\t\t\tdelete getTargetXY.recursiveCall;\n\t\t}\n\n\t\tif (!r) {\n\t\t\tr = [-2000, -2000];\n\t\t\tconsole.error('Parent implementation return a bad value');\n\t\t}\n\t\treturn r;\n\t},\n\n    //Hack: The contents change during show, AFTER positioning and aligning, so if we change size, redo it all.\n\tshowAt: function(xy) {\n\t\tif (!xy) {\n\t\t\treturn;\n\t\t}\n\t\tvar size = this.el.getSize(),\n\t\t\tsizeAfter;\n\n\t\ttry {\n\t\t\tthis.callParent(arguments);\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack || e.message || e);\n\t\t}\n\n\t\tsizeAfter = this.el.getSize();\n\n\t\tif (size.width !== sizeAfter.width || size.height !== sizeAfter.height) {\n\t\t\t//NOTE: if for some reasons, getTargetXY() returns null, return the default xy that was passed in.\n\t\t\tExt.defer(this.showAt, 1, this, [this.getTargetXY() || xy]);\n\t\t}\n\t},\n\n    show: function() {\n\t\tvar ini = this.initialConfig.html;\n\n\t\tfunction detectCrash() {\n\t\t\tif (!this.html || this.html === ini) {\n\t\t\t\tconsole.warn('detected tool tip crash');\n\t\t\t\tthis.hide();\n\t\t\t\tthis.crashCount = (this.crashCount || 0) + 1;\n\t\t\t\tif (this.crashCount > 10) {\n\t\t\t\t\tconsole.error('Too many top failures, removing them.');\n\t\t\t\t\tExt.tip.QuickTipManager.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener('scroll', this.onScroll);\n\n\t\tExt.defer(detectCrash, 10, this);\n\n\t\treturn this.callParent(arguments);\n\t},\n\n    onScroll: function() {\n\t\tthis.hide();\n\t\twindow.removeEventListener('scroll', this.onScroll);\n\t},\n\n    //center the tip pointer\n\t//We prefer to align to the center posisitions instead of the corner positions.\n\tsyncAnchor: function() {\n    var me = this, pos;\n\t\tme.callParent(arguments);\n    switch (me.tipAnchor.charAt(0)) {\n      case 't': pos = 'b-t'; break;\n      case 'r': pos = 'l-r'; break;\n      case 'b': pos = 't-b'; break;\n      default: pos = 'r-l'; break;\n    }\n    me.anchorEl.alignTo(me.el, pos);\n  },\n\n    //We prefer to align to the center posisitions instead of the corner positions.\n\tgetAnchorAlign: function() {\n    switch (this.anchor) {\n      case 'top': return 't-b';\n      case 'left': return 'l-r';\n      case 'right': return 'r-l';\n      default: return 'b-t';\n    }\n  }\n});\n\n\nmodule.exports = exports = Ext.define('NextThought.view.tip.Tooltip', {\n\textend: 'Ext.tip.ToolTip',\n\talias: 'widget.nt-tooltip',\n\n\tcls: 'spec',\n\n\n\tblockLeftRightAlign: function() {\n\t\tvar align = this.defaultAlign,\n\t\t\tanchor = this.anchor;\n\t\tObjectUtils.defineAttributes(this, {\n\t\t\tdefaultAlign: {\n\t\t\t\tsetter: function(v) { align = v === 'r-l' ? 'tr-br' : v; },\n\t\t\t\tgetter: function() { return align; }\n\t\t\t},\n\t\t\tanchor: {\n\t\t\t\tsetter: function(v) { anchor = v === 'right' ? 'bottom' : v; },\n\t\t\t\tgetter: function() { return anchor; }\n\t\t\t}\n\t\t});\n\n\t},\n\n\n\t//center the tip pointer\n\t//We prefer to align to the center posisitions instead of the corner positions.\n\tsyncAnchor: function() {\n    var me = this, pos, off = [0, 0];\n\t\tme.callParent(arguments);\n    switch (me.tipAnchor.charAt(0)) {\n      case 't': pos = 'b-t'; break;\n      case 'r': pos = 'l-r'; break;\n      case 'b': pos = 't-b'; break;\n      default: pos = 'r-l'; break;\n    }\n\n\t\tif (this.defaultAlign === 'tr-br') {\n\t\t\tpos = 't-br';\n\t\t\toff = [-50, 0];\n\t\t}\n\n    me.anchorEl.alignTo(me.el, pos, off);\n  },\n\n\n\t//We prefer to align to the center posisitions instead of the corner positions.\n\tgetAnchorAlign: function() {\n    switch (this.anchor) {\n      case 'top': return 't-b';\n      case 'left': return 'l-r';\n      case 'right': return 'r-l';\n      default: return 'b-t';\n    }\n  }\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/tip/QuickTip.js\n ** module id = 64\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.overrides.view.Table', {\n\toverride: 'Ext.view.Table',\n\n\tgetRecord: function() {\n\t\ttry {\n\t\t//buffered stores may throw an error if we try to access an item that has\n\t\t// been paged out... lets not blow a gasket in this senario.\n\t\t\treturn this.callParent(arguments);\n\t\t} catch (e) {\n\t\t\treturn null;\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides/view/Table.js\n ** module id = 65\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar Globals = require('../util/Globals');\nvar WriterJson = require('./writer/Json');\nvar ReaderJson = require('./reader/Json');\n\n\nmodule.exports = exports = Ext.define('NextThought.proxy.Rest', {\n    extend: 'Ext.data.proxy.Rest',\n    alias: 'proxy.nti',\n    timeout: 3600000,\n\n    //hour\n\n\treader: {\n\t\ttype: 'nti',\n\t\troot: 'Items'\n\t},\n\n    writer: {\n\t\ttype: 'nti'\n\t},\n\n    constructor: function(config) {\n\t\tthis.callParent(arguments);\n\t\tthis.on('exception', this.exception, this);\n\t},\n\n    doRequest: function(operation, callback, scope) {\n\t\toperation.retryArgs = {callback: callback, scope: scope};\n\t\tif (operation.async === false) {\n\t\t\tExt.Ajax.async = false;\n\t\t}\n\t\tthis.callParent(arguments);\n\t\tdelete Ext.Ajax.async;\n\n\t\tif (this.headers) {\n\t\t\tdelete this.headers;\n\t\t}\n\t\t//TODO: fire an event in case anyone cares\n\t},\n\n    buildUrl: function(request) {\n\t\tvar action = request.operation.action,\n\t\t\trecords = request.records,\n\t\t\trecord = records ? records[0] : null,\n\t\t\tmimeType = record ? record.mimeType || record.get('MimeType') : 'application/vnd.nextthought',\n\t\t\thref,\n\t\t\tcollection;\n\n\t\tthis.headers = {};\n\n\t\t//making sure headers propagate\n\t\tExt.apply(this.headers, request.headers || {});\n\t\tExt.apply(this.headers, request.operation.headers || {});\n\n\t\tif (!record) {\n\t\t\treturn request.operation.url || request.url || this.url;\n\t\t}\n\n\t\tExt.apply(this.headers, { 'Content-Type': mimeType + '+json' });\n\n\t\tif (request.operation.url || request.url) {\n\t\t\tif ($AppConfig.debug) {\n\t\t\t\tconsole.debug('Using a set url. Will not look up URL from service.',\n\t\t\t\t\t\t'\\n\\tOperation URL:', ((this.operation && this.operation.url) || undefined),\n\t\t\t\t\t\t'\\n\\tRequested URL:', request.url);\n\t\t\t}\n\t\t\treturn request.operation.url || request.url;\n\t\t}\n\n\t\tif (action === 'update' || action === 'destroy') {\n\t\t\thref = record.getLink('edit') || record.get('href');\n\t\t}\n\t\telse if (action === 'create') {\n\t\t\tcollection = Service.getCollectionFor(mimeType, null) || {};\n\t\t\tif (!collection.href) {\n\t\t\t\tExt.Error.raise('No HREF found for mimetype ' + mimeType);\n\t\t\t}\n\t\t\thref = getURL(Globals.ensureSlash(collection.href, true));\n\t\t}\n\t\telse if (action === 'read') {\n\t\t\thref = record.get('href');\n\t\t}\n\t\telse {\n\t\t\tExt.Error.raise({\n\t\t\t\tmsg: 'Unexpected action, no defined path for: \"' + action + '\"',\n\t\t\t\trequest: request,\n\t\t\t\taction: action\n\t\t\t});\n\t\t}\n\n\n\t\tif (!href) {\n\t\t\tExt.Error.raise({\n\t\t\t\tmsg: 'The URL is undefined!',\n\t\t\t\taction: action,\n\t\t\t\trecord: record,\n\t\t\t\tmimeType: mimeType\n\t\t\t});\n\t\t}\n\n\t\treturn href;\n\t},\n\n    exception: function(proxy, response, operation, eOpts) {\n\t\tvar code = response.status;\n\t\tif (code < 400 || code >= 500) {\n\t\t\tconsole.error('Error getting data:', arguments);\n\t\t}\n\n\t\ttry {\n\n\t\t\tExt.callback(operation.failed, operation.scope, [operation.records, operation, Ext.decode(response.responseText, true) || response.responseText]);\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.error(e.message, e);\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/proxy/Rest.js\n ** module id = 66\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\nvar UserRepository = require('../../cache/UserRepository');\n\n\nmodule.exports = exports = Ext.define('NextThought.proxy.reader.Base', {\n\textend: 'Ext.data.reader.Json',\n\talias: 'reader.nti-base',\n\n\t//TODO The fact we are doing this may play into why we run into issues\n\t//with LastModified caching and friends lists.  Need to look into that\n\tfillCacheWithUserList: function(record, field) {\n\t\tvar users = (record.raw || {})[field];\n\n\t\tif (!Ext.isEmpty(users)) {\n\t\t\t//console.debug('Need to fill cache with userlist for' , record.getId(), field, users);\n\t\t\tExt.each(users, function(user) {\n\t\t\t\tif (user.isModel || Ext.isObject(user)) {\n\t\t\t\t\tUserRepository.precacheUser(user);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\tprecacheUserLists: function(record) {\n\t\tvar me = this;\n\t\t//If we were given a model from the server go ahead and cache it\n\t\t//so we don't have to resolve it again.  Failure to do this leads to hundreds\n\t\t//of user resolutions (in accounts with lots of data) up front\n\t\trecord.fields.each(function(f) {\n\t\t\tif (f.type === Ext.data.Types.USERLIST) {\n\t\t\t\tme.fillCacheWithUserList(record, f.name);\n\t\t\t}\n\t\t});\n\t},\n\n\t//Read records and do any prefilling/prefetching of user objects\n\treadRecords: function(data) {\n\t\tvar result = this.callParent([data]),\n\t\t\trecords = result.records;\n\t\ttry {\n\t\t\tExt.each(records || [], function(record) {\n\t\t\t\tthis.precacheUserLists(record);\n\t\t\t}, this);\n\n\t\t\treturn result;\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.error(e.stack || e, records);\n\t\t\treturn Ext.data.ResultSet.create({\n\t\t\t\ttotal: 0,\n\t\t\t\tcount: 0,\n\t\t\t\trecords: [],\n\t\t\t\tsuccess: false\n\t\t\t});\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/proxy/reader/Base.js\n ** module id = 67\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.proxy.writer.Json', {\n\textend: 'Ext.data.writer.Json',\n\talias: 'writer.nti',\n\n\tconstructor: function() {\n\t\tthis.callParent(arguments);\n\t},\n\n\tgetRecordData: function(obj) {\n\t\tvar defaults = this.callParent(arguments),\n\t\t\toutput = {},\n\t\t\tkey;\n\n\t\tfunction getJSON(obj) {\n\t\t\tvar a = [];\n\t\t\tif (obj && Ext.isFunction(obj.asJSON)) {\n\t\t\t\tobj = obj.asJSON();\n\t\t\t}\n\t\t\telse if (Ext.isArray(obj)) {\n\t\t\t\tobj = Ext.Array.map(obj, getJSON);\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t\t//filter out falsy values\n\t\tfor (key in defaults) {\n\t\t\tif (defaults.hasOwnProperty(key) && defaults[key]) {\n\t\t\t\toutput[key] = getJSON(defaults[key]);\n\t\t\t}\n\t\t}\n\n\t\t//remove unnecessary JSON\n\t\tdelete output.Class;\n\t\tdelete output.Links;\n\n\t\t//console.debug('Output:',output);\n\t\t//console.debug('Trimed Keys:',Ext.Array.difference(Ext.Object.getKeys(defaults),Ext.Object.getKeys(output)));\n\n\t\treturn output;\n\t},\n\n\twriteRecords: function(request, data) {\n\t\trequest = this.callParent(arguments);\n\n\t\t//Because of ExtJS bug where jsonData is sent on delete, check to see if we\n\t\t//are making a DELETE request (aka destroy) and remove jsonData.  Also check\n\t\t//to see when the bug is fixed and log it so we remove this extra step when possible.\n\t\tif (request.action === 'destroy') {\n\t\t\tif (!request.jsonData || request.jsonData.length === 0) {\n\t\t\t\tconsole.warn('SAFE TO REMOVE EXTJS BUG WORKAROUND, request to delete has no jsonData', request);\n\t\t\t}\n\t\t\tdelete request.jsonData;\n\t\t}\n\n\t\treturn request;\n\t}\n});\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/proxy/writer/Json.js\n ** module id = 68\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\n/**\n * original source: http://www.webtoolkit.info/javascript-base64.html\n *\n * TODO: de-lint\n */\nmodule.exports = exports = Ext.define('NextThought.util.Base64', {\n\talternateClassName: 'B64',\n\tsingleton: true,\n\n\t_isBase64Re: /^([A-Za-z0-9+\\/]{4})*([A-Za-z0-9+\\/]{4}|[A-Za-z0-9+\\/]{3}=|[A-Za-z0-9+\\/]{2}==)$/,\n\n\t// private property\n\t_keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n\n\t_equalsRe: new RegExp('=+$'),\n\t_slashRe: /\\//g,\n\t_plusRe: /\\+/g,\n\n\tencodeURLFriendly: function(input) {\n\t\treturn this.encode('!@' + input)//to allow us to quickly determine if the value as raw or encoded.\n\t\t\t\t.replace(this._plusRe, '-')\n\t\t\t\t.replace(this._slashRe, '_')\n\t\t\t\t.replace(this._equalsRe, '');\n\t},\n\n\n\tdecodeURLFriendly: function(str) {\n\t\t// reverse to original encoding\n\t\tif (str.length % 4 !== 0) {\n\t\t\tstr += ('===').slice(0, 4 - (str.length % 4));\n\t\t}\n\t\tstr = str.replace(/-/g, '+').replace(/_/g, '/');\n\t\tstr = this.decode(str);\n\t\tif (!/^!@/.test(str)) {//wasn't encoded by us... abort\n\t\t\tstr = null;\n\t\t} else {\n\t\t\tstr = str.substr(2);\n\t\t}\n\t\treturn str;\n\t},\n\n\n\t// public method for encoding\n\tencode: function(input) {\n\t\tvar output = '',\n\t\t\tchr1, chr2, chr3, enc1, enc2, enc3, enc4,\n\t\t\ti = 0;\n\n\t\tinput = this._utf8_encode(input);\n\n\t\twhile (i < input.length) {\n\n\t\t\tchr1 = input.charCodeAt(i++);\n\t\t\tchr2 = input.charCodeAt(i++);\n\t\t\tchr3 = input.charCodeAt(i++);\n\n\t\t\tenc1 = chr1 >> 2;\n\t\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t\t\tenc4 = chr3 & 63;\n\n\t\t\tif (isNaN(chr2)) {\n\t\t\t\tenc3 = enc4 = 64;\n\t\t\t} else if (isNaN(chr3)) {\n\t\t\t\tenc4 = 64;\n\t\t\t}\n\n\t\t\toutput = output +\n\t\t\t\t\tthis._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\n\t\t\t\t\tthis._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\n\n\t\t}\n\n\t\treturn output;\n\t},\n\n\t// public method for decoding\n\tdecode: function(input) {\n\t\tvar output = '',\n\t\t\tchr1, chr2, chr3,\n\t\t\tenc1, enc2, enc3, enc4,\n\t\t\ti = 0;\n\n\t\tinput = input.replace(/[^A-Za-z0-9\\+\\/=]/g, '');\n\n\t\twhile (i < input.length) {\n\n\t\t\tenc1 = this._keyStr.indexOf(input.charAt(i++));\n\t\t\tenc2 = this._keyStr.indexOf(input.charAt(i++));\n\t\t\tenc3 = this._keyStr.indexOf(input.charAt(i++));\n\t\t\tenc4 = this._keyStr.indexOf(input.charAt(i++));\n\n\t\t\tchr1 = (enc1 << 2) | (enc2 >> 4);\n\t\t\tchr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n\t\t\tchr3 = ((enc3 & 3) << 6) | enc4;\n\n\t\t\toutput = output + String.fromCharCode(chr1);\n\n\t\t\tif (enc3 !== 64) {\n\t\t\t\toutput = output + String.fromCharCode(chr2);\n\t\t\t}\n\t\t\tif (enc4 !== 64) {\n\t\t\t\toutput = output + String.fromCharCode(chr3);\n\t\t\t}\n\n\t\t}\n\n\t\toutput = this._utf8_decode(output);\n\n\t\treturn output;\n\n\t},\n\n\t// private method for UTF-8 encoding\n\t_utf8_encode: function(string) {\n\t\tstring = string.replace(/\\r\\n/g, '\\n');\n\t\tvar utftext = '', n, c;\n\n\t\tfor (n = 0; n < string.length; n++) {\n\n\t\t\tc = string.charCodeAt(n);\n\n\t\t\tif (c < 128) {\n\t\t\t\tutftext += String.fromCharCode(c);\n\t\t\t}\n\t\t\telse if ((c > 127) && (c < 2048)) {\n\t\t\t\tutftext += String.fromCharCode((c >> 6) | 192);\n\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tutftext += String.fromCharCode((c >> 12) | 224);\n\t\t\t\tutftext += String.fromCharCode(((c >> 6) & 63) | 128);\n\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\n\t\t\t}\n\n\t\t}\n\n\t\treturn utftext;\n\t},\n\n\t// private method for UTF-8 decoding\n\t_utf8_decode: function(utftext) {\n\t\tvar string = '',\n\t\t\ti = 0, c3 = 0, c2 = 0,\n\t\t\tc = 0;\n\n\t\twhile (i < utftext.length) {\n\n\t\t\tc = utftext.charCodeAt(i);\n\n\t\t\tif (c < 128) {\n\t\t\t\tstring += String.fromCharCode(c);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\telse if ((c > 191) && (c < 224)) {\n\t\t\t\tc2 = utftext.charCodeAt(i + 1);\n\t\t\t\tstring += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t\ti += 2;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tc2 = utftext.charCodeAt(i + 1);\n\t\t\t\tc3 = utftext.charCodeAt(i + 2);\n\t\t\t\tstring += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t\ti += 3;\n\t\t\t}\n\n\t\t}\n\n\t\treturn string;\n\t}\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/util/Base64.js\n ** module id = 69\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.util.Localization', {\n\tsingleton: true,\n\n\tformatRe: /\\{([^\\{]+)\\}/g,\n\n\n\tgetExternalizedString: function(key, defaultValue, noKey) {\n\t\tvar v = (window.NTIStrings || {})[key] || defaultValue || (!noKey && key) || '';\n\n\t\tif (v instanceof Array) {\n\t\t\tv = v[Math.floor(Math.random() * 100) % v.length];\n\t\t}\n\n\t\treturn v;\n\t},\n\n\n\tformatExternalString: function(key, values, dontUseKey) {\n\t\tvar string = this.getExternalizedString(key, dontUseKey ? null : key, true);\n\n\t\tif (!values) {\n\t\t\treturn string;\n\t\t}\n\n\t\treturn string.replace(this.formatRe, function(m, i) {\n\t\t\treturn values[i] || m;\n\t\t});\n\t},\n\n\tpluralizeString: function(count, key, noNum) {\n\t\tvar forms = (window.NTIStrings.PluralForms || {})[key], i,\n\t\t\ts;\n\n\t\tif (!forms) {\n\t\t\t//console.error('Pluralizing a string we dont have forms for', key, count);\n\t\t\treturn this.oldPlural.apply(Ext.util.Format, arguments);\n\t\t}\n\n\t\tif (forms.rule) {\n\t\t\ti = forms.rule(count);\n\t\t} else {\n\t\t\ti = forms.ranges[count];\n\t\t\ti = i !== undefined ? i : forms.ranges[undefined];\n\t\t}\n\n\t\tif (i === undefined) {\n\t\t\tconsole.error('No form for count', key, count);\n\t\t\treturn key;\n\t\t}\n\n\t\ts = forms.forms[i] || key;\n\n\t\tif (noNum) {\n\t\t\ts = s.replace('{#}', '');\n\t\t\treturn s.trim();\n\t\t}\n\n\t\tif (s === key) {\n\t\t\treturn count + ' ' + s;\n\t\t}\n\n\t\treturn s.replace('{#}', count);\n\t}\n\n}, function() {\n\t//TODO: figure out how to not make these globals\n\twindow.getString = this.getExternalizedString.bind(this);\n\twindow.getFormattedString = this.formatExternalString.bind(this);\n\n\tthis.oldPlural = Ext.util.Format.plural;\n\n\tExt.util.Format.plural = this.pluralizeString.bind(this);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/util/Localization.js\n ** module id = 70\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\n/** force our implementation for now. */\n//TODO: don't use a custom promise\nwindow.Promise = null;\n\n//TODO: Adapt these node.js tests to our platform so we can unit test our promise polyfill. https://github.com/promises-aplus/promises-tests\n\n//We won't use the native ones for now. (especially since we're in ES5 mode)\n//See: http://www.html5rocks.com/en/tutorials/es6/promises/\nPromise = window.Promise || (function(global) {\n\n\t//<editor-fold desc=\"Private shared methods\">\n\tfunction then(onFulfilled, onRejected) {\n\t\tvar promise = new Promise(WHEN_THEN),\n\t\t\tme = this;\n\n\t\tif (onFulfilled && onFulfilled.then) {\n\t\t\tExt.Error.raise('Cannot `then` a promise with another promise this way.');\n\t\t}\n\n\t\t// initialize array\n\t\tme.cache = me.cache || [];\n\n\t\tsetTimeout(function() {//async it\n\t\t\tme.cache.push({\n\t\t\t\tfulfill: onFulfilled,\n\t\t\t\treject: onRejected,\n\t\t\t\tpromise: promise\n\t\t\t});\n\t\t\tresolve.call(me);\n\t\t}, 1);\n\n\t\treturn promise;\n\t}\n\n\tfunction changeState(state, value) {\n\t\t// catch changing to same state (perhaps trying to change the value)\n\t\tif (this.state === state) {\n\t\t\tconsole.error('Cannot transition to same state: ' + state);\n\t\t\treturn;\n\t\t}\n\n\t\t// trying to change out of fulfilled or rejected\n\t\tif (this.state === State.FULFILLED || this.state === State.REJECTED) {\n\t\t\tconsole.error('cannot transition from current state: ' + state);\n\t\t\treturn;\n\t\t}\n\n\t\t// if second argument isn't given at all (passing undefined allowed)\n\t\tif (state === State.FULFILLED && arguments.length < 2) {\n\t\t\tthrow new Error('transition to fulfilled must have a non null value');\n\t\t}\n\n\t\t// if a null reason is passed in\n\t\tif (state === State.REJECTED && value === null) {\n\t\t\tthrow new Error('transition to rejected must have a non null reason');\n\t\t}\n\n\t\t//change state\n\t\tthis.state = state;\n\t\tthis.value = value;\n\t\tresolve.call(this);\n\t\treturn this.state;\n\t}\n\n\tfunction fulfill(value) { changeState.call(this, State.FULFILLED, value); }\n\tfunction reject(reason) { changeState.call(this, State.REJECTED, reason); }\n\n\tfunction resolve() {\n\t\tvar obj, fn, value, me = this;\n\t\t// check if pending\n\t\tif (this.state === State.PENDING) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction chain(obj, state) {\n\t\t\treturn function(v) {\n\t\t\t\tchangeState.call(obj.promise, state, v);\n\t\t\t};\n\t\t}\n\n\t\t// for each 'then'\n\t\twhile (me.cache && me.cache.length) {\n\t\t\tobj = me.cache.shift();\n\n\t\t\tfn = me.state === State.FULFILLED ? obj.fulfill : obj.reject;\n\n\t\t\tif (typeof fn !== 'function') {\n\t\t\t\tchangeState.call(obj.promise, this.state, me.value);\n\t\t\t} else {\n\t\t\t\t// fulfill promise with value or reject with error\n\t\t\t\ttry {\n\t\t\t\t\tvalue = fn(me.value);\n\n\t\t\t\t\t// deal with promise returned\n\t\t\t\t\tif (value && typeof value.then === 'function') {\n\t\t\t\t\t\tvalue.then(chain(obj, State.FULFILLED), chain(obj, State.REJECTED));\n\t\t\t\t\t\t// deal with other value returned\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchangeState.call(obj.promise, State.FULFILLED, value);\n\t\t\t\t\t}\n\t\t\t\t\t// deal with error thrown\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Exception while resolving promise:', error && (error.stack || error.message || error));\n\t\t\t\t\tchangeState.call(obj.promise, State.REJECTED, error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//</editor-fold>\n\n\tvar WHEN_THEN = {},\n\t\tnextId = 1, Promise, p, State = { PENDING: 0, FULFILLED: 1, REJECTED: 2 };\n\n\tPromise = function(worker) {\n\t\tthis.id = (nextId++);\n\t\tthis.state = State.PENDING;\n\n\t\tif (worker && worker.call) {\n\t\t\ttry {\n\t\t\t\tworker.call(global, fulfill.bind(this), reject.bind(this));\n\t\t\t} catch (e) {\n\t\t\t\treject.call(this, e);\n\t\t\t}\n\t\t} else if (worker !== WHEN_THEN) {\n\t\t\t//The spec expects the constructor of a promise to take a callback that will do the work... our implementation was not so contained. We have more\n\t\t\t// of a Deferred promise model. Where we get an empty Promise object and externally fulfill/reject it.\n\t\t\tconsole.error('No callback This invocation will break with native Promises');\n\t\t}\n\t};\n\n\tp = Promise.prototype;\n\n\tp.then = then;\n\n\treturn Promise;\n}(window));\n\n\nExt.applyIf(Promise.prototype, {\n\tdone: function(fn) { this.validateHandler(fn); return this.then(fn); },\n\tfail: function(fn) { this.validateHandler(fn); return this.then(undefined, fn); },\n\t//the proper name is 'catch', however JSLint has a problem with that (reserved word and all) so lets keep using \"fail\".\n\t//this is only here to be compliant to the api.\n\t'catch': function(fn) { return this.fail.apply(this, arguments); },\n\talways: function(fn) {this.validateHandler(fn); return this.then(fn, fn); },\n\tchain: function(old) {this.then(function(o) {old.fulfill(o);},function(r) {old.reject(r);});},\n\n\tvalidateHandler: function(fn) { if (typeof fn !== 'function') { throw new TypeError('Expected a function'); } }\n});\n\n\nExt.applyIf(Promise, {\n\tresolve: function(v) { return v instanceof Promise ? v : new Promise(function(f) {f.call(this, v);}); },\n\treject: function(v) { return new Promise(function(f, r) {r.call(this, v);}); },\n\twait: function(t) { return new Promise(function(f) {setTimeout(f, t || 1);});},\n\t/**\n\t * Given a minimum duration, return a function that when called\n\t * will return a promise that fulfills with its first arg after\n\t * at least the duration given has passed.\n\t *\n\t * @param  {Number} minWait the min time to wait\n\t * @return {Function}\n\t */\n\tminWait: function(minWait) {\n\t\tvar start = new Date();\n\n\t\treturn function(result) {\n\t\t\tvar end = new Date(),\n\t\t\t\tduration = end - start;\n\n\t\t\tif (duration < minWait) {\n\t\t\t\treturn wait(minWait - duration)\n\t\t\t\t\t.then(function() {\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn Promise.resolve(wait);\n\t\t}\n\t}\n});\n\nwait = Promise.wait;\n\n\n/**\n * Deferred promise.\n * I guess there _MIGHT_ be some cases where we want this pattern. :/ I don't like it. But here you go.\n *\n * This will make a promise that you may or may NOT be able to keep.\n *    -- There is no guarantee that fulfill or reject will get called.\n *\n * This version of the promise is no better than the callback-hell model.  Keep in mind that\n * Deferred's do not force execution of their promise, the are not Guaranteed to resolve.\n *\n * I strongly recommend examining your code and your structure before commiting to using this as a final solution.\n */\nDeferred = (function() {\n\n\tfunction apply(d, src) {\n\t\tvar k;\n\t\tfor (k in src) {\n\t\t\tif (src.hasOwnProperty(k) && d[k] === undefined) {\n\t\t\t\td[k] = src[k];\n\t\t\t}\n\t\t}\n\t\treturn d;\n\t}\n\n\tvar Deferred = function() {\n\t\tvar o = false;\n\t\tfunction wtf(f, r) {\n\t\t\to = {\n\t\t\t\tfulfill: function(value) {f(value);},\n\t\t\t\treject: function(reason) {r(reason);}\n\t\t\t};\n\t\t}\n\n\t\tthis.superclass.constructor.call(this, wtf);\n\t\tif (!o) {\n\t\t\tthrow new Error('Contract broken!');\n\t\t}\n\t\tapply(this, o);\n\t};\n\n\tDeferred.prototype.superclass = Promise.prototype;\n\tapply(Deferred.prototype, Promise.prototype);\n\n\treturn Deferred;\n}());\n\n\n/**\n *\n * @param {Promise[]} promises\n * @type {Function}\n * @return {Promise}\n */\nPromise.all = Promise.all || function(promises) {\n\t// get promises\n\tvar values = [],\n\t\ttoGo = promises.length, i;\n\n\tvalues.length = promises.length;\n\n\treturn new Promise(function(fulfill, reject) {\n\t\tvar state = fulfill;\n\n\t\t// whenever a promise completes\n\t\tfunction checkFinished() {\n\t\t\t// check if all the promises have returned\n\t\t\tif (toGo) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// set the state with all values if all are complete\n\t\t\tstate(values);\n\t\t}\n\n\t\tfunction prime(index) {\n\t\t\tvar p = promises[index];\n\n\t\t\tfunction done(value) {\n\t\t\t\tvalues[index] = value;\n\t\t\t\ttoGo--;\n\t\t\t\tcheckFinished();\n\t\t\t}\n\n\t\t\tif (!p || !p.then) {//handle falsy/non-promise @ index\n\t\t\t\tdone(p);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tp.then(done,// on success\n\t\t\t\t\tfunction(v) {\n\t\t\t\t\t\tstate = reject;\n\t\t\t\t\t\tdone(v);\n\t\t\t\t\t});\n\t\t}\n\n\t\tcheckFinished();//handle empty array.\n\n\t\t// whenever a promise finishes check to see if they're all finished\n\t\tfor (i = 0; i < promises.length; i++) {\n\t\t\tprime(i);\n\t\t}\n\t});\n};\n\n\n/**\n * Given an array of values, step through one at a time and fulfill with\n *\t1.) The value its self if its not a function\n *\t2.) The return value of the function\n *\t3.) The success of the promise the function returns\n * if it returns a promise that fails, repeat with the next item\n *\n * @param  {Array} values An Array of values or functions that return value or a Promise.\n * @return {Promise}      fulfills with the first successful value in the array or rejects if none are.\n */\nPromise.first = Promise.first || function(values) {\n\tif (!Ext.isArray(values) || !values.length) {\n\t\treturn Promise.reject('No promise');\n\t}\n\n\treturn new Promise(function(fulfill, reject) {\n\t\tvar total = values.length;\n\n\t\tfunction add(index) {\n\t\t\tif (index >= total) {\n\t\t\t\treject('No promise in chain was successful');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar val = values[index];\n\n\t\t\tif (!Ext.isFunction(val)) {\n\t\t\t\tfulfill(val);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tval = val.call();\n\n\t\t\tif (val instanceof Promise) {\n\t\t\t\tval\n\t\t\t\t\t.then(fulfill)\n\t\t\t\t\t.fail(function(reason) {\n\t\t\t\t\t\tconsole.error('Promise in chain failed: ', reason);\n\t\t\t\t\t\tadd(index + 1);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfulfill(val);\n\t\t\t}\n\t\t}\n\n\t\tadd(0);\n\t});\n};\n\n\nmodule.exports = exports = Ext.define('NextThought.util.Promise', {});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/util/Promise.js\n ** module id = 71\n ** module chunks = 0\n **/","\n/* injects from baggage-loader */\n\nvar Ext = require('extjs');\n\n\nmodule.exports = exports = Ext.define('NextThought.util.Rects', {\n\tsingleton: true,\n\n\n\tgetFirstNonBoundingRect: function(ra) {\n\t\tvar range = ra.nativeRange || ra,\n            bound = range.getBoundingClientRect(),\n\t\t\trects = Array.prototype.slice.call(range.getClientRects()) || [],\n\t\t\ti = rects.length - 1, r;\n\n\t\t//trim the empty ones\n\t\tfor (i; i >= 0; i--) {\n\t\t\tr = rects[i];\n\t\t\tif (!r.height || !r.width) { rects.splice(i, 1); }\n\t\t}\n\n\t\t//i === 0 now\n\t\tfor (i; i < rects.length; i++) {\n\t\t\tr = rects[i];\n\t\t\tif (r && (r.top !== bound.top\n\t\t\t|| r.bottom !== bound.bottom\n\t\t\t|| r.left !== bound.left\n\t\t\t|| r.right !== bound.right)) {\n\t\t\t\treturn r;\n\t\t\t}\n\t\t}\n\n\t\treturn bound;\n\t},\n\n\n\tmerge: function(rects,clientWidth) {\n\t\tvar i = rects.length - 1,\n\t\t\tlineHeight,\n\t\t\theights = [17, 24]; //Sane default values for small highlights\n\t\t//faster to decrement in js\n\t\tfor (; i >= 0; i--) {\n\t\t\tif (rects[i].height > 0) {\n\t\t\t\theights.push(rects[i].height);\n\t\t\t}\n\t\t}\n\n\t\theights.sort(function(a,b) { return a - b; });\n\t\t//Take the 33rd percentile of nonzero highlights; this seems to\n\t\t//be a fairly good heuristic for the line height\n\t\tlineHeight = heights[Math.floor(heights.length / 3)];\n\t\trects = this.trimCrazies(rects, lineHeight, clientWidth);\n\t\tvar r = [], ri,\n\t\t\tx, xx, y, yy, w, h,\n\t\t\tb, bins = {};\n\n\t\ti = rects.length - 1;\n\n\t\tfor (; i >= 0; i--) {\n\t\t\tri = rects[i];\n\n\t\t\tx = ri.left || ri.x;\n\t\t\ty = ri.top || ri.y;\n\t\t\th = ri.height || (ri.bottom - ri.top);\n\t\t\tw = ri.width || (ri.right - ri.left);\n\t\t\txx = ri.right || (x + ri.height);\n\t\t\tyy = ri.bottom || (y + ri.width);\n\n\t\t\tvar tolerance = 8;\n\n\t\t\tb = Math.floor((y + h / 2) / tolerance);//center line of the rect\n\n\t\t\tif (!bins[b] && !bins[b + 1]) {\n\t\t\t\tr.push({ left: x, top: y, right: xx, bottom: yy, width: w, height: h });\n\t\t\t\t//Each bin points to the rectangle occupying it,\n\t\t\t\t//+1 to overcome the problem of falsy values\n\t\t\t\tbins[b] = r.length;\n\t\t\t\tbins[b + 1] = r.length;\n\t\t\t}\n\t\t\telse {\n        b = r[(bins[b] || bins[b + 1]) - 1];\n\t\t\t\tb.left = b.left < x ? b.left : x;\n\t\t\t\tb.top = b.top < y ? b.top : y;\n\t\t\t\tb.right = b.right > xx ? b.right : xx;\n\t\t\t\tb.bottom = b.bottom > yy ? b.bottom : yy;\n\n\t\t\t\tb.width = b.right - b.left;\n\t\t\t\tb.height = b.bottom - b.top;\n\t\t\t}\n\n\t\t}\n\t\treturn r;\n\n\t},\n\n\n\ttrimCrazies: function(rects, lineHeight, clientWidth) {\n\t\tfunction flip(a,i) { return Ext.apply({},a[i]); }\n\n\t\tfunction notTooShort(h) {\n\t\t\treturn !lineHeight || h >= lineHeight;\n\t\t}\n\t\tfunction notTooTall(h) {\n\t\t\treturn !lineHeight || h < lineHeight * 1.9;\n\t\t}\n\t\tfunction isCovered(i) {\n\t\t\tvar j = 0;\n\t\t\tfor (; j < rects.length; j++) {\n\t\t\t\tif (rects[j].top > rects[i].top && rects[j].bottom < rects[i].bottom) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tvar rs = Array.prototype.slice.call(rects),\n\t\t\t\ti = rs.length - 1, out = [], o, h, w,\n\t\t\t\tlh2 = lineHeight * 2;\n\n\t\tif (!i || Ext.isIE || !lineHeight) { return rects; }\n\n\t\tfor (; i >= 0; i--) {\n\t\t\to = flip(rs, i);\n\t\t\tif (o.height && o.height < lineHeight) {o.height = lineHeight;} //round up to look nice\n\t\t\th = o.height;\n\t\t\tw = o.width;\n\t\t\tif (w > 0 && (w <= clientWidth || !clientWidth) && notTooShort(h) && (notTooTall(h) || !isCovered(i))) {\n\t\t\t\tout.push(o);\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t},\n\n\n\tcontains: function(refRect, testRect, allowances) {\n\t\tvar a = allowances || 0;\n\t\tif (Ext.isNumber(a)) {\n\t\t\ta = { top: -a, bottom: a, left: -a, right: a };\n\t\t}\n\n\t\tif (!Ext.isObject(a)) {Ext.Error.raise('Invalid allowances value');}\n\n\t\tExt.applyIf(a, {top: 0, left: 0, right: 0, bottom: 0});\n\n\t\treturn (refRect.top + a.top) <= testRect.top\n\t\t\t&& (refRect.bottom + a.bottom) >= testRect.bottom\n\t\t\t&& (refRect.left + a.left) <= testRect.left\n\t\t\t&& (refRect.right + a.right) >= testRect.right;\n\n\t},\n\n\n\tisZeroRect: function(rect) {\n\t\tif (!rect) {\n\t\t\treturn true;\n\t\t}\n\t\treturn rect.top === 0 && rect.left === 0 && rect.height === 0 && rect.width === 0;\n\t}\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/util/Rects.js\n ** module id = 72\n ** module chunks = 0\n **/","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = global.fetch;\n}.call(global));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/imports-loader?this=>global!./~/exports-loader?global.fetch!./~/whatwg-fetch/fetch.js\n ** module id = 73\n ** module chunks = 0\n **/","var map = {\n\t\"./Component.js\": 32,\n\t\"./EventManager.js\": 33,\n\t\"./Ext.js\": 34,\n\t\"./JSON.js\": 35,\n\t\"./XTemplate.js\": 36,\n\t\"./app/Application.js\": 37,\n\t\"./app/Controller.js\": 38,\n\t\"./builtins/Array.js\": 39,\n\t\"./builtins/Console.js\": 40,\n\t\"./builtins/Element.js\": 41,\n\t\"./builtins/Error.js\": 42,\n\t\"./builtins/Function.js\": 43,\n\t\"./builtins/Node.js\": 44,\n\t\"./builtins/Number.js\": 45,\n\t\"./builtins/RegExp.js\": 46,\n\t\"./builtins/String.js\": 47,\n\t\"./builtins/Window.js\": 48,\n\t\"./container/Viewport.js\": 49,\n\t\"./data/Connection.js\": 50,\n\t\"./data/proxy/Server.js\": 51,\n\t\"./dd/DragDropManager.js\": 52,\n\t\"./dom/Element.js\": 53,\n\t\"./grid/Panel.js\": 54,\n\t\"./grid/column/Column.js\": 55,\n\t\"./grid/plugin/BufferedRenderer.js\": 56,\n\t\"./layout/container/Container.js\": 58,\n\t\"./menu/Menu.js\": 59,\n\t\"./panel/Panel.js\": 60,\n\t\"./picker/Color.js\": 61,\n\t\"./selection/CellModel.js\": 62,\n\t\"./tab/Panel.js\": 63,\n\t\"./tip/QuickTip.js\": 64,\n\t\"./view/Table.js\": 65\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 74;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/js/overrides ^.\\/(?!index).+js$\n ** module id = 74\n ** module chunks = 0\n **/"],"sourceRoot":""}