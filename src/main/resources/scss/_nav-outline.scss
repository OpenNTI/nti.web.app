.nav-outline {
	background: #ffffff;
	position: absolute;
	top: 0;
	bottom: 5px;

	&.static {
		position: static;
		top: auto;
		bottom: auto;
	}

	.outline-list {
		position: absolute;
		left: 0;
		right: 0;
		bottom: 0;
		top: 3.125em;//50px;
		margin-left: -3.15em;
		padding-left: 3.15em;

		overflow: {
			x: visible;
			y: auto; //scroll;
		}
		@include scrollbar(#ffffff, $tertiary-grey);
	}

	.outline-group {
		position: relative;

		&:not(:first-of-type) {
			padding-top: 1.75em;

			&::before {
				content: '';
				position: absolute;
				left: 0; right: 0;
				top: 1.1em;
				height: 0.167em;
				background: #e7e8ed;
				box-shadow: inset 0 -1px 0 0 #dddddd;
			}
		}

		& .outline-group {
			padding-top: 0;
			&::before {
				display: none;
			}
		}
	}

	.header {
		background: #ffffff;
		padding: 0 3em;
		font: normal 500 0.9em/3.5em $font;
		color: #a1a1a1;
		box-shadow: inset 0 -1px 0 0 #eaeaea;
		z-index: 2;

		@include icon('topic', $top:15px, $left: 18px);
	}

	.outline-row:not(.disabled), &.editing .outline-row.disabled {
		&:hover,
		&.over {
			background: #f0f0f0;
			box-shadow: inset 3px 0 0 0 #cfcfcf;

			.report-icon {
				display: block;

				&:hover::after {
					background-position: sprite-position($icons, 'reports-gray_hover');
				}
			}
		}

		&.selected, &.x-item-selected {
			color: #ffffff;
			font-weight: 600;
			background: $primary-blue;
			box-shadow: inset 3px 0 0 0 #107eed;

			.report-icon {
				display: block;

				&::after {
					background-position: sprite-position($icons, 'reports-white_default');
				}

				&:hover::after {
					background-position: sprite-position($icons, 'reports-white_hover');
				}
			}
		}
	}

	.outline-row {
		position: relative;
		background: #ffffff;
		color: $secondary-grey;
		font: normal 400 0.9em/2.8em $font;
		padding: 0 0.35em 0 1.39em;
		cursor: pointer;

		.label{
			overflow: hidden;
		}

		&.lesson{
			padding: 0.65em 0.35em 0.65em 1.39em;

			.label {
				white-space: normal;
			}

			&:not(.heading) {
	  			font: normal 400 0.9em/1.5em $font;

	  			.label {
	  				// To compute max height, multiply min-height by 2 (2 lines) 
	  				max-height: 3em;
	  				min-height: 1.5em;
	  			}
			}
		}

		.report-icon {
			cursor: pointer;
			top: 0; right: -0.35em;
			width: 40px; height: 40px;
			float: right;

			display: none;

			@include icon('reports-gray-card_hover', $top: 12px, $left: 12px);
		}

		.nav-outline:not(.editing) &.disabled {
			cursor: default;
			color: $tertiary-grey;
		}


		&.out-of-view{
		}

		&.unit {
			cursor: default;
			text-transform: uppercase;
			background: #fafafa;
			color: $tertiary-grey;
			font: normal 400 0.6em/2 $font;
			box-shadow: 0 -1px 0 0 #f2f2f2, 0 1px 0 0 #f2f2f2;
			//z-index: 1;
			
			&.heading {
				.label {
					// To compute max height, multiply min-height by 2 (2 lines) 
					max-height: 2.6em;
				}
			}
		}
	}

	&:not(.multi-level) {//the "not" is just disabling the selector without restructuring the css.

		&:not(.editing) {
			.outline-row {
				&.unit, &.heading {
					background: none !important;
					box-shadow: none;
				}
			}
		}

		.outline-row {
			&.lesson {
				//font-style: italic;
			}

			&.unit.heading + .unit:not(.heading) {
				margin-top: 0;
			}

			&.unit, &.heading {
				&:not(.selected) {
					background: none !important;
					box-shadow: none;
				}
			}

			&.unit:not(.heading) {
				padding: 0 2.1em;
				line-height: 2.3;
				background: #f4f4f4 !important;
				font-weight: 600;
				box-shadow: inset 0 1px 0 0 #efefef, inset 0 -1px 0 0 #efefef;
				margin-bottom: 0.5em;
				color: $secondary-grey;
				//.label {
					//border-top: 1px dotted #e5e5e5;
				//}
			}

			&.heading {
				color: $secondary-grey;
				font: normal 100 1.5em/2.1 "Open Sans Condensed", $font;
				text-transform: none;
				padding: 1.25em 0.42em 0 0.84em;

				&.unit{
					padding: 1.75em 0.42em 0.5em 0.84em;
					font: normal 100 1.5em "Open Sans Condensed", $font;
					min-height: 2.1em;

					&:first-of-type {
						padding-top: 0.20835em;
					}
				}
			}
		}
	}
}
