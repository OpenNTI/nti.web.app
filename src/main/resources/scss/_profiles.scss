.avatar-container {
	position: relative;

	.avatar-pic {
		position: absolute;
		top: 0; bottom: 0;
		left: 0; right: 0;
		background-size: contain;
	}

	.fallback {
		z-index: 1;
	}

	.profile {
		z-index: 2;
	}
}

.user-background-container {
	position: relative;

	.background-pic {
		position: absolute;
		top: 0; bottom: 0;
		left: 0; right: 0;
		background-size: contain;
		background-color: #343434;
	}
}

.profile-header {
	.buttons {
		height: 35px;
		margin-top: 40px;
		margin-bottom: 10px;

		.button {
			float: right;
			margin-left: 10px;
			padding: 0 1.5em 0 45px;//1.5em + 20px
			line-height: 35px;
			color: white;
			border-radius: 3px;
			font-size: 0.875em;
			cursor: pointer;

			&.edit {
				background-color: $primary-blue;
				@include icon('notepad_active_white', $top: 8px, $left: 1.5em);
			}

			&.save {
				padding: 0 1.5em;
				background-color: $secondary-green;
			}

			&.cancel {
				padding: 0 1.5em;
				background-color: $primary-red;
			}

			&.follow {
				background-color: $secondary-green;
				@include icon('add_contact', $top: 9px, $left: 1.5em);
			}

			&.unfollow {
				background-color: $primary-red;
				@include icon('rhp-delete-contact_hover', $top: 10px, $left: 1.5em);
			}

			&.presence {
				background-color: $primary-blue;
				padding-left: 50px;//1.5em + with of icon + padding
				@include icon('chat_active', $top: 10px, $left: 1.5em);

				&.unavailable {
					cursor: pointer;
					color: $tertiary-grey;
					background-color: #f8f8f8;
					padding-left: 60px;
					opacity: 0.7;

					@include icon('chat-32', $top: 7px, $left: 1.5em);
				}
			}
		}
	}

	.tabs {
		padding-left: 180px;
		background-color: rgba(0, 0, 0, 0.2);
		height: 35px;

		.tab {
			display: inline-block;
			line-height: 35px;//180 - 145
			padding: 0 2em;
			color: $tertiary-grey;
			box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.4);
			font-size: 0.875em;
			cursor: pointer;

			&:hover, &.active {
				color: white;
				font-weight: 600;
			}

			&.active {
				background-color: $primary-blue;
			}

			&::after {
				content: attr(data-title);
				display: block;
				font-weight: 600;
				height: 0;
				color: transparent;
				overflow: hidden;
				visibility: hidden;
			}
		}
	}

	.avatar-container {
		width: 180px;
		height: 180px;
		float: left;
	}

	.meta {
		padding: 20px 20px 0 200px;
		height: 145px;//180 - 35
		background-color: rgba(0, 0, 0, 0.1);

		.about {
			float: left;
		}

		.social-fields {
			float: right;
			text-align: center;
			width: 220px;
			height: 125px;
			padding-top: 31px;

			.social {
				width: 42px;
				height: 42px;
				display: inline-block;
				margin: 0 5px;
				opacity: 0.5;

				&:hover {
					opacity: 1;
				}

				&.hidden {
					display: none;
				}
			}

			.facebook {
				@include icon('social-facebook');
			}

			.linked-in {
				@include icon('social-linkedin');
			}

			.twitter {
				@include icon('social-twitter');
			}

			.google-plus {
				@include icon('social-google');
			}
		}


		.username, .location, .homepage {
			display: inline-block;
		}

		.field.homepage {
			text-decoration: none;
			color: $primary-blue;

			&::before {
				content: "|";
				margin: 0 0.5em;
				opacity: 0.7;
				color: white;
			}
		}

		.education, .location, .position {
			&::before {
				@include icon-font();
				margin-right: 0.5em;
				opacity: 0.7;
				width: 1.3em;
				display: inline-block;
				text-align: center;
			}
		}

		.education::before {
			//TODO: figure out how to name these
			content: "\e600";
		}

		.location::before {
			content: "\e601";
		}

		.position::before {
			content: "\e602";
		}


		.field {
			color: white;
			max-width: 580px;
			overflow: hidden;
			font-size: 0.875em;
			font-weight: 300;
			@include ellipse;

			&.hidden {
				display: none;
			}
		}

		.username {
			font-size: 1.5em;
			padding-right: 15px;
			position: relative;
			font-weight: 400;

			@include presence-style-sudo($xSide: 'right', $x: 0, $y: 50%, $side: 'before');

			&::before {
				margin-top: -3px;
			}
		}

	}
}

#view > .profile-tabs {
	border-top-color: white;
	background: white;
	top: 110px;
	z-index: 100;
	box-shadow: 0 -3px 0 2px #fff;
}

#profile {
	margin-top: -105px;
	width: 1024px;
	padding:0;
	overflow:{
		x: hidden;
		y: auto; //scroll;
	}

	.profile-body {
		width: 1024px !important;
	}
}

.x-component-resource-not-found{
	width: 700px;
	margin: 75px auto;
}

.x-component-profile {
	&.empty {
		background: #fff;
		overflow: hidden;
		position: relative;
		height: 100%;
	}

	&.outline {
		background: white;
		overflow: hidden;
		width: 1024px !important;
		margin-top: 40px;

		.fixed-about{
			display: none;
			position: absolute;
			left: 0; bottom: 0;
			width: 180px;
			background-color: $quad-grey;
			border-right: 1px solid #f0f0f0;

			.avatar {
				width: 40px;
				height: 40px;
			}

			.fixed-name {
				color: $primary-grey;
				line-height: 40px;
				margin-left: 45px;
				overflow: hidden;
				@include ellipse;
			}
		}

		&.fixed {			
			height: 40px;
			background-color: inherit;

			.container {
				position: fixed !important;
				top: 57px !important;
				width: 1024px;
				height: 40px;
				z-index: 11;

				&::after {			
					content: '';
					position: absolute;
					bottom: 0px;
					height: 300px;
					left: 0;
					right: 0;
					background-color: rgba(0,0,0,0.35);
					box-shadow: 0 0 5px 0 rgba(0,0,0,0.35);
					clip: rect(300px, auto, 310px, auto);
					border-radius: 350em / 2em;
				}

				.avatar, .about, .controls{
					display: none;
				}

				.fixed-about{
					display: inline-block;

					.avatar {
						@include animate($name: fadeIn, $duration: 0.5s, $delay: 0s);
						display: block;
					}

					.name {
						@include animate($name: fadeIn, $duration: 0.5s, $delay: 0s);
					}
				}
			}
		}
		
		$control: 45px;
		$avatar: 180px;
		.avatar {
			width: $avatar;
			height: $avatar;
			z-index: 2;
			float: left;
			background: {
				size: cover;
				repeat: no-repeat;
				position: center center;
			}			
		}

		&.editing {
			.avatar {
				cursor: pointer;
				@include icon('edit-15-white', $left:auto, $top: 10px, $right: 10px);

				&::before {
					content: '';
					width: 30px;
					height: 30px;
					background-color: $primary-grey;
					top: 3px;
					right: 3px;
					position: absolute;
					opacity: 0.9;
					border-radius: 5px;

				}
			}

			.name:not(.read-only){
				cursor: pointer;
				color: $primary-grey;
				z-index: 1000;
				background: #f4f4f4;
				padding-right: 20px;

				&::before {
					display: none;
				}

				@include icon('edit-15_hover', $left:auto, $top: 12px, $right: 2px, $position: absolute);
			}

			.about {
				.field {
					display: none;
				}

				.name {
					display: inline;
				}
			}

			.controls {
				.save {
					padding: 0 15px;
					background-color: $primary-blue;
					color: white;
					display: inline-block;
				}

				.cancel {
					padding: 0 15px;
					display: inline-block;
					background: none;
					border: none;
					font-weight: 500;
					color: $primary-grey;
					font-style: normal;
				}

				.edit {
					display: none;
				}
			}
		}


		.about{
			padding-top: 15px;
			padding-left: 200px;
			width: 750px;

			.field {
				overflow: hidden;
				@include ellipse;

				color: $secondary-grey;
				font: normal 400 0.9em/1.6em $font;
			}

			.name {
				position: relative;
				padding-right: 15px;
				color: $primary-grey;
				display: inline;
				overflow: hidden;
				@include ellipse();
				margin: 0;
				font: normal 600 1.6em/35px 'Open Sans Condensed', $font;

				@include presence-style-sudo($x:0px, $y:15px, $xSide:'right', $side: 'before');
				&.no-presence::before{
					display: none !important;
				}
			}
		}

		.controls {
			position: absolute;
			top: 55px; right: 20px;
			height: 40px;

			&.isMe {
				span:not(.isMe) {
					display: none;
				}
			}

			&.isContact {
				span:not(.isContact) {
					display: none;
				}
			}

			&.notContact {
				span:not(.notContact) {
					display: none;
				}
			}

			.button {
				border-radius: 5px;
				display: inline-block;
				font: italic 600 0.9em/40px $font;
				cursor: pointer;
				float: left;
				position: relative;
				background-color: $quad-grey;
				border: 1px solid #f0f0f0;

				&.disabled {
					display: none;
				}
			}

			.edit {
				color: $secondary-grey;
				padding: 0 20px 0 45px;

				@include icon('notepad_active', $top: 10px, $left: 20px);
			}

			.save {
				display: none;
			}

			.cancel {
				display: none;
			}

			.contact-menu {
				margin-right: 10px;
				width: 50px;
				height: 40px;
				@include icon('ico_profile_contact', $top: 9px, $left: 10px);

				&::before{
					content: '';
					position: absolute;
					right: 2px;
					top: 18px;
					@include arrow($pointFrom: top, $color: $tertiary-grey);
				}
			}

			.mail {
				width: 50px;
				height: 40px;
				border-radius: 5px 0 0 5px;
				border-right-width: 0;
				display: none;
				@include icon('mail', $top: 11px, $left: 13px)
			}

			.chat {
				width: 50px;
				height: 40px;
				//border-radius: 0 5px 5px 0;
				// border-left-width: 0;
				@include icon('chat-32', $top: 9px, $left: 9px)
			}

			.add-contact {
				width: 140px;
				background-color: $primary-green;
				color: white;
				padding-left: 50px;
				@include icon('ico_profile_add_contact', $top: 12px, $left: 25px)
			}
		}


		$head: $avatar + $control;

		.nav {
			position: absolute;
			left: 180px; right: 0;
			bottom: 0;
			height: 41px;

			.nav-outline{
				position: relative;
				max-height: 100%;
				background-color: $quad-grey;
				border-top: 1px solid #f0f0f0;
				overflow: {
					x: hidden;
					y: auto; //scroll;
				}

				.outline-row {
					border-right: 1px solid #f0f0f0;
					float: left;
					padding: 0 1em;
					font-weight: 600;
					text-transform: uppercase;

					&:not(.x-item-selected) {
						background-color: $quad-grey;
					}

					&:not(.disabled).x-item-selected{
						box-shadow: none;
						
						.label {
							visibility: hidden;
						}

						&::before {
							position: absolute;
							font-weight: 700;
							left: 0; right: 0;
							text-align: center;
							content: attr(data-text);
						}
					}

					&.over, &:hover{
						box-shadow: none;
					}
				}
			}
		}
	}
}

.x-container-profile {
	margin: 0 auto;
	overflow-y: auto;

	.activity-event-item {
		margin-bottom: 5px;
	}


	.x-panel-profile,.x-panel-body-profile {
		overflow: visible;
		padding-bottom: 1em;
	}

	.note-replies:empty {
		display: none;
	}

	.separator {
		font-size: 14px;
	}

	.link {
		color: $primary-blue;
		cursor: pointer;
	}


	.loading-bar{
		margin-top: 40px;
		margin-bottom: -40px;
		height: 40px;
		background: $panel-background;

		.x-mask{
			opacity: 0;
		}
	}


	.reply-event {
		position: relative;
		overflow: hidden;
		background: $panel-background;


		.body {
			padding-bottom: 1em;
		}
	}

	.blogged-event,
	.transcriptsummary-event {
		position: relative;

		&:hover{
			&::after {
				content: '';
				position: absolute;
				top: 38px;
				right: 20px;
				opacity: 1;
				background: $icons no-repeat;
				@include sprite($icons,'arrow-next',$dimensions: true);
			}
		}
	}

	.transcriptsummary-event{
		position: relative;
		background: $panel-background;
		border: 0 solid #f2f2f2;
		border-bottom-width: 1px;
		min-height: 60px;
		padding: 10px 25px 10px 10px;
		cursor: pointer;
		overflow: hidden;


		&:hover::after{
			top: 26px;
		}

		.icon{
			float: left;
			width: 35px; height: 35px;
			border-radius: 5px;
			background:{
				position: center;
				repeat: no-repeat;
				size: contain;
			}
		}
		.meta{
			margin-left: 45px;
			.title{
				font: normal 300 20px/30px $font;
				font-size: 17px !important;

				.name{
					color: #3FB3F6;
				}
			}
			.time{
				font: normal 400 12px/20px $font;
				color: $tertiary-grey;
				span{
					&::after{
						color: $tertiary-grey;
						font: normal 500 12px/20px $font;
						text-decoration: none !important;
						position: static;
						content: '\00B7';
						display: inline;
						padding: 0 0.5em;
						background: none;
					}
					&:last-of-type::after {
						content: '';
						display: none;
					}
				}
			}
		}
	}

	.blogged-event,
	.joined-event {
		background: $panel-background;
		border: 0 solid #f2f2f2;
		border-bottom-width: 1px;
		overflow: hidden;
		position: relative;
		padding: 18px;

		&:not(.joined-event){
			cursor: pointer;
		}

		.avatar{
			float: left;
			width: 60px; height: 60px;
			border-radius: 5px;
			background:{
				position: center;
				repeat: no-repeat;
				size: cover;
			}
		}

		.meta {
			margin: 0 0 0 75px;
			color: $tertiary-grey;
			.title{
				color: $primary-grey;
				font: normal 300 20px/30px $font;
			}
			.counts {
				font: normal 400 12px/20px $font;
				span{
					&::after{
						color: $tertiary-grey;
						font: normal 500 12px/20px $font;
						text-decoration: none !important;
						position: static;
						content: '\00B7';
						display: inline;
						padding: 0 0.5em;
						background: none;
					}
					&:last-of-type::after {
						content: '';
						display: none;
					}
				}
			}
		}
	}

	.badge-event {
		background-color: $panel-background;
		min-height: 120px;
		position: relative;
		overflow: hidden;
		padding-bottom: 10px;

		.img {
			width: 100px;
			height: 100px;
			background-size: contain;
			float: left;
			margin: 10px 20px 0 20px;
		}

		.wrap {
			float: left;
			color: $primary-grey;
			padding-top: 20px;
			width: 850px;
			font: normal 500 1em/1 $font;

			.name {
				line-height: 1.3;
				margin-bottom: 5px;
			}

			.date {
				font-size: 0.63em;
				font-weight: 600;
				color: $tertiary-grey;
				margin-bottom: 10px;
			}

			.description {
				line-height: 1.3;
				font-size: 0.9em;
			}

		}
	}

	.note-replies .note-container {
		background: none;
	}


	.note-container {
		position: relative;
		background: $panel-background;

		.meta{
			.subject{
				.whiteboard-container{
					display: none !important;
				}
			}
		}
	}

	&.reply-event .profile-activity-item .content-callout::before{ display: none; }

	.profile-activity-item {
		margin: 0;
		padding: 0;
		border-bottom-width: 0;
		z-index: 1;

		&.note {
			padding: 0;
			border-bottom-width: 0;
		}

		.whiteboard-container{
			cursor: default;
		}

		.path,
		.content-callout,
		.purchase,
		& + .note-replies,
		& + .note-replies + .respond,
		& + .topic-replies,
		& + .topic-replies + .respond {
			position: relative;
			border: 1px solid #eaeaea;
			background: $panel-background;

			.missing-context-info{
				box-shadow: none;
			}
		}

		& + .note-replies,
		& + .note-replies + .respond,
		& + .topic-replies,
		& + .topic-replies + .respond{
			border-color: #f0f0f0;
			border-top-width: 0;
			top: -1px;
			z-index: 0;
		}

		& + .topic-replies + .respond,
		& + .note-replies + .respond{
			box-shadow: inset 0 1px 0 0 white;
			padding: 10px;
			& > div {
				background: white;
				border: 1px solid #dcdcdc;
				color: #dcdcdc;
				font: italic 400 14px/37px $font;
				padding: 0 10px;
				.editor {
					margin: 10px 0;
					.footer{
						background-color: transparent;
						&::after{ display: none; }
					}
					.main{
						.content{
							&.show-placeholder[data-placeholder]::after{
								left: 0;
								top: 2px;
								font-style: italic !important;
							}
						}

						.error-tip[data-error-tip]::before{
							top: 32px !important;
						}
					}
				}
			}
		}

		& + .topic-replies .reply{
			.whiteboard-container{
				cursor: default;
			}
		}

		&.editor-active ~ .respond {
			.reply-options { display: none; }
			.editor .action.share {display: none !important;}
		}

		.content-callout {
			&:hover{
				&::after {
					content: '';
					position: absolute;
					top: 38px;
					right: 20px;
					opacity: 1;
					background: $icons no-repeat;
					@include sprite($icons,'arrow-next',$dimensions: true);
				}
			}

			&::before {
				content: '';
				position: absolute;
				bottom: -1px;
				left: 90px;
				z-index: 20;
				background: $elements no-repeat;
				@include sprite($elements,'up-border-arrow',$dimensions: true);
			}
		}

		.path,
		.content-callout {
			padding: 16px 36px 0px 16px;
			border-bottom-width: 0;
			cursor: pointer;
			border-color: #eaeaea;
			background: white;

			.icon {
				float: left;
				width: 54px; height: 66px;

				box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.3),
							-1px 1px 3px 0 rgba(0,0,0,0.35);

				background:{
					color: transparent;
					position: center;
					repeat: no-repeat;
					size: cover;
				}

				& + div {
					margin-left: 70px;
					min-height: 65px;
				}
			}

			.location {
				text-transform: uppercase;
				font: normal 600 10px/20px $font;
				color: $tertiary-grey !important;
				overflow: hidden;
				@include ellipse;
			}

			.context{
				overflow: hidden;
				position: relative;
				cursor: pointer;
				height: 64px;

				canvas{
					position: absolute; display:none;
					top: 0; left: 0; right: 0; bottom: 0;
				}

				& > .text {
					position: relative;
					overflow: hidden;
					font: normal 400 16px $font;
					color: $primary-grey;
					display: block;
					height: 48px;
					img { max-width: 50% !important; }
					p{ margin: 0; }
				}

				&.video-context{
					height: 186px;
					& > .text{
						height: 170px;
					}
				}

				&::after {
					content: ' ';
					position: absolute;
					left: 0; right: 0;
					bottom: 0; height: 10px;
					@include background-image(linear-gradient(top, rgba(251,251,251,0) 0%, rgba(251,251,251,1) 100%));
				}
			}
		}

		.path {
			color: $tertiary-grey;
			text-transform: uppercase;
			padding: 0 20px;
			font: normal 700 10px/40px $font;
			min-height: 40px;
			overflow: hidden;
			@include ellipse;

			span.path-part {
				&::after{
					content: ' / ';
				}
				&:last-of-type::after{
					content: '';
				}
			}
		}

		&.deleted-reply{
			.item-spacer{
				min-height: 0;
			}
			.controls{
				display: none;
			}
		}

		.item {
			//position: absolute;
			background: white;
			position: relative;
			z-index: 2;
			border: 1px solid #eaeaea;
			border-top-color: #f0f0f0;
			border-bottom-color: #ececec;
			box-shadow: 0 1px 4px 0px rgba(30, 30, 30, 0.05);
			padding: 0 20px 20px;

			@include like-and-favorite;
			.favorite-spacer{display: none;}
			&.reply {
				.favorite-spacer{display: block;}
			}

			& > * { margin-top: 20px; }
			.controls {margin: 0 -20px 0 0;}

			.avatar {
				float: left;
				width: 60px;
				height: 60px;
				border-radius: 5px;
				background:{
					color: transparent;
					position: center;
					repeat: no-repeat;
					size: cover;
				}
			}

			.meta {
				margin: 20px 70px 0 80px;
				min-height: 60px;
				font: normal 400 12px $font;
				color: $tertiary-grey;
			}

			.stamp {
				margin-top: 5px;
				text-overflow: ellipsis;
				overflow: hidden;

				.name {font: inherit;}

				span{
					&::after{
						color: $tertiary-grey;
						font: normal 500 12px/20px $font;

						position: static;
						content: '\00B7';
						display: inline;
						padding: 0 0.5em;
						background: none;
					}
					&:last-of-type::after {
						content: '';
						display: none;
					}
				}
			}

			.subject, .name.no-subject {
				display: block;
				color: $primary-grey;
				font: normal 300 28px/35px $font;
				max-width: 570px;
				overflow: hidden;
				white-space: nowrap;
				@include ellipse();

				&::after{
					content: '';
					display: none;
				}
			}

			.subject:empty,
			.subject.no-subject{
				display: none;
			}

		}


		.body,.foot{ clear: both; }

		.body{
			margin: 20px 0;
			font: normal 400 16px $font;
			color: $primary-grey;
			@include text-pre-wrap;
		}


		.foot {
			clear: both;
			opacity: 1;
			padding: 0;
			color: $primary-blue;

			div {
				font: normal 400 14px/20px $font;
				cursor: pointer;
				display: inline-block;
				height: 20px;
				opacity: 0.75;
				padding: 0 0 0 0.5em;
				margin: 0;
				&:hover { opacity: 1; &::after{opacity: 0.75;} }
				&::after{
					font: normal 600 14px/20px $font;
					position: static;
					content: '\00B7';
					text-decoration: none !important;
					display: inline;
					padding: 0 0 0 0.5em;
					background: none;
				}
				&:last-of-type::after {
					content: '';
					display: none;
				}
				&.last::after{
					content: '';
					display: none;
				}

				&.flag.on{
					color: $primary-red !important;
				}
			}
		}
	}


	.profile-activity-reply-item {
		position: relative;
		padding: 25px 0 0 20px;
		min-height: 100px;
		@include like-and-favorite;

		.avatar {
			float: left;
			width: 35px; height: 35px;
			border-radius: 3px;
			background:{
				color: transparent;
				position: center;
				repeat: no-repeat;
				size: cover;
			}
		}

		.meta,.body,.reply-options {
			margin-left: 45px;
		}

		.meta {
			.time{
				color: $tertiary-grey;
				text-transform: uppercase;
				font: normal 600 10px $font;
			}
			.name {
				font: normal 400 14px $font;
				color: $primary-blue;
				cursor: pointer;
			}
		}

		.body {
			color: $primary-grey;
			margin-top: 5px;
			font: normal 500 14px/20px $font;

			img {
				max-width: 95%;
			}
		}

		&.deleted-reply{
			.controls{
				display: none;
			}
			.respond{
				display: none;
			}
		}

		&.editor-active {
			.reply-options { display: none; }
			.editor {
				display: block;
				.action.share {display: none !important;}

				.main{
					.error-tip[data-error-tip]::before{
						top: 32px !important;
					}
				}
			}
		}

		.respond {
			margin: 15px 20px 15px 0;

			.reply-options {
				div {
					opacity: 0.6;
					color: $tertiary-grey;
					display: inline-block;
					font: normal 600 10px $font;
					text-transform: uppercase;

					&.link {
						cursor: pointer;
						&:hover {
							opacity: 1;
							&::after{
								opacity: 0.6;
							}
						}
					}


					&::after {
						content: '-';
						text-decoration: none !important;
						font: normal 600 14px/20px $font;
						display: inline;
						padding: 0.5em;
					}
					&.link::after {
						content: '\00B7';
					}

					&.last::after,
					&:last-of-type::after {
						content: '';
						display: none;
					}
				}
			}

			.editor {
				border: 1px solid #dcdcdc;
				margin-top: 10px;

				.main{
					padding-left: 13px;
					padding-right: 13px;

					.error-tip[data-error-tip]::before{
						top: 32px !important;
					}
				}

				.footer{
					background-color: transparent;
					&::after{ display: none; }
				}
			}
		}
	}

	.profile-activity-item,.profile-activity-reply-item{
		.body {
			@include note-body;
		}
	}

	.note-container.child {
		& > .reply.first{
			&::after {
				content: ' ';
				position: absolute;
				overflow: hidden;
				top: 30px; left: 5px;
				background: $icons no-repeat;
				@include sprite($icons,'reply_arrow',$dimensions: true);
			}
		}
		.note-container.child > .reply {
			padding-left: 60px;
			&.first{
				&::after{
					left: 45px;
				}
			}
		}
	}

	.activity-highlight-container {
		background: #fff;
		border: 1px solid #eaeaea;

		.header {
			padding: 0 20px;
			border: {
				style: solid;
				color: #eaeaea;
				width: 0 0 1px 0;
			}
			font: normal 500 14px/38px $font;
			color: $tertiary-grey;
		}

		.box {
			.book {
				clear: both;
				margin: 20px;
				padding-top: 20px;
				border: 0 solid #eaeaea;
				border-top-width: 1px;
				&:first-of-type { border-top-width: 0; padding-top: 0; }

				.icon {
					float: left;
					width: 54px; height: 66px;
					cursor: pointer;

					box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.3),
								-1px 1px 3px 0 rgba(0,0,0,0.35);

					background:{
						color: transparent;
						position: center;
						repeat: no-repeat;
						size: cover;
					}

					& + div {
						margin-left: 70px;
						min-height: 65px;
					}
				}

				.page {
					margin-top: 30px;
					border: 0 solid #eaeaea;
					border-top-width: 1px;

					&:first-of-type {
						margin-top: auto;
						border-top-width: 0;
						.label {
							line-height: 20px;
						}
					}

					.label {
						overflow: hidden;
						@include ellipse;
						color: $tertiary-grey;
						font: normal 600 10px/30px $font;
						text-transform: uppercase;
						cursor: pointer;
					}

					.selected-text {
						cursor: pointer;
						position: relative;
						margin: 0 0 20px 0;
						left: -3px;
						span {
							// color: #076da7;
							// background-color: #e1f4fe;
							font: normal 400 14px/16px $font;
							& > span {
								position: relative;
								display: inline-block;
								padding: 3px;
								margin: 2px 0;

								&:last-child::after {
									content: ' ';
									display: block;
									position: absolute;
									right: -7px;
									width: 0;
									height: 0;
									border: {
										style: solid;
										color: transparent;
										width: 21px 7px 0 0;
									}
									//border-top-color: #e1f4fe;
									top: 0;
								}
							}
						}
						@include highlight-colors($selector:'span > span',$nibselector: '& > span:last-child::after' );
					}
				}
			}
		}
	}
}

.meta-editor,
.name-editor{
	overflow: visible;
	border: 1px solid #dbdbdb;
	background: #fff;

	.input-wrap, .textbox-base {
		max-width: 854px;
		input {
			border-radius: 0;
			border-width: 0;
			box-shadow: none;
			color: $primary-grey;
			font: normal 300 20px/normal $font;
			padding-top: 0;
			padding-bottom: 0;
			padding-right: 25px;
			//height: 25px;
		}
		.clear {
			top: 5px;
		}
	}

	.controls{
		position: absolute;
		overflow: hidden;
		right:-126px;
		top:-1px;
		bottom: -1px;

		.save,
		.cancel{
			padding: 0 8px;
			height: 100%;
			line-height: 25px;
			font-weight: bold;
			display: block;
			float: left;
			background: #ebebeb;
			border: 1px solid #dbdbdb;
			color: $secondary-grey;
			cursor: pointer;
		}

		.save {
			border-color: $primary-blue;
			background: $primary-blue;
			color: #fff;
		}
	}
}

.name-editor {
	border-right-width: 0;
	margin-left: -1px;

	.input-wrap, .textbox-base{
		input{
			font: normal 600 1.6em/35px 'Open Sans Condensed', $font;
			height: 40px;
			padding-left: 20px;
			padding-right: 30px;
		}
		.clear {
			top: 12px;
			right: 24px;
		}
	}

	.controls{
		.save,
		.cancel{
			line-height: 40px;
		}
	}
}


.profile-about,
.profile-head{
	position: relative;

	.meta {
		font: normal 500 14px/24px $font;
		color: $secondary-grey;

		.placeholder{
			color: $tertiary-grey !important;
			font-style: italic !important;
		}

		.separator{
			position:relative;
			//z-index: -2;
		}

		[data-field=role], [data-field=affiliation] {
			display: inline-block;
			white-space: nowrap;
		}

		.editable[contenteditable=true] {
			display: block;
			padding: 3px;
			border: 1px solid #efefef;
			background-color: white;
			min-height: 38px;

			&:focus {
				border-color: $primary-blue;
			}

			&[data-field=affiliation] {
				margin-bottom: 5px;
				min-height: 23px;
			}

			&[data-field=role] {
				min-height: 32px;
			}

			&[data-field=about] {
				width: 100%;
				min-height: 146px;
			}
		}

		.email-verification{
			display: inline-block;
			width: 150px;
			position: relative;

			.email-verified {
				width: 30px;
				height: 30px;
				display: inline-block;
				margin-left: 5px;

				@include icon('ico_enrollment_circhlecheck', $top: 9px, $right: 5px, $left: auto);
			}

			.email-not-verified {
				color: $primary-blue;
				padding: 0 7px;
				cursor: pointer;
			}

			.info {
				width: 40px;
				height: 30px;
				@include icon('info_active', $top: 3px, $left: 0);
			}

			.x-mask {
				opacity: 0.6;
				background: rgba(0,0,0, 0.9);
			}

			.x-mask-msg-text{
				color: #ffffff;
			}
		}

		.editable[contenteditable=true] + .email-verification{
			display: none;
		}

		.error-msg{
			margin-top: 4px;
			color: red;
			font-style: italic;
			font-weight: 300;
			&::before{
				content: '*'
			}
		}
	}

	.label {
		[data-field].editable::after {
			top: -1px;
		}
	}
}

.profile-achievements {
	min-height: 100%;
	background: $panel-background;

	.empty-achievements-text {
		color: $tertiary-grey;
		font: normal 300 2em $font;
		margin: 2em auto;
		width: 500px;
		text-align: center;
	}

	.course-badges {
		background-color: white;
		padding: 25px 8px 0 8px;
		width: 100%;
		border-bottom: 1px solid #f0f0f0;
		box-shadow: 0 1px 0 0 white;

		&.empty {
			padding: 0;
			border-bottom: 0;
			box-shadow: none;
		}
	}

	.completed,.current{
		float: left;
		$columnWidth: 128px + 16px;

		&[data-columns='1'] {
			width: $columnWidth;
		}

		&[data-columns='2'] {
			width: $columnWidth * 2;
		}

		&[data-columns='3'] {
			width: $columnWidth * 3;
		}

		&[data-columns='4'] {
			width: $columnWidth * 4;
		}

		&[data-columns='5'] {
			width: $columnWidth * 5;
		}

		&[data-columns='6'] {
			width: $columnWidth * 6;
		}

		&[data-columns='7'] {
			width: $columnWidth * 7;
		}

		.empty-badge-text {
			width: 400px;
		}
	}

	.achievements {
		padding: 20px;
		float: left;
		width: 100%;

		.empty-badge-text {
			width: 100%;
		}
	}

	.completed,.current,.achievements {

		.header-container {
			height: 14px;
			padding-left: 5px;
		}

		.header {
			color: $tertiary-grey;
			font: normal 600 0.6em/14px $font;
			text-transform: uppercase;
			float: left;
			clear: both;
		}

		.nti-checkbox {
			color: $tertiary-grey;
			font: normal 600 0.6em/14px $font;
			text-transform: uppercase;
			float: right;
			margin: 0 10px;
		}

		.empty-badge-text {
			color: $tertiary-grey;
			font: italic 400 0.9em/20px $font;
			margin-top: 20px;
		}
	}

	.badge {
		margin: 8px;
		width: 128px;
		height: 148px;
		float: left;
		position: relative;
		cursor: pointer;

		&.earnable {
			opacity: 0.5;
		}

		.img {
			width: 128px;
			margin: 0 auto;
			height: 128px;
			background-size: contain;
		}


		.title {
			color: $primary-grey;
			padding: 0 3px;
			max-height: 20px;
			position: absolute;
			bottom: 0px;
			left: 0px; right: 0px;
			font: normal 600 0.9em/20px $font;
			text-align: center;
			background-color: rgba(255,255,255,0.95);
			overflow: hidden;
			@include ellipsis;
			transition: all 0.5s ease;
		}

		.export {
			width: 30px;
			height: 30px;
			display: none;

			@include icon('download_hover', $top: 5px, $left: 5px);

			&:active, &:hover {
				@include icon('download_active', $top: 5px, $left: 5px);
			}
		}

		&:hover {
			.title {
				max-height: 100%;
				white-space: normal;
			}

			.export {
				display: block;
			}
		}
	}
}

.profile-about {
	&:not(.editing) .edit-only {
		display: none !important;
	}

	.left {
		width: 75%;
		float: left;
	}

	.right {
		width: 25%;
		float: right;
		padding-left: 5px;
	}

	h2 {
		color: $primary-grey;
		margin: 0;
		font-weight: 300;
		padding-bottom: 5px;
		margin-bottom: 0.5em;
		border-bottom: 1px solid #e8e8e8;
	}

	.error-message {
		margin-top: 5px;
		background-color: $primary-red;
		color: white;
		line-height: 40px;
		text-align: center;
	}

	.fieldset {
		margin-top: 5px;
		padding: 20px 40px;
		background-color: white;

		.field-label {
			font-size: 0.625em;
			font-weight: 600;
			text-transform: uppercase;
			color: $tertiary-grey;
			display: block;
			margin-top: 1em;

			&.required::after {
				content: '*';
				color: $primary-red;
			}
		}
	
		&.about {
			box-shadow: inset 5px 0 0 0 #fc9f77;
		}

		&.education {
			box-shadow: inset 5px 0 0 0 #fdcf61;
		}


		&.positions {
			box-shadow: inset 5px 0 0 0 #7ecfc8;
		}

		&.interests {
			box-shadow: inset 5px 0 0 0 #c671c1;
		}

		.error-msg {
			color: #F35252;
			font-size: 0.625em;
			text-transform: uppercase;
			font-weight: 800;
		}

		.editable {
			&[contenteditable="true"] {
				color: $primary-grey;
				border: 1px solid #e8e8e8;
				line-height: 1.5em;
				padding: 0.25em;
				max-height: 35px;
				overflow: hidden;

				&:focus {
					border-color: $tertiary-grey;
				}

				&.multi-line {
					min-height: 8em;
					max-height: 30em;
				}

				&.error {
					border: 1px solid $primary-red;
				}

				&:empty::before {
					content: 'empty';
					visibility: hidden;
				}
			}
		}
	}

	.about {
		.field.alias.request {
			display: inline-block;
			line-height: 15px;
			color: $primary-blue;
			padding-right: 20px;
			cursor: pointer;

			@include icon('edit-15', $left:auto, $top: 0, $right: 0);
		}

		.field.about {
			color: $primary-grey;
			font-size: 0.875em;
		}
	}

	.interests {
		overflow: hidden;

		.interest {
			display: inline-block;
			vertical-align: bottom;
			width: 222px;
			overflow: hidden;
			white-space: nowrap;
			@include ellipse;
			padding: 0.75em 25px 0.75em 0.75em;
			font-weight: 600;
			background: #f4f4f4;
			box-shadow: 0 0 0 1px #e8e8e8;
			margin-top: 0 !important;
			margin-bottom: 10px;
			margin-right: 10px;
			position: relative;
			transition: width 0.3s, padding 0.3s;

			&:nth-of-type(3n){
				margin-right: 0;
			}

			&.pending {
				opacity: 0.7;
			}

			&.removing {
				width: 0;
				padding-left: 0;
				padding-right: 0;
			}

			&.new-field[contenteditable="true"] {
				background-color: white;
				border: none !important;
				box-shadow: 0 0 0 1px #e8e8e8;
				padding: 0.75em 25px 0.75em 0.75em;
				max-height: 40px;

				&:focus {
					box-shadow: 0 0 0 1px $tertiary-grey;
				}
			}

			.remove {
				position: absolute;
				width: 10px;
				height: 10px;
				top: 15px;
				right: 10px;
				opacity: 0.7;
				cursor: pointer;

				@include icon('message_box_close', $position: absolute);

				&:hover {
					opacity: 1;
				}
			}
		}
	}


	.groupset {
		font-size: 0.875em;
		color: $primary-grey;

		.entry-container {
			position: relative;
		}

		.entry-container:not(:first-of-type) {
			margin-top: 3em;
		}

		.remove-entry {
			display: none;
			position: absolute;
			height: 10px;
			width: 10px;
			top: 0; right: -20px;
			cursor: pointer;

			@include icon('message_box_close', $position: absolute);
		}

		.school, .company {
			font-weight: 700;
		}

		.wrap {
			overflow: hidden;
		}

		.degree-container,
		.title-container,
		.start-container,
		.end-container {
			display: inline-block;
			vertical-align: bottom;

			.field-label {
				display: block;
			}
		}

		.degree, .field.title{

			&[contenteditable="true"] {
				min-width: 500px;
			}

			&:not(:empty){
				margin-right: 1em;

				&::after {
					content: ','
				}
			}
		}


		.end:not(:empty) {
			&::before {
				content: '\2013';
				margin: 0 0.5em;
			}
		}

		.description {
			margin-top: 0.5em;
			font-style: italic;
		}

		.add {
			cursor: pointer;
			display: inline-block;
			padding: 0 2em;
			margin-top: 1em;
			line-height: 40px;
			background-color: $primary-blue;
			color: white;
			text-align: center;
		}
	}

	&.editing {
		.groupset {
			.entry-container {
				.remove-entry {
					display: block;

					&:hover + .entry {
						background-color: #f8f8f8;
						  box-shadow: 20px 0 0 6px #f8f8f8, -10px 0 0 6px #f8f8f8;
					}
				}
			}

			.degree-container,
			.title-container,
			.start-container,
			.end-container {
				margin-right: 1em;
			}

			.degree::after,
			.field.title::after {
				display: none;
			}


			.end::before {
				display: none;
			}
		}
	}
}

.memberships-container {
	margin-top: 5px;
}

.memberships {
	background: white;
	padding: 20px;


	&.full {
		.title {
			font-size: 1.5em;
			font-weight: 300;
			color: $primary-grey;
			margin-bottom: 20px;
		}

		.empty-text {
			text-align: center;
			color: $tertiary-grey;
			font-size: 1.75em;
			font-weight: 300;
		}

		.entry {
			display: inline-block;
			width: 320px;
			height: 72px;
			background-color: #f7f7f7;
			margin: 0 10px 10px 0;
			box-shadow: 0 0 1px 1px #b8b8b8;
			cursor: pointer;

			&:nth-of-type(3n) {
				margin-right: 0;
			}

			.avatar {
				width: 72px;
				height: 72px;
				float: left;
				margin-right: 9px;
			}

			.name {
				line-height: 40px;
				max-width: 240px;
				white-space: nowrap;
				overflow: hidden;
				@include ellipse();
			}
		}
	}

	&.preview {
		margin-top: 5px;
		padding: 20px 20px 0;

		.title {
			font-size: 1.25em;
			font-weight: 300;
			margin-bottom: 10px;
			color: $primary-grey;
		}

		.entry {
			height: 40px;
			cursor: pointer;

			.avatar {
				width: 40px;
				height: 40px;
				margin-right: 9px;
				float: left;
			}

			.name {
				display: inline-block;
				line-height: 20px;
				max-width: 160px;
				white-space: nowrap;
				overflow: hidden;
				@include ellipse;
				margin: 5px 0;
			}
		}

		.see-all {
			text-align: center;
			color: $primary-blue;
			font-size: 0.875em;
			line-height: 2em;
			cursor: pointer;
		}
	}
}


.badge-window{
	.export {
		.x-btn-button {
			width: 30px;
			height: 30px;
			padding: 5px;

			.x-btn-inner{
				display: none;
			}

			.x-btn-icon-el{
				&.export-icon{
					@include icon('download_hover', $top: 0, $left: 0);

					&:active, &:hover {
						@include icon('download_active', $top: 0, $left: 0);
					}
				}
			}
		}
	}
}
