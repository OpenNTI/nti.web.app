.main-navigation {
	@include flexContainer();

	.branding {
		cursor: pointer;
		height: $header-height;
		background-size: cover !important;
		background: url(../images/elements/nav-asset.png) center center no-repeat;
		min-width: 72px;
		margin-right: 10px;
	}

	.back-container {
		@include flexItem(0 0 auto);

		.back {
			display: none;
			width: 70px;
			height: 70px;
			float: left;
			cursor: pointer;
			opacity: 1;
			left: 0;
			transition: opacity 0.5s, left 0.5s;

			@include icon('overlay_close_x_dark', $top: 50%, $left: 50%);

			&::after {
				margin-top: -16px;
				margin-left: -12px;
				opacity: 0.7
			}

			&.disabled {
				cursor: defalut;

				&::after {
					opacity: 0.5;
				}

				&::hover::after {
					opacity: 0.5;
				}
			}

			&:hover::after {
				opacity: 1;
			}
		}
	}

	.nav-container {
		@include flexItem(1 1 auto);
		position: relative;
		left: 0;
	}

	.search-container {
		@include flexItem(1 1 auto);
		position: relative;

		.search-field-wrap {
			position: absolute;
			top: 0; bottom: 0;
			right: 0;
			width: 100%;
			transition: width 0.5s;
		}
	}

	.icons {
		@include flexItem(0 0 auto);
		@include flexContainer();
		justify-content: flex-end;


		& > div {
			@include flexItem(0 0 auto);
		}

		.chat-notification-container {
			display: none;
			@media #{$hide-chat-break-point} {
				display: block;
			}
		}
	}

	&.hide-branding {
		.back-container {
			.branding {
				display: none;
			}

			.back {
				display: block;
			}
		}
	}

	&.removing-nav {
		.nav-container {
			position: absolute;
			transition: left 0.3s;
			left: -1000px;
			flex: none;
		}

		.search-container {
			.search-field-wrap {
				width: 100%;
			}
		}
	}
}

.main-navigation.no-nav {
	.nav-container {
		display: none;
		left: 0;
	}

	.back-container, .icons {
		@include flexBasis(190px);
	}

	.icons {
		@media #{$hide-chat-break-point} {
			& {
				@include flexBasis(190px !important);
			}
		}
	}

	.search-container {
		.search-field-wrap {
			width: 100%;
		}
	}
}

.main-navigation.has-nav {
	.search-container {
		@include flexBasis(150px);

		.search-field-wrap {
			max-width: 200px;

			.search-field {
				width: 100%;
			}
		}
	}
}

// .main-navigation {
// 	.nav-container {
// 		float: left;
// 		height: 100%;
// 		position: relative;
// 		z-index: -1;
// 		left: 0;
// 		transition: left 0.5s;
// 	}

// 	.search-container {
// 		position: absolute;
// 		top: 0; bottom: 0;
// 		right: 140px; //70 for the identity and 70 for the notifications
// 		width: 200px;
// 		transition: width 0.5s, right 0.5s, margin-right 0.5s;
// 	}

// 	.identity-container {
// 		float: right;
// 	}

// 	.notification-container {
// 		float: right;
// 	}

// 	.chat-notification-container {
// 		float: right;
// 		display: none;
// 	}

// 	.back-container {
// 		float: left;
// 		height: 100%;
// 		margin-right: 10px;
// 	}

// 	.branding {
// 		display: block;
// 		height: 100%;
// 		background-size: cover !important;
// 		background: url(../images/elements/nav-asset.png) center center no-repeat;
// 		min-width: 72px;
// 		cursor: pointer;
// 	}

// 	.back {
// 		display: none;
// 		width: 70px;
// 		height: 100%;
// 		float: left;
// 		cursor: pointer;
// 		opacity: 1;
// 		left: 0;
// 		transition: opacity 0.5s, left 0.5s;

// 		@include icon('overlay_close_x_dark', $top: 50%, $left: 50%);

// 		&::after {
// 			margin-top: -16px;
// 			margin-left: -12px;
// 			opacity: 0.7
// 		}

// 		&.disabled {
// 			cursor: defalut;

// 			&::after {
// 				opacity: 0.5;
// 			}

// 			&::hover::after {
// 				opacity: 0.5;
// 			}
// 		}

// 		&:hover::after {
// 			opacity: 1;
// 		}
// 	}

// 	&.hide-branding {
// 		.branding {
// 			display: none;
// 		}

// 		.back {
// 			display: block;
// 		}
// 	}

// 	&.search-focused, &.no-nav {
// 		.nav-container {
// 			left: -100%;
// 		}

// 		.search-container {
// 			right: 50%;
// 			width: 600px;
// 			margin-right: -300px;

// 			@media screen and (max-width: 960px) {
//     			width: 480px;	
//     			margin-right: -180px;
// 			}
// 		}
// 	}

// 	&.has-chat-tab {
// 		&:not(.no-nav) {
// 			.search-container {
// 				right: 210px;
// 			}
// 		}

// 		.chat-notification-container {
// 			display: block;
// 		}
// 	}
// }