

canvas.x-component-course-assessment {
	& + .label {
		top: 14px;
	}

	&.grade {
		width: 224px;
		height: 200px;
	}

	&.performance {
		//width: 100%;
		height: 200px;

		& + .label {
			left: 250px;

			.you {
				color: #40b450;
			}

			span + span::before {
				content: '\00B7';
				margin: 0.5em;
			}
		}
	}
}


.timed-placeholder {
	font-size: 1rem;
	padding: 0 60px 0 35px;
	overflow: hidden;
	position: relative;
	margin-top: 70px;

	.header {
		color: #494949;
		display: block;
		font-size: 31px;
		font-weight: 200;
		border: none;
		margin-bottom: 0.5em;
	}

	.nti-alert {
		position: absolute !important;
		width: 62%;
		top: 250px;
		@include experimental(transform, translateY(-50%));
		left: 50%;
		margin-left: -31%;
		box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.3);
		background: white;

		.alert-container {
			@include experimental(animation-name, none);
		}

		.message-container {
			@include icon($assignment-timed, $top: -5px, $left: 25px);
		}

		.title {
			color: $secondary-green;
		}

		.bold {
			font-weight: 600;
		}

		.red {
			font-weight: 500;
			color: $primary-red;
		}

		&::after {
			display: none;
		}
	}

	.fake-questions {
		.question {
			background: #fbfbfb;
			border: 1px solid #e2e2e2;
			border-radius: 3px;
			box-shadow: 0px 1px 2px 1px rgba(0, 0, 0, 0.08);
			margin-bottom: 30px;

			.prompt {
				background: #ffffff;
				color: #494949;
				overflow: hidden;
				position: relative;
				padding: 17px 40px 15px 40px;

				.line {
					width: 80%;
					height: 2em;
					margin-bottom: 1em;
					background-color: #f6f6f6;

					&:last-of-type {
						margin-bottom: 0;
					}

					&.long {
						height: 5em;
					}
				}
			}

			.answer-container {
				margin: 0;
				border-radius: 0 0 3px 3px;
				border: 0px solid #e2e2e2;
				border-top-width: 1px !important;
				padding: 20px;

				.answers {
					position: relative;
					min-height: 38px;
					background: #ffffff;
					border: 1px solid #b8b8b8;

					.answer {
						position: relative;
						color: #494949;
						vertical-align: middle;
						min-height: 38px;
						background: #ffffff;
						border: 0px solid #b8b8b8;
						border-bottom-width: 1px;
						padding-left: 54px;

						&:last-of-type {
							border-bottom-width: 0;
						}

						@include icon($radio-button-16, $side: before, $top: 11px, $left: 10px);

						&::after {
							content: '';
							position: absolute;
							top: 50%;
							@include experimental(transform, translateY(-50%));
							left: 54px;
							height: 1.5em;
							width: 80%;
							background-color: #f6f6f6;
						}
					}
				}
			}
		}
	}
}

.course-assessment-view.navigation-panel {
	padding-top: 20px;
	.body-view {
		background: white;
		padding-top: 0;
	}
}

.assignment-due-date-editor {
	.inline-publish-editor > .label, .inline-due-date-editor > .label {
		font-size: 0.875em;
		line-height: 14px;
		color: $primary-grey;
		margin: 0.5em 0 0 -25px;

		&.available-now {
			margin-bottom: 1em;
		}

		.nti-checkbox {
			display: inline-block;
			vertical-align: middle;
			margin-right: 11px;
		}

		.nti-radio {
			display: inline-block;
			vertical-align: middle;
			margin-right: 9px;
		}

		label {
			padding-left: 25px;
			font-weight: 600;
		}

		&.disabled {
			opacity: .3;
		}
	}


	.contents > .error {
		font-size: 0.875em;
		line-height: 40px;
		color: $primary-red;
	}

	.footer {
		background-color: white;
		border-top: 1px solid #d9d9d9;
		overflow: hidden;

		.save, .cancel {
			float: right;
			line-height: 40px;
			padding: 0 1.75em;
			font-size: 0.875em;
			color: $secondary-grey;
			cursor: pointer;
		}

		.save {
			background-color: $primary-blue;
			color: white;
		}
	}

	.x-mask-msg {
		z-index: 1;
	}


	.inline-publish-editor {
		margin-bottom: 1.5rem;

		.container {
			&.hidden {
				display: none;
			}

			.publish-label, .schedule-label, .draft-label {
				font-size: 0.875rem;
				font-weight: 300;
			}
		}
	}

	.inline-due-date-editor {
		margin-bottom: 1.5rem;
	}
}


.inline-reset-menu {
	.publish-reset-label {
		display: block;
		font-size: 0.875rem;
		color: #494949;
		font-family: $font;
		margin: 0 1.25rem 0.25rem 0;
	}
	.publish-reset-text {
		display: block;
		font-size: 0.75rem;
		line-height: 1.3;
		color: #757474;
		margin: 0 1.25rem 1.25rem 0;
	}
	.publish-reset {
		display: block;
		height: 2rem;
		border-radius: 0.25rem;
		color: white;
		text-align: center;
		vertical-align: middle;
		line-height: 2rem;
		font-weight: 100;
		font-size: 0.875rem;
		font-family: $font;
		background-color: #F35252;
		width: 140px;
		cursor: pointer;
	}
}

.assignment-status {
	font: normal 600 0.6rem/1 $font;
	text-transform: uppercase;
	color: $tertiary-grey;

	* {
		display: inline;
	}

	.status-item{

		&:last-of-type::after {
			display: none;
		}

		&::after {
			content: '\b7';
			font-size: 1.2em;
			vertical-align: middle;
			margin: 0 0.3em;
		}
	}

	.completed {
		.completed-label {
			margin-right: 0.3em;

			&.ontime {
				color: $secondary-green;
			}
		}

		.completed-errors {
			color: $primary-red;
			margin-right: 0.3em;
		}
	}

    .excused{
        padding-left: 6px;
        color: $primary-red;
    }

	.due{
		&.today {
		 color: $primary-orange;
		}

		&.late {
			color: $primary-red;
		}

		&.nosubmit {
			color: $tertiary-grey;
		}
	}
}


.x-component-course-assessment {
	&.nav-outline{
		position: relative;
		background: #f5f4f4;

		&::after {
			content: '';
			position: absolute;
			top: 0; bottom: 0;
			right: 0; width: 10px;
			background: none;
			overflow: hidden;
			box-shadow: inset -2px 0 3px -2px rgba(0, 0, 0, 0.3);
			z-index: 2;
		}

		.header {
			background: none;
			box-shadow: inset 0 -1px 0 0 #e0e0e0;
			color: $secondary-grey;
		}

		.outline-list {
			margin-top: 10px;
		}

		.outline-row {
			background: none;
			.count {
				font-size: 0.7em;
				line-height: 1;
				top: 1.1em;
				right: 10px;
				position: absolute;
				border-radius: 10em;
				padding: 0.4em 0.8em 0.3em;
				color: #fff;
				background: $primary-blue;

				&.hidden {
					display: none
				}
			}


			&.over {
				background: #f0f0f0;
			}

			&.x-item-selected {
				background: $primary-blue;

				.count {
					color: $primary-blue;
					background: #fff;
				}
			}
		}
	}


	&.course-assessment-activity {
		overflow: {x: hidden; y: auto;}
		color: $primary-grey;
		padding: 10px 30px;
		.header {
			font: normal 300 1.5em/2 $font;
		}

		.empty-text {
			color: $tertiary-grey;
			font: normal 300 2em $font;
			margin: 2em auto;
			width: 500px;
			text-align: center;
		}

		.list {
			position: relative;

			.item {
				cursor: pointer;
				position: relative;
				font: normal 400 0.9em/3 $font;

				&.unread {
					font-weight: 600;
					&::before {
						content: '';
						background: $primary-blue;
						position: absolute;
						overflow: hidden;
						border-radius: 10em;
						width: 0.3em; height: 0.3em;
						top: 1.3em; left: -1em;
					}
				}

				time {
					float: right;
					width: 5em;//allow this to line up as if it were a 'left aligned column'.
					color: $tertiary-grey;
					font: normal 300 1em/3 $font;
				}

				.target {
					color: $primary-blue;
				}
			}
		}
		.more {
			&.hidden {visibility: hidden;}
			display: block;
			font: normal 600 0.7em/2 $font;
			text-align: center;
			text-transform: uppercase;
			text-decoration: none;
			color: $primary-blue;
			margin: 2em;
			cursor: pointer;
		}
	}
}

.assignment-list {
	&.admin {
		position: relative;

		.x-container.grouping {
			& > .header {
				.title {
				    width: 85%;
				    text-overflow: ellipsis;
				    white-space: nowrap;
				    overflow: hidden;
				}
			}
		}

		.group-header {
			position: absolute;
			text-transform: uppercase;
			right: 0;
			top: -2.5em;
			font-size: 0.6em;
			font-weight: 600;
			color: $tertiary-grey;
			width: 10.77em;
		}

		.item {
			@include icon($assignment_due_small, $top: 17px, $left: 16px);

			&.late {
				&::after {
					@include sprite($assignment_late_small);
				}
			}
			&.nosubmit {
				&::after {
					@include sprite($assignment_due_small);
				}
			}

			.score .completed:not(.c0) {
				color: $primary-green;
			}
		}
	}

	.item {
		min-height: 39px;
		position: relative;
		padding: 10px 0 0 60px;
		box-shadow: 0 1px 0 0 #f7f7f7;
		cursor: pointer;

		&:first-of-type {
			box-shadow: 0 -1px 0 0 #f2f2f2, 0 1px 0 0 #f7f7f7;
		}

		@include icon($check_gray, $top: 22px, $left: 25px);

		&.no_submit {
			&, &:hover, &.selected { cursor: default !important; }
		}

		&.closed {
			&, &:hover, &.selected {
				cursor: default !important;
				background: none !important;
			}

			.name, .points, &::after {
				opacity: 0.5;
			}
		}

		&:not(.editor-open):hover, &.selected {
			background: #fafafa;

			.report{
				display: block;
			}
		}

		&.completed {
			.status time.completed { display: block; }
			.status time.due { display: none; }

			&::after {
				@include sprite($check_green);
			}

		}

		&.editor-open {
			box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.3);
			z-index: 1;
		}

		&.editable {
			.name {
				// margin-right: 10rem;
			}
		}

		.points {
			color: $primary-grey;
			font: normal 600 0.9em/2 $font;
			display: inline-block;
		}

		.name {
			font: normal 500 0.9em/2 $font;
			color: $primary-grey;
			margin-right: 0.5em;
		}

		.status {
			text-transform: uppercase;
			font: normal 600 0.6em/1 $font;
			color: $tertiary-grey;
			float: left;

			&.due {
				color: $primary-red;
			}

			.completed { display: none; }
			.due { display: block; }
		}

		.timed {
			margin-left: 0.5em;
			text-transform: uppercase;
			font: normal 600 0.6em/1 $font;
			color: $primary-blue;
			float: left;
		}

		.edit-assignment {
			float: right;
			font: normal 300 0.875rem/3 $font;
			color: $primary-blue;
			padding-right: 1rem;
			cursor: pointer;
		}

		.score {
			white-space: nowrap;
			font: normal 400 0.875em/3 $font;
			color: $tertiary-grey;
			width: 8em;
			float: right;

			.correct {
				color: $primary-green;
			}
		}

		.report {
			display: none;
			top: 22px;//60/2 - 16/2
			right: 31px;
			@include icon($reports-gray_hover, $position:absolute);

			&:hover {
				@include icon($reports-blue_hover, $position:absolute);
			}
		}

		.assignment-status-container {
			margin-left: -60px;

			.status-container {
				padding: 0 8em 10px 60px;
			}

			.assignment-due-date-editor > .contents {
				padding: 20px 0 0 60px;
			}

			.menu-container {
				width: 100%;
				background: #fafafa;

				.assignment-due-date-editor {
					border-top: 1px solid #d9d9d9;
				}
			}
		}
	}
}

.assignment-list-empty {
	font: italic 300 1.5em/1.5 $font;
	color: $primary-grey;
	text-align: center;
	margin-top: 50px;
}


.assignment-status-container {
	position: relative;

	&.editable:not(.disabled) {
		.assignment-status {
			.status-item.due {
				cursor: pointer;
				position: relative;
				margin: -2px 0 -2px -9px;
				padding: 2px 20px 2px 9px;
				border-radius: 20px;

				&:hover {
					background-color: #EAEAEA;
					color: $secondary-grey;

					&::after {
						border-top-color: $secondary-grey;
					}
				}

				&::after {
					content: '';
					@include arrow($pointFrom: top, $color: $tertiary-grey);
					position: absolute;
					top: 50%;
					margin-top: -3px;
					right: 9px;
				}

				&.late {
					&:hover {
						color: $primary-red;

						&::after {
							border-top-color: $primary-red;
						}
					}

					&:not(.nosubmit)::after {
					    border-top-color: $primary-red;
					}
				}
			}
		}
	}

	&.menu-open {
		&.editable:not(.disabled) .assignment-status .status-item::after {
			transform: rotate(180deg);
			margin-top: -6px;
		}

		.menu-container {
			max-height: 500px;
		}
	}

	.menu-container {
		max-height: 0;
		transition: max-height 0.5s;
		overflow: hidden;
	}
}


.pager-settings {
	.x-menu-item.x-menu-item-separator.labeled-separator {
		background: none !important;
		border-top: none;
		margin-bottom: 0;

		span {
			left: 15px;
			padding: 0;
		}
	}

	.x-menu-item.x-menu-item-checked, .x-menu-item.x-menu-item-unchecked {
		padding: 0 15px;
		line-height: 30px;

		&::after {
			display: none;
		}
	}

	.x-menu-item.x-menu-item-checked:not(.avatar-toggle) {
		background-color: $primary-blue;
		color: white !important;

		&.x-menu-item-active {
			background-color: $primary-blue !important;
		}
	}

	.x-menu-item.avatar-toggle {
		padding-left: 40px;

		&.x-menu-item-unchecked {
			@include icon($checkbox-light-unchecked, $position: relative, $side: before, $top: 5px, $left: 15px);
		}

		&.x-menu-item-checked {
			@include icon($checkbox-light-checked, $position: relative, $side: before, $top: 5px, $left: 15px);
		}
	}
}

.pager-settings.page {
	font-size: 0.875em;
}

.course-assessment-header, .course-assessment-admin {
	.admin-list-header {
		background: $quad-grey;
		position: relative;
		border-bottom: 1px solid #dddddd;

		.header-container {
			@include containFloats();
		}

		&.disabled {
			.page, .controls {
				opacity: 0.6;
				pointer-events: none;
			}

			.assignment {
				.meta, .extras {
					span.link {
						opacity: 0.6;
						cursor: default;
					}
				}
			}
		}

		&::after {
			content: '';
			box-shadow: 0 -5px 15px 5px rgba(0,0,0,0.2);
			position: absolute;
			right: 0;
			bottom: 0;
			left: 0;
			height: 100px;
			clip: rect(100px, auto, 150px, auto);
			background: #dddddd;
			border-radius: 40em / 10px;
		}

		.assignment {
			margin-bottom: 0.5em;
			float: left;
			max-width: 420px;

			.title {
				font: normal 300 1.3em/1.5 $font;
				color: $primary-grey;
				overflow: hidden;
				@include ellipsis();
			}

			.extras {
				margin-top: 0.125em;
			}

			.meta {
				font: normal 600 0.6em/1 $font;
				text-transform: uppercase;
				color: $tertiary-grey;
				margin-top: 1em;

				span {
					display: inline-block;
					&.link { color: $primary-blue; cursor: pointer; }

					&::before {
						content: '\00B7';
						margin: 0.5em;
						color: $tertiary-grey;
					}
					&:first-of-type::before {
						content: none;
					}
				}

				.arrow::after {
					top: -0.1em;
				}

				.due.arrow {
					padding-right: 13px;

					&::after {
						right: 0;
					}
				}

				.status-item {
					color: $primary-blue;
				}
			}

			&.hidden {
				display: none;
			}
		}

		.editor-container {
			clear: both;
		}

		.assignment-status-container {
			margin: 0 -150px -0.5em -2em;

			.status-container {
				display: none;
			}

			.assignment-due-date-editor {
				& > .contents {
					padding: 0 0 0 56px;
				}
			}
		}

		.controls {
			background: #fff;
			border: 1px solid #e3e3e3;
			border-radius: 3px;
			white-space: nowrap;
			line-height: 0;
			position: absolute;
			right: 15px;

			.request, .export, .settings {
				display: inline-block;
				cursor: pointer;
				width: 42px;
				height: 36px;
				overflow: hidden;
				white-space: nowrap;

				&.hidden {
					display: none;
				}
			}

			.request {
				@include icon($mail, $position: relative, $top: 10px, $left: 10px);

				&:hover {
					@include icon($mail_hover, $position: relative, $top: 10px, $left: 10px);
				}
			}

			.export {
				@include icon($download, $position: relative, $top: 8px, $left: 10px);

				&:hover {
					@include icon($download_hover, $position: relative, $top: 8px, $left: 10px);
				}
			}

			.settings {
				@include icon($settings-28x17, $position: relative, $top: 9px, $left: 10px);

				&:hover {
					@include icon($settings-28x17_hover, $position: relative, $top: 9px, $left: 10px);
				}
			}
		}

		.page {
			overflow: hidden;
			display: inline-block;
			line-height: 36px;
			height: 65px;

			.viewing {
				cursor: pointer;
				float: left;
				width: 200px;
				background-color: white;
				border: 1px solid #e3e3e3;
				border-radius: 3px;
				font-weight: 400;
				font-size: 0.875em;
				color: $secondary-grey;
				padding: 0 15px 0 10px;

				.empty {
					display: none;
				}

				&.empty {
					cursor: default;

					.empty {
						display: block;
					}

					.count {
						display: none;
					}

					&:hover {
						color: $secondary-grey;
					}

					&::after {
						display: none;
					}
				}

				@include icon($mv-dropdown-arrow_hover, $position: relative, $side: after, $top: 16px, $left: auto, $right: 15px);

				&:hover {
					color: $primary-grey;
					@include icon($mv-dropdown-arrow, $position: relative, $side: after, $top: 16px, $left: auto, $right: 15px);
				}
			}
		}
	}

	td.page-row {
		background-color: $panel-background;
		text-align: center;
		height: 60px;
		color: $tertiary-grey;
		font-size: 1.25em;
		cursor: pointer;

		@include icon($arrow-next_hover, $position: relative, $side: after);

		&:hover {
			color: $secondary-grey;

			@include icon($arrow-next, $position: relative, $side: after);
		}

		&.nextPage {
			padding-bottom: 20px;

			&::after {
				top: auto;
				bottom: 10px;
				left: 50%;
				margin-left: -6px;
				transform: rotate(90deg);
				-webkit-transform: rotate(90deg);
			}

			&::before {
				content: '';
				box-shadow: 0 -5px 15px 5px rgba(0,0,0,0.2);
				position: absolute;
				right: 0;
				top: -100px;
				left: 0;
				height: 100px;
				clip: rect(100px, auto, 150px, auto);
				background: #dddddd;
				border-radius: 40em / 10px;
			}
		}

		&.prevPage {
			padding-top: 20px;

			&::after {
				top: 10px;
				left: 50%;
				margin-left: -6px;
				transform: rotate(-90deg);
				-webkit-transform: rotate(-90deg);
			}

			&::before {
				content: '';
				box-shadow: 0 5px 15px 5px rgba(0,0,0,0.2);
				position: absolute;
				right: 0;
				bottom: -100px;
				left: 0;
				height: 100px;
				clip: rect(-10px, auto, 0px, auto);
				background: #dddddd;
				border-radius: 40em / 10px;
			}
		}
	}
}

.course-assessment-header {
	.admin-list-header {
		padding: 0.5em 150px 0.5em 2em;

		.controls {
			top: 0.5em;
			margin-top: 0;
		}

		.page {
			float: right;
			height: 40px;

			.viewing {
				width: 150px;
			}
		}
	}
}

.course-assessment-admin {
	.admin-list-header {
		padding: 0 2em;

		.controls {
			top: 50%;
			margin-top: -19px;//(36 + 2)/2 for the border
		}

		.page {
			width: 615px;
			padding: 15px 0;
		}
	}
}

.course-assessment-admin.performance {

	&.show-final-grade {
		.gradebox {
			display: block;
		}

		.column-names .right{
			display: inline-block
		}
	}

	.button {
		&[href=""], &.hidden {
			display: none;
			& ~ .column-names {
				margin-top: 7em;
			}
		}

		display: inline-block;
		text-decoration: none;
		cursor: pointer;
		background: $primary-blue;
		border-radius: 3px;
		font: italic 600 0.9em/1 $font;
		color: #fff;
		padding: 0.8em 1.5em;
		right: 15px;
		top: 25px;
		margin: 1em 2em;

	}

	& > .tools {
		position: relative;
		overflow: hidden;
	}

	.x-panel.x-grid {
		padding: 0 2em 2em;
		//margin: 0 0 2em 0;
	}



	.x-grid-data-row .x-grid-cell,
	.list > .item {
		box-shadow: inset 0 -1px 0 0 #f7f7f7;
		position: relative;
		overflow: hidden;
		.x-grid-cell-inner {
			line-height: normal;
		}
	}

	.avatar {
		width: 60px;
		height: 60px;
		display: inline-block;
		float: left;
		background: {
			size: cover;
			position: center center;
			repeat: no-repeat;
		}
	}

	.action-items {
		font: normal 600 0.7em/2 $font;
		text-transform: uppercase;
		&:empty {
			color: $tertiary-grey;
			&::after { content: 'No Action Items'; }
		}

		& > div {
			color: $primary-blue;
			display: inline-block;
			&.overdue { color: $primary-red; }

			&::before {
				content: '\00B7';
				margin: 0.5em;
			}
			&:first-of-type::before { content: none; }
		}
	}

	.tools {
		position: relative;

		.toggle-avatar {
			position: absolute;

			top: 1em;
			right: 1em;
			padding: 0.8em 0;
			font: normal 300 0.9em/1 $font;
			color: $primary-blue;
			cursor: pointer;
		}
	}

	&.hide-avatars {
		.avatar {
			display: none;
		}

		.studentbox .wrap {
			margin-left: 5px;
		}
	}

	.studentbox {
		cursor: pointer;
		position: relative;
		overflow: hidden;
		min-height: 60px;

		.wrap {
			margin: 15px 0 0 75px;

			.name {
				color: $secondary-grey !important;
				padding-right: 0.5em;
				overflow: hidden;
				@include ellipsis;

				.accent-name {
					font-weight: normal;
					overflow: hidden;
					@include ellipsis;
				}
			}
		}
	}

	.gradebox {
		display: none;
		margin: 11px 0 9px;
		width: 10.7em;
		font: normal 500 1em/1 $font;
		border: 1px solid #dcdcdc;
		& > * {
			font: normal 500 1em/1 $font;
			padding: 0.7em 1em;
			margin: 0;
			background: #fff;
			color: $secondary-grey;
			position: relative;
		}

		input {
			width: 56%;
			border-width: 0 1px 0 0;
			border-right: { style: solid; color: #dcdcdc; }
		}
		.dropdown {
			width: 44%;
			display: inline-block;
			line-height: 1.35em;

			&:focus{
				background-color: $primary-blue;
				color: white;
			}

			&::after {
				content: '';
				overflow: hidden;
				position: absolute;
				top: 2em;
				right: 1.5em;
				@include arrow($pointFrom:top, $width: 8px, $height: 5px, $color: $secondary-grey);
			}
		}
	}
}

.assignment-filterbar {
	box-shadow: inset 0 -1px 0 0 #f1f1f1;
	background: #fbfbfb;
	color: $secondary-grey;
	z-index: 2;
	position: relative;
	font: normal 500 0.875em/3.5em $font;
	display: flex;

	&.disabled, .disabled & {
		opacity: 0.6;
		pointer-events: none;
	}

	.cell {
		position: relative;
		flex: 1 1 213px;
		padding: 0 2em;
		box-shadow: inset -1px 0 0 0 #f1f1f1;

		&:last-of-type {
			box-shadow: none;
		}
	}


	.create-assignment {
		flex: 0 0 125px;
		background-color: $primary-blue;
		color: white;
		cursor: pointer;
		padding-left: 50px;

		@include icon($notepad_active_white, $side: 'before', $top: 15px, $left: 26px);
	}

	input {
		font: normal 500 1em/2 $font;
		color: $secondary-grey;
		background: none;
		border: 0;
		width: 100%;
	}

	.third {
		position: relative;
		display: inline-block;
		width: 33.3333333333%;
		padding: 0 2em;
		box-shadow: inset -1px 0 0 0 #f1f1f1;
		&:last-of-type {
			box-shadow: none;
		}
	}

	.dropmenu {
		cursor: pointer;
		@include icon($arrow-course-dropdown-light, $top:1.5em, $left:auto, $right:1em);

		&:hover {
			color: $primary-grey;
			&::after {
				@include sprite($arrow-course-dropdown);
			}
		}

		&.disabled{
			cursor: default;
			opacity: 0.5;
			pointer-events: none;

			&:hover {
				color: inherit;
				&::after{
					@include sprite($arrow-course-dropdown-light);
				}
			}
		}
	}

	.search {
		padding-left: 3em;
		@include icon($rhp-search, $top:1.1em, $left:1.5em);
		&:hover {
			color: $primary-grey;
		}

		input:invalid {
			outline: none;
			box-shadow: none;
		}

		input:invalid ~ .clear { display: none; }

		.clear {
			cursor: pointer;
			top: 1.2em; right: 1em;
			position: absolute;
			@include sprite($clear_line);
		}
	}

}

.x-panel-nt.group-by-menu {
	padding: 0;
	height: 150px;

	.x-menu-body{
		padding: 0;
		.x-menu-item.group-by-option{
			font: normal 500 0.9em/3.5em $font;
			line-height: 40px;
			color: $secondary-grey;
			padding: 4px 5px 5px 2em;
			background: #fbfbfb;

			&.x-menu-item-checked{
				color: white !important;
				background: $primary-blue !important;
				box-shadow: inset 0px 0 1px 1px $border-blue,
					inset 3px 0 0 0 $border-blue;
				@include icon($arrow-course-dropdown-white, $top:1.5em, $left:auto, $right:1em);

				&.x-menu-item-active {
					background: $primary-blue !important;
				}
			}

			&.x-menu-item-active{
				color: $primary-grey;
				background: #f0f0f0 !important;
			}
		}
	}
}

.x-panel-nt.letter-grade-menu {
	padding: 0;
	box-shadow: none !important;

	.x-menu-body{
		padding: 0;

		.x-menu-item.letter-grade-option{
			font: normal 500 0.8em/1 $font;
			line-height: 25px;
			padding: 4px 5px 5px 13px;
			background: rgba(255,255,255,1);

			&.x-menu-item-checked{
				background: #f0f0f0;
				color: $primary-grey;

				&::after{
					content: '';
					overflow: hidden;
					position: absolute;
					top: 2.5em;
					right: 1.7em;
					left: auto;
					background: none;
					@include arrow($pointFrom:top, $width: 8px, $height: 5px, $color: $secondary-grey);
				}
			}

			&.x-menu-item-active{
				color: #fff !important;
				background: $primary-blue;
			}
		}
	}
}

.course-performance {
	.x-container.grouping table {
		table-layout: fixed !important;
	}

	.x-grid-body .x-grid-row .x-grid-cell.x-grid-cell-first {
		max-width: 269px;
	}
}

.course-assessment-assignments {
	.show-older-container{
		height: 1em;
		line-height: 1em;
		margin-top: 40px;

		.show-older{
			display: inline-block;
			margin-left: 30px;
			cursor: pointer;
			color: $primary-blue;
			font: normal 500 0.9em/1em $font;
		}
	}

	.scrollzone {
		overflow: {x: hidden; y: auto;}
		position: absolute;//avoid ext's anchor layout
		top: 0; left: 0; right: 0; bottom: 0;
		margin-top: 50px;//toolbar
	}

	.x-container.grouping > .header {
		.title {
			padding-right: 4.5em;
		}
	}
}

.course-assessment-header.assignment-item.hide-avatars {
	.x-grid-body .x-grid-row .x-grid-cell .user-cell .avatar {
		display: none;
	}

	.x-grid-body .x-grid-row .x-grid-cell .user-cell .name {
		margin-left: 5px;
	}
}

.assignment-reader, .course-assessment-header {
	.time-remaining {
		position: fixed;
		z-index: 5;
		top: 92px;
		height: 60px;
		line-height: 60px;
		width: 258px;
		color: white;
		background-color: white;

		html.msg-bar-open & {
			top: 132px;
		}

		&.hidden {
			display: none;
		}

		&.warning-red,
		&.over-time {
			.time{
				background-color: $primary-red;
				color: white;
			}
		}

		&.warning-orange .time{
			background-color: $primary-orange;
			color: white;
		}

		&.over-time {
			&.recent {
				.time {
					font-size: 1.3em;
					.meta{
						padding-left: 0;
						&::after {
							will-change: top, opacity;
							opacity: 0;
							visibility: hidden;
							top: 23px;
						}
					}

					.time-left {
						will-change: top;
						position: relative;
						top: 5px;
					}

					.label {
						will-change: height, font-size, opacity;
						height: 100%;
						display: block;

						@include animate(pulsate, $duration: 3s, $delay: 0.1s, $iteration: 1);
					}
				}
			}

			&:not(.recent) {
				.label {
					display: block;
					height: 1.7em;
					text-align: left;
					margin-top: -1.2em;
					font-size: 0.4em;
					text-transform: uppercase;
					color: rgb(249,171,171);
				}

				.time-left{
					font-size: 0.9em;
				}
			}

			.time .loading-bar {
				display: none;
			}
		}

		&.max-time .time {
			background-color: $secondary-green;
		}

		.time {
			height: 60px;
			text-align: center;
			line-height: 60px;
			font-weight: 300;
			font-size: 1.2em;
			overflow: hidden;
			background-color: $secondary-green;

			.loading-bar {
				position: absolute;
				z-index: 1;
				bottom: 0;
				height: 5px;
				left: 0;
				background-color: rgba(0, 0, 0, 0.3);
			}

			.meta {
				position: relative;
				z-index: 2;
				display: inline-block;
				padding-left: 35px;

				@include icon($timer-white, $position: relative, $top: 16px);

				&::after {
					opacity: 1;
					$transition: top 0.5s 0.3s, opacity 0.1s 0.2s;
					@include experimental(transition, $transition);
				}
			}

			.time-left {
				position: relative;
				top: 0;
				opacity: 1;
				$transition: top 0.5s 0.3s;
				@include experimental(transition, $transition);
			}

			.label {
				display: none;
				$transition: height 0.5s, font-size 0.5s, opacity 0.5s;
				@include experimental(transition, $transition);
			}
		}

		.help {
			line-height: 3em;
			padding: 0 1em;
			color: $primary-blue;
			font-size: 0.9em;
			cursor: pointer;
		}

		.submit {
			padding: 0;
			height: 0px;
			font-size: 0.9em;
			border-bottom: 0px solid #efefef;
			overflow: hidden;

			@include experimental(transition, height 1s);

			.unanswered {
				line-height: 20px;
				height: 20px;
				text-align: left;
				color: $primary-red;

				&.good {
					color: $primary-green;
				}
			}

			.submit-btn {
				display: none;
				height: 40px;
				line-height: 40px;
				margin-top: 10px;
				text-align: center;
				background-color: $primary-blue;
				cursor: pointer;
				border-radius: 3px;
				font-style: italic;

				&.disabled {
					opacity: 0.6;
					cursor: default;
				}
			}
		}

		&.submit-showing {
			.help {
				display: none;
			}

			.submit {
				padding: 10px;
				height: 90px;
				border-bottom-width: 1px;

				.submit-btn {
					display: block;
				}
			}
		}
	}
}

.course-assessment-header {
	font-size: 16px;//force a base em size

	&.assignment-item {

		.toolbar {
			padding: 0 17px 0 0;
			font: normal normal 12px $font;
			color: $primary-grey;
			height: 50px;
			white-space: nowrap;

			.sticky .toolbar {
				padding-left: 17px;
			}

			&.disabled {
				opacity: 0.6;
				pointer-events: none;
			}

			.path-items {
				position: relative;
				overflow: hidden;
				text-overflow: ellipsis;
				width: 520px;
				display: inline-block;

				.toc {
					display: none;
				}

				.path.current {
					position: relative;
					top: 0;
					@include experimental(transition, top 0.25s);
				}

				&.show-toast {
					.path.current {
						top: -8px;

						&::before {
							position: relative;
							top: 8px
						}
					}

					.header-toast {
						opacity: 1;

						&.changing {
							opacity: 0;
						}
					}
				}

				.header-toast {
					position: absolute;
					bottom: 13px;
					font-weight: 600;
					padding: 8px;
					color: #fa8700;
					line-height: 1.2em;
					opacity: 0;
					transition-property: opacity;
					transition-duration: 0.25s;

					&.saving {
						@include loadingEllipse($animation-delay: 0.2s);
					}

					&.saved {
						color: $secondary-green;
					}

					&.error {
						color: $primary-red;
					}
				}


			}

			.path.part {
				font-weight: 600;
				cursor: pointer;
				color: $primary-blue;

				&.current {
					color: $primary-grey;
				}


				&:last-of-type {
					cursor: default;

					&::after {
						content: none;
					}
				}
			}

			.right.controls {
				display: inline-block;
				line-height: 0;
				float: right;
			}

			.page {
				vertical-align: top;
				line-height: 49px;
				display: inline-block;
				font-style: italic;
				color: $primary-grey;
				margin-right: 25px;
				span {
					font-weight: 600;
				}
			}

			.up, .down {
				cursor: pointer;
				display: inline-block;
				width: 40px;
				height: 50px;
				line-height: 0;
				opacity: 0.65;

				&.disabled {
					cursor: default;
				}
				&:not(.disabled):hover {
					opacity: 1;
				}
			}

			.up {
				@include icon($arrow-up, $top: 19px, $left: 10px);

				&.disabled::after {
					@include sprite($arrow-up_inactive);
				}
			}

			.down {
				@include icon($arrow-down, $top: 19px, $left: 10px);

				&.disabled::after {
					@include sprite($arrow-down_inactive);
				}
			}
		}

		&.student-reader-header{
			text-transform: uppercase;

			&.submitted{
				.header{
					display: block;
				}
			}


			&.ontime{
				.header::before{
					@include sprite($assignment_ontime);
				}
			}

			&.nosubmit{
				.header::before{
					@include sprite($assignment_due);
				}
			}

			.header{
				padding-left: 80px;
				min-height: 70px;
				display: none;
				overflow: hidden;

				@include icon($assignment_late, $side:'before', $top:16px, $left:30px);

				.quiz-container{
					width: 525px;
					float: left;

					.title{
						text-transform: none;
						font-size: 1em;
						font-weight: 600;
						line-height: 1.3;
						color: $primary-grey;
					}

					.turned-in{
						font: normal 700 1em/1 $font;
						line-height: 2.5;
						margin-top: 0.3em;
					}
				}

				.grade-container{
					width: 130px;
					float: left;

					.title{
						color: $secondary-grey;
						font-size: 0.6em;
						font-weight: 700;
						line-height: 1.7;
					}

					.grade{
						color: $secondary-grey;
						width: 50%;
						line-height: 2.4;

						.grade-value {
							padding-right: 0.3rem;
						}

						.total-points {
							font-weight: 700;
							color: $primary-grey;
						}
					}

				}
			}
		}

		&:not(.performance-header).reader-header {
			.toolbar {
				height: 60px;
				line-height: 59px;

				.page {
					line-height: 59px;
				}

				.up, .down {
					height: 60px;
					&::after {
						top: 24px;
					}
				}
			}

			.header {

				.status {
					right: 9.7em;
				}

				.grade {
					width: 9.7em;

					.label {
						line-height: 2.6;
					}

					.gradebox {
						width: 8.1em;
						height: 2.9em;
						display: flex;
						background: none;
						align-items: center;

						input {
							width: 100%;
							border-width: 0;
							flex: 1 1 auto;
							text-align: right;
						}

						.total-points {
							flex: 0 0 auto;
							padding: 0 0 0 0.5rem;
							background: none;
						}
					}
				}
			}
		}

		.header {
			background: #f8f8f8;
			position: relative;
			padding: 15px 30px;
			border-bottom: 1px solid #dddddd;
			&::after {
				content: '';
				box-shadow: 0 -5px 15px 5px rgba(0, 0, 0, 0.2);
				position: absolute;
				right: 0;
				bottom: 0;
				left: 0;
				height: 100px;
				clip: rect(100px, auto, 150px, auto);
				background: #dddddd;
				border-radius: 40em / 10px;
			}

			.user {
				overflow: hidden;
				position: relative;
				margin: -15px 21em -15px -30px;
			}

			.avatar {
				width: 120px;
				height: 120px;
				float: left;
				background: {
					size: cover;
					position: center center;
					repeat: no-repeat;
				};

				& + .wrap {
					margin: 2em 20px 0 135px;

				}
			}

			.controls,
			.status,
			.grade,
			.predicted {
				float: right;
			}

			.status {
				position: absolute;
				top: 50%;
				right: 15em;
				@include experimental('transform', translateY(-50%));
				padding-right: 0.5em;

				.status-item{
					font: normal 600 0.6em/1 $font;
					text-transform: uppercase;
					text-align: right;

					&:last-of-type:not(:first-of-type) {
						margin-top: 0.5em;
					}

					.nosubmit {
						color: $tertiary-grey;
					}

					.late {
						color: $primary-red;
					}

					.ontime {
						color: $secondary-green;
					}

                    .excused{
                        &.on{
                            display: block;
                            color: $primary-red;
                        }

                        &.off{
                            display: none;
                        }
                    }
				}
			}

			.assignment-actions {
				right: 40px;
				top: 50%;
				height: 10px;
				@include experimental('transform', translateY(-50%));
				cursor: pointer;

				@include icon($more-options, $position: absolute);

				&.disabled {
					display: none;
				}

				&:hover {
					@include icon($more-options_active, $position: absolute);
				}
			}

			.grade, .predicted {
				width: 15em;
				font-size: 0.8em;
				position: relative;

				.late {
					position: absolute;
					left: -11em;
					text-align: right;
					width: 10em;
					line-height: 3;
					color: $primary-red;

					&.good{
						color: $primary-green;
					}
				}

				.label {
					color: $tertiary-grey;
					font: normal 700 0.8em/3 $font;
					text-transform: uppercase;
				}

				.gradebox {
					overflow: hidden;
					height: 2.859em;
					width: 10.5em;
					font: normal 500 1em/1 $font;
					background: #fff;
					& > * {
						font: normal 500 1em/1 $font;
						padding: 0.7em 1em;
						margin: 0;
						background: #fff;
						color: $secondary-grey;
						position: relative;
					}

					input {
						width: 56%;
						border: 1px solid #dcdcdc !important;
					}
					input:focus {
					    border-color: #B8B8B9 !important;
					}
					.dropdown {
						width: 44%;
						display: inline-block;
						padding-top: 0.8em;
						&::after {
							content: '';
							overflow: hidden;
							position: absolute;
							top: 1.8em;
							right: 1.5em;
							@include arrow($pointFrom:top, $width: 8px, $height: 5px, $color: $secondary-grey);
						}
					}
				}
			}

			.predicted {
				width: 100px;

				.label {
					padding-right: 5px;
					@include icon($info, $left: auto, $right: -12px, $top: 7px);
				}

				&.hidden {
					display: none;
				}
			}

			.title {
				font: normal 300 1.3em/1 $font;
				color: $primary-grey;

				&.name {
					text-transform: uppercase;
					font: normal bold 1.2em/1 'Open Sans Condensed', $font;
					display: inline-block;
					position: relative;
					max-width: 100%;
					@include presence-style-sudo($x:-1em, $y:0.3em, $xSide:'right');

					div {
						max-width: 100%;
						overflow: hidden;
						@include ellipse();
					}
				}
			}

			.subtitle {
				font: normal 600 0.6em/1 $font;
				text-transform: uppercase;
				color: $tertiary-grey;
				margin-top: 1em;

				&.actions {
					margin-top: 0.5em;
					font-size: 0.8em;
					font-weight: normal;
					text-transform: none;
				}

				span {
					&.link { color: $primary-blue; cursor: pointer; }


					&::before {
						content: '\00B7';
						margin: 0.5em;
						color: $tertiary-grey;
					}
					&:first-of-type::before {
						content: none;
					}
				}
			}

			.button {
				&.hidden {
					display: none;
				}
				display: inline-block;
				cursor: pointer;
				width: 42px;
				height: 36px;
				overflow: hidden;
				text-indent: 100px;
				white-space: nowrap;

				&.email {
					@include icon($mail, $left: 10px, $top: 10px);
					&:target,
					&:hover {
						&::after {
							@include sprite-position($mail_hover);
						}
					}
					&:active{
						&::after {
							@include sprite-position($mail_active);
						}
					}
				}



				&.download {
					@include icon($download, $left: 11px, $top: 8px);
					&:target,
					&:hover {
						&::after {
							@include sprite-position($download_hover);
						}
					}
					&:active{
						&::after {
							@include sprite-position($download_active);
						}
					}
				}
			}

			.controls {
				background: #fff;
				border: 1px solid #e3e3e3;
				border-radius: 3px;
				white-space: nowrap;
				line-height: 0;
			}
		}
	}
}

.nti-header {

	.grade {float: left; box-shadow: 1px 0 0 0 #eaeaea, 2px 0 0 0 #fff; }
	.performance {
		width: 545px;
	}

	.label {
		position: absolute;
		top: 28px;
		left: 30px;
		font: normal 700 0.6em/1 $font;
		color: $tertiary-grey;
		text-transform: uppercase;
		z-index: 1;

		.disclaimer {
			margin-left: 0.5em;
			width: 16px;
			height: 18px;
			display: inline-block;
			@include icon($info, $top: -7px, $position: absolute);
		}
	}

	.grade-value, .assignments-completed {
		position: absolute;
		top: 3.125em;
		left: 30px;

		font: italic normal 1em/1 $font;
		color: $secondary-grey;
	}

	.assignments-completed {
		left: 385px;
		& + .label {
			left: 385px;
		}
	}
}


// Grid Styles

.x-container-course-assessment.grade > .body { margin-top: 0; }

.student-assignment-overview,
.course-assessment-admin {
	.x-grid-header-ct {
		position: static !important;
	}

	.x-grid-body {
		top: 0 !important;
	}
}


.x-grid-body {
	.x-grid-row .x-grid-cell {
		.late, .ontime, .incomplete {
			font-weight: 600;
		}
		.late {
			color: $primary-red;
		}
		.ontime {
			color: $primary-green;
		}
		.incomplete {
			color: $tertiary-grey;
		}

        &.feedback{
            padding-left: 10px;

            .x-grid-cell-inner {
                line-height: 30px;

                .grade-excused{
                    &.off{
                        display: none;
                    }

                    &.on{
                        display: block;
                        color: $primary-red;
                    }
                }
            }

        }
	}
}


.admin-paged-grid {
	&.disabled {
		.x-grid-header-ct {
			pointer-events: none;

			.x-box-inner::before {
				content: '';
				display: block;
				position: absolute;
				top: 0; bottom: 0;
				left: 0; right: 0;
			}
		}
	}
}


.full-assignment-editor {
	padding-top: 20px;
}
